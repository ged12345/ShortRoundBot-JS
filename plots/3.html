<!DOCTYPE html>
<html>
    <head>
        <script src="js/plotly-latest.min.js"></script>
        <meta charset="utf-8" />
        <title>SRBot | Ripple</title>
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl"
            crossorigin="anonymous"
        />
    </head>

    <body style="background: #212529; overflow: hidden">
        <div id="plotDiv1" class="mt-3" style="width: 100%; height: 1000px">
            <!-- Plotly chart will be drawn inside this DIV -->
        </div>
        <script id="javascript">

            graphOptions = {
                filename: "coin-axes",
                fileopt: "overwrite",
                layout: {
                    plot_bgcolor: "#212529",
                    paper_bgcolor: "#212529",
                    title: {
                        text: "ShortRoundBot | Ripple",
                        font: {
                            family: "Avenir Light",
                            size: 36,
                            color: "white"
                        },
                    },
                    legend: {
                        font: {
                            family: "Avenir Light",
                            size: 14,
                            color: "white",
                        },
                        visible: false,
                    },
                    grid: {
                        rows: 3,
                        columns: 1,
                        pattern: "independent",
                        roworder: "top to bottom",
                    },
                    xaxis: {
                        visible: true,
                        range: [0, 31],
                        rangeslider: {
                            visible: false
                        },
                        showgrid: false,
                        showticklabels: false,
                        color: "white",
                        gridcolor: "rgba(255,255,255,0.05)",
                    },
                    yaxis: {
                        autorange: false,
                        range: [0.5875557312461166, 0.5932906749556766],
                        domain: [0.5, 1],
                        type: 'linear',
                        color: "white",
                        showgrid: true,
                        gridcolor: "rgba(255,255,255,0.05)",
                    },
                    xaxis2: {
                        range: [0, 31], zeroline: false, color: "white", gridcolor: "rgba(255,255,255,0.05)", showgrid: true, showticklabels: false,
                    },
                    yaxis2: {
                        range: [0.5893, 0.5908], domain: [0.3, 0.45], zeroline: false, gridcolor: "rgba(255,255,255,0.05)", color: "white",
                        title: {
                            text: "SMA",
                            font: {
                                family: "Avenir Light",
                                size: 24,
                                color: "white"
                            },
                        },
                    },
                    xaxis3: {
                        range: [0, 31], color: "white", zeroline: false,
                        gridcolor: "rgba(255,255,255,0.05)",
                    },
                    yaxis3: {
                        range: [-2, 105], color: "white", domain: [0.1, 0.25],
                        gridcolor: "rgba(255,255,255,0.05)",
                        title: {
                            text: "Stoch. - F",
                            font: {
                                family: "Avenir Light",
                                size: 24,
                                color: "white"
                            },
                        },
                    },
                    shapes: [
                        {
                            type: "line",
                            xref: "paper",
                            yref: "y2",
                            x0: 0,
                            y0: 50.0,
                            x1: 1,
                            y1: 50.0,
                            line: {
                                color: "rgba(0, 0, 255, 0.4)",
                                width: 2,
                                dash: "dot",
                            },
                            opacity: 0.5,
                            layer: "below",
                        },
                        {
                            type: "line",
                            xref: "paper",
                            yref: "y2",
                            x0: 0,
                            y0: 66.66,
                            x1: 1,
                            y1: 66.66,
                            line: {
                                color: "rgb(255, 0, 0)",
                                width: 2,
                                dash: "dot",
                            },
                            opacity: 0.5,
                            layer: "below",
                        },
                        {
                            type: "line",
                            xref: "paper",
                            yref: "y2",
                            x0: 0,
                            y0: 33.33,
                            x1: 1,
                            y1: 33.33,
                            line: {
                                color: "rgb(255, 0, 0)",
                                width: 2,
                                dash: "dot",
                            },
                            opacity: 0.5,
                            layer: "below",
                        },
                        {
                            type: "line",
                            xref: "paper",
                            yref: "y3",
                            x0: 0,
                            y0: 20,
                            x1: 1,
                            y1: 20,
                            line: {
                                color: "rgb(255, 0, 0)",
                                width: 2,
                                dash: "dot",
                            },
                            opacity: 0.5,
                            layer: "below",
                        },
                        {
                            type: "line",
                            xref: "paper",
                            yref: "y3",
                            x0: 0,
                            y0: 80,
                            x1: 1,
                            y1: 80,
                            line: {
                                color: "rgb(255, 0, 0)",
                                width: 2,
                                dash: "dot",
                            },
                            opacity: 0.5,
                            layer: "below",
                        },
                        {
                            type: "line",
                            xref: "paper",
                            yref: "y3",
                            x0: 0,
                            y0: 50.0,
                            x1: 1,
                            y1: 50.0,
                            line: {
                                color: "rgba(0, 0, 255, 0.4)",
                                width: 2,
                                dash: "dot",
                            },
                            opacity: 0.5,
                            layer: "below",
                        },
                    ],
                },
            };

            init();

            function init(
            ) {

                this.data = [
                    {

                        x: ["14:34:00","14:35:00","14:36:00","14:37:00","14:38:00","14:39:00","14:40:00","14:41:00","14:42:00","14:43:00","14:44:00","14:45:00","14:46:00","14:47:00","14:48:00","14:49:00","14:50:00","14:51:00","14:52:00","14:53:00","14:54:00","14:55:00","14:56:00","14:57:00","14:58:00","14:59:00","15:00:00","15:01:00","15:02:00","15:03:00","15:04:00","15:05:00"],

                        close: ["0.58894000","0.58895000","0.58895000","0.58895000","0.58895000","0.58895000","0.58903000","0.58899000","0.58899000","0.58899000","0.58899000","0.58969000","0.59017000","0.59017000","0.59017000","0.59179000","0.59179000","0.59179000","0.59179000","0.59093000","0.59091000","0.59091000","0.59000000","0.58943000","0.58943000","0.58943000","0.59122000","0.59242000","0.59242000","0.59242000","0.59271000","0.59271000"],

                        high: ["0.58898000","0.58896000","0.58895000","0.58895000","0.58895000","0.58895000","0.58903000","0.58912000","0.58899000","0.58899000","0.58899000","0.58969000","0.59017000","0.59017000","0.59017000","0.59179000","0.59179000","0.59179000","0.59179000","0.59093000","0.59091000","0.59091000","0.59000000","0.58944000","0.58943000","0.58943000","0.59122000","0.59242000","0.59271000","0.59242000","0.59271000","0.59271000"],

                        increasing: { line: { color: '#336137', width: 1, dash: "solid" } },
                        decreasing: { line: { color: 'rgb(226, 65, 93)', width: 1 } },

                        line: { color: 'rgba(31,119,180,1)' },

                        low: ["0.58894000","0.58895000","0.58895000","0.58895000","0.58895000","0.58895000","0.58894000","0.58899000","0.58899000","0.58899000","0.58899000","0.58957000","0.59017000","0.59017000","0.59017000","0.59179000","0.59179000","0.59179000","0.59179000","0.59091000","0.59091000","0.59091000","0.59000000","0.58943000","0.58943000","0.58943000","0.58977000","0.59242000","0.59242000","0.59242000","0.59271000","0.59271000"],

                        open: ["0.58898000","0.58896000","0.58895000","0.58895000","0.58895000","0.58895000","0.58894000","0.58912000","0.58899000","0.58899000","0.58899000","0.58957000","0.59017000","0.59017000","0.59017000","0.59179000","0.59179000","0.59179000","0.59179000","0.59091000","0.59091000","0.59091000","0.59000000","0.58944000","0.58943000","0.58943000","0.58977000","0.59242000","0.59242000","0.59242000","0.59271000","0.59271000"],
                        type: 'candlestick',
                        name: "Ripple",
                        xaxis: 'x1',
                        yaxis: 'y1'
                    },
                    {
                        x: ["14:34:00","14:35:00","14:36:00","14:37:00","14:38:00","14:39:00","14:40:00","14:41:00","14:42:00","14:43:00","14:44:00","14:45:00","14:46:00","14:47:00","14:48:00","14:49:00","14:50:00","14:51:00","14:52:00","14:53:00","14:54:00","14:55:00","14:56:00","14:57:00","14:58:00","14:59:00","15:00:00","15:01:00","15:02:00","15:03:00","15:04:00","15:05:00"],
                        y: ["0.58919158730158740000","0.58914650793650790000","0.58910126984126990000","0.58905000000000010000","0.58900523809523820000","0.58896047619047630000","0.58892730158730180000","0.58892539682539690000","0.58893349206349230000","0.58894158730158750000","0.58897492063492090000","0.58905269841269860000","0.58911936507936520000","0.58919285714285730000","0.58925190476190490000","0.58938603174603190000","0.58949888888888900000","0.58961174603174600000","0.58972460317460320000","0.58980634920634910000","0.58989825396825390000","0.58999142857142840000","0.59004126984126970000","0.59006428571428560000","0.59008714285714270000","0.59011000000000000000","0.59019507936507930000","0.59035793650793660000","0.59052380952380960000","0.59068714285714300000","0.59086428571428570000","0.59104142857142870000"],
                        xaxis: "x1",
                        yaxis: "y1",
                        type: "scatter",
                        mode: "lines",
                        name: "Boll. MA",
                        line: { shape: "spline", smoothing: 0.35, color: "rgba(160, 255, 160, 0.6)", dash: "dot", },
                    },
                    {
                        x: ["14:34:00","14:35:00","14:36:00","14:37:00","14:38:00","14:39:00","14:40:00","14:41:00","14:42:00","14:43:00","14:44:00","14:45:00","14:46:00","14:47:00","14:48:00","14:49:00","14:50:00","14:51:00","14:52:00","14:53:00","14:54:00","14:55:00","14:56:00","14:57:00","14:58:00","14:59:00","15:00:00","15:01:00","15:02:00","15:03:00","15:04:00","15:05:00"],
                        y: ["0.59032283387986360000","0.59023212196696680000","0.59013133049157670000","0.58999052332612460000","0.58986297862760320000","0.58971600546839740000","0.58963159100420830000","0.58962918250706020000","0.58963640082401790000","0.58964324455587510000","0.58961436909341130000","0.58953129234725590000","0.58977583816799860000","0.58994986641528980000","0.59010371143197430000","0.59075268613456140000","0.59120624312963740000","0.59157655617818880000","0.59189347510308980000","0.59202234424551450000","0.59212944331380300000","0.59221909138986680000","0.59221964969233110000","0.59220608354769190000","0.59219072968706450000","0.59217365635487610000","0.59224180475146030000","0.59253454728322920000","0.59277199669978740000","0.59295818545188230000","0.59315205542503750000","0.59329067495567660000"],
                        xaxis: "x1",
                        yaxis: "y1",
                        type: "scatter",
                        mode: "lines",
                        name: "Boll. U",
                        line: { shape: "spline", smoothing: 0.35, color: "rgba(160, 255, 160, 0.7)", dash: "dashed", },
                    },
                    {
                        x: ["14:34:00","14:35:00","14:36:00","14:37:00","14:38:00","14:39:00","14:40:00","14:41:00","14:42:00","14:43:00","14:44:00","14:45:00","14:46:00","14:47:00","14:48:00","14:49:00","14:50:00","14:51:00","14:52:00","14:53:00","14:54:00","14:55:00","14:56:00","14:57:00","14:58:00","14:59:00","15:00:00","15:01:00","15:02:00","15:03:00","15:04:00","15:05:00"],
                        y: ["0.58806034072331110000","0.58806089390604900000","0.58807120919096300000","0.58810947667387560000","0.58814749756287320000","0.58820494691255520000","0.58822301217039530000","0.58822161114373360000","0.58823058330296670000","0.58823993004729990000","0.58833547217643050000","0.58857410447814130000","0.58846289199073190000","0.58843584787042480000","0.58840009809183560000","0.58801937735750230000","0.58779153464814060000","0.58764693588530330000","0.58755573124611660000","0.58759035416718370000","0.58766706462270480000","0.58776376575298990000","0.58786288999020830000","0.58792248788087930000","0.58798355602722090000","0.58804634364512400000","0.58814835397869840000","0.58818132573264390000","0.58827562234783170000","0.58841610026240370000","0.58857651600353400000","0.58879218218718090000"],
                        xaxis: "x1",
                        yaxis: "y1",
                        type: "scatter",
                        mode: "lines",
                        name: "Boll. U",
                        line: { shape: "spline", smoothing: 0.35, color: "rgba(160, 255, 160, 0.7)", dash: "dashed", },
                    },
                    {
                        x: ["14:34:00","14:35:00","14:36:00","14:37:00","14:38:00","14:39:00","14:40:00","14:41:00","14:42:00","14:43:00","14:44:00","14:45:00","14:46:00","14:47:00","14:48:00","14:49:00","14:50:00","14:51:00","14:52:00","14:53:00","14:54:00","14:55:00","14:56:00","14:57:00","14:58:00","14:59:00","15:00:00","15:01:00","15:02:00","15:03:00","15:04:00","15:05:00"],
                        y: ["0.5896","0.5896","0.5895","0.5895","0.5895","0.5894","0.5894","0.5894","0.5894","0.5893","0.5893","0.5893","0.5894","0.5894","0.5895","0.5896","0.5898","0.5899","0.5900","0.5900","0.5901","0.5901","0.5901","0.5901","0.5901","0.5900","0.5901","0.5902","0.5904","0.5905","0.5906","0.5908"],
                        xaxis: "x2",
                        yaxis: "y2",
                        type: "scatter",
                        mode: "lines",
                        name: "%rsi_title%",
                        line: { shape: "spline", smoothing: 0.65, color: "rgba(160, 255, 160, 0.8)" },
                    },
                    {
                        x: ["14:34:00","14:35:00","14:36:00","14:37:00","14:38:00","14:39:00","14:40:00","14:41:00","14:42:00","14:43:00","14:44:00","14:45:00","14:46:00","14:47:00","14:48:00","14:49:00","14:50:00","14:51:00","14:52:00","14:53:00","14:54:00","14:55:00","14:56:00","14:57:00","14:58:00","14:59:00","15:00:00","15:01:00","15:02:00","15:03:00","15:04:00","15:05:00"],
                        y: ["69.811320754716981132075500","70.440251572327044025157200","70.440251572327044025157200","70.440251572327044025157200","42.682926829268292682926800","42.682926829268292682926800","27.777777777777777777777800","20.370370370370370370370400","10.416666666666666666666700","10.416666666666666666666700","10.416666666666666666666700","100.000000000000000000000000","100.000000000000000000000000","100.000000000000000000000000","100.000000000000000000000000","100.000000000000000000000000","100.000000000000000000000000","100.000000000000000000000000","100.000000000000000000000000","69.824561403508771929824600","68.571428571428571428571400","68.571428571428571428571400","36.071428571428571428571400","15.714285714285714285714300","0.000000000000000000000000","0.000000000000000000000000","75.847457627118644067796600","100.000000000000000000000000","91.158536585365853658536600","91.158536585365853658536600","100.000000000000000000000000","100.000000000000000000000000"],
                        xaxis: "x3",
                        yaxis: "y3",
                        type: "scatter",
                        mode: "lines",
                        name: "S1. kFast",
                        line: { shape: "spline", smoothing: 0.65, color: "rgba(255, 160, 160, 0.8)" },
                    },
                    {
                        x: ["14:34:00","14:35:00","14:36:00","14:37:00","14:38:00","14:39:00","14:40:00","14:41:00","14:42:00","14:43:00","14:44:00","14:45:00","14:46:00","14:47:00","14:48:00","14:49:00","14:50:00","14:51:00","14:52:00","14:53:00","14:54:00","14:55:00","14:56:00","14:57:00","14:58:00","14:59:00","15:00:00","15:01:00","15:02:00","15:03:00","15:04:00","15:05:00"],
                        y: ["67.293582218639527044025300","68.655286013776581341719000","70.230607966457024675052300","70.440251572327041341719000","61.187809991307457560975700","51.935368410287874227642300","37.714543812104785925926000","30.277024992472146790123500","19.521604938271605555555600","13.734567901234567555555600","10.416666666666666222222200","40.277777777777777333333300","70.138888888888888666666700","100.000000000000000000000000","100.000000000000000000000000","100.000000000000000000000000","100.000000000000000000000000","100.000000000000000000000000","100.000000000000000000000000","89.941520467836257309941700","79.465329991645780476190300","68.989139515455303809523700","57.738095238095237142857000","40.119047619047618095238000","17.261904761904761333333300","5.238095238095238000000000","25.282485875706214689265500","58.615819209039546666666700","89.001998070828164552845700","94.105691056910567886179000","94.105691056910566666666700","97.052845528455283333333300"],
                        xaxis: "x3",
                        yaxis: "y3",
                        type: "scatter",
                        mode: "lines",
                        name: "S1. dSlow",
                        line: { shape: "spline", smoothing: 0.65, color: "rgba(160, 160, 255, 0.8)" },
                    },
                    {
                        x: ["14:34:00","14:35:00","14:36:00","14:37:00","14:38:00","14:39:00","14:40:00","14:41:00","14:42:00","14:43:00","14:44:00","14:45:00","14:46:00","14:47:00","14:48:00","14:49:00","14:50:00","14:51:00","14:52:00","14:53:00","14:54:00","14:55:00","14:56:00","14:57:00","14:58:00","14:59:00","15:00:00","15:01:00","15:02:00","15:03:00","15:04:00","15:05:00"],
                        y: ["67.293582218639530000000000","68.655286013776570000000000","70.230607966457030000000000","70.440251572327040000000000","61.187809991307460000000000","51.935368410287870000000000","37.714543812104786000000000","30.277024992472146000000000","19.521604938271604000000000","13.734567901234568000000000","10.416666666666666000000000","40.277777777777780000000000","70.138888888888890000000000","100.000000000000000000000000","100.000000000000000000000000","100.000000000000000000000000","100.000000000000000000000000","100.000000000000000000000000","100.000000000000000000000000","89.941520467836260000000000","79.465329991645770000000000","68.989139515455300000000000","57.738095238095234000000000","40.119047619047620000000000","17.261904761904763000000000","5.238095238095238000000000","25.282485875706215000000000","58.615819209039540000000000","89.001998070828170000000000","94.105691056910570000000000","94.105691056910570000000000","97.052845528455280000000000"],
                        xaxis: "x3",
                        yaxis: "y3",
                        type: "scatter",
                        mode: "lines",
                        name: "S2. kFull",
                        line: { shape: "spline", smoothing: 0.65, color: "d3a0ffcc" },
                    },
                    {
                        x: ["14:34:00","14:35:00","14:36:00","14:37:00","14:38:00","14:39:00","14:40:00","14:41:00","14:42:00","14:43:00","14:44:00","14:45:00","14:46:00","14:47:00","14:48:00","14:49:00","14:50:00","14:51:00","14:52:00","14:53:00","14:54:00","14:55:00","14:56:00","14:57:00","14:58:00","14:59:00","15:00:00","15:01:00","15:02:00","15:03:00","15:04:00","15:05:00"],
                        y: ["69.244723222857593333333300","68.246121779890073333333300","68.726492066291043333333300","69.775381850853546666666700","67.286223176697176666666700","61.187809991307456666666700","50.279240737900038666666700","39.975645738288267333333300","29.171057914282845333333300","21.177732610659439333333300","14.557613168724279333333300","21.476337448559671333333300","40.277777777777778666666700","70.138888888888890000000000","90.046296296296296666666700","100.000000000000000000000000","100.000000000000000000000000","100.000000000000000000000000","100.000000000000000000000000","96.647173489278753333333300","89.802283486494010000000000","79.465329991645776666666700","68.730854915065434666666700","55.615427457532718000000000","38.373015873015872333333300","20.873015873015873666666700","15.927495291902072000000000","29.712133440946997666666700","57.633434385191308333333300","80.574502778926093333333300","92.404460061549770000000000","95.088075880758806666666700"],
                        xaxis: "x3",
                        yaxis: "y3",
                        type: "scatter",
                        mode: "lines",
                        name: "S2. dFull",
                        line: { shape: "spline", smoothing: 0.65, color: "fff0a0cc" },
                    }
                ];
                plot();
            }

            function plot() {
                Plotly.newPlot("plotDiv1", this.data, this.graphOptions["layout"]);
            }

            var stochasticFast = true;
            let stoPlot = document.querySelector(".cartesianlayer .x3y3 .plot .scatterlayer");
            let stoPlot2 = document.querySelectorAll(".cartesianlayer .x3y3 .plot .scatterlayer .trace");
            let stoTitle = document.querySelector(".infolayer .g-y3title text");

            stoPlot2.forEach(function (elem) {
                elem.addEventListener('mouseenter', (e) => {
                    //setTimeout(() => {
                    console.log("hey");
                    let hoverText = document.querySelector(".main-svg .hoverlayer .hovertext");
                    if (!stochasticFast) {
                        if (hoverText.childNodes[0].innerHTML === "Stoc. - kFast") {
                            hoverText.childNodes[0].style.visibility = "hidden";
                            hoverText.childNodes[1].style.visibility = "hidden";
                        }

                    } else {
                        stoTitle.innerHTML = "Stoch. - Fast";
                        if (hoverText.childNodes[0].innerHTML === "Stoc. - kFast") {
                            hoverText.childNodes[2].style.visibility = "hidden";
                            hoverText.childNodes[3].style.visibility = "hidden";
                        }
                    }
                    //}, 1000);
                });
            });

            /*stoPlot.addEventListener('mouseenter', (e) => {
                //setTimeout(() => {

                    let hoverText = document.querySelector(".main-svg .hoverlayer .hovertext");
                    if(!stochasticFast) {
                        if(hoverText.childNodes[0].innerHTML === "Stoc. - kFast") {
                            hoverText.childNodes[0].style.visibility = "hidden";
                            hoverText.childNodes[1].style.visibility = "hidden";
                        }

                    } else {
                        stoTitle.innerHTML= "Stoch. - Fast";
                        if(hoverText.childNodes[0].innerHTML === "Stoc. - kFast") {
                            hoverText.childNodes[2].style.visibility = "hidden";
                            hoverText.childNodes[3].style.visibility = "hidden";
                        }
                    }
                //}, 1000);
            });*/

            document.addEventListener('keydown', (e) => {

                // Only accept 'F'
                if (e.code !== 'KeyS') {
                    return;
                }

                /* Show only fast or full Stochastics on keypress */
                stochasticFast = !stochasticFast;

                if (!stochasticFast) {
                    stoPlot.childNodes[0].style.visibility = "hidden";
                    stoPlot.childNodes[1].style.visibility = "hidden";
                    stoPlot.childNodes[2].style.visibility = "visible";
                    stoPlot.childNodes[3].style.visibility = "visible";
                    stoTitle.innerHTML = "Stoch. - Full";
                } else {
                    stoPlot.childNodes[0].style.visibility = "visible";
                    stoPlot.childNodes[1].style.visibility = "visible";
                    stoPlot.childNodes[2].style.visibility = "hidden";
                    stoPlot.childNodes[3].style.visibility = "hidden";
                    stoTitle.innerHTML = "Stoch. - Fast";
                }
            });

            /* Only have fast k and slow d showing initially */
            stoPlot.childNodes[2].style.visibility = "hidden";
            stoPlot.childNodes[3].style.visibility = "hidden";
            stoTitle.innerHTML = "Stoch. - Fast";
        </script>
    </body>
</html>
