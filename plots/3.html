<!DOCTYPE html>
<html>
    <head>
        <script src="js/plotly-latest.min.js"></script>
        <meta charset="utf-8" />
        <title>SRBot | Ripple</title>
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl"
            crossorigin="anonymous"
        />
    </head>

    <body style="background: #212529; overflow: hidden">
        <div id="plotDiv1" class="mt-3" style="width: 100%; height: 1000px">
            <!-- Plotly chart will be drawn inside this DIV -->
        </div>
        <script id="javascript">

            graphOptions = {
                filename: "coin-axes",
                fileopt: "overwrite",
                layout: {
                    plot_bgcolor:"#212529",
                    paper_bgcolor: "#212529",
                    title: {
                        text:"ShortRoundBot | Ripple",
                        font: {
                            family: "Avenir Light",
                            size: 36,
                            color: "white"
                        },
                    },
                    legend: {
                        font: {
                            family: "Avenir Light",
                            size: 14,
                            color: "white",
                        },
                        visible: false,
                    },
                    grid: {
                        rows: 3,
                        columns: 1,
                        pattern: "independent",
                        roworder: "top to bottom",
                    },
                    xaxis: {
                        visible: true,
                        range: [0, 31],
                        rangeslider: {
                            visible: false
                        },
                        showgrid: false,
                        showticklabels: false,
                        color: "white",
                        gridcolor: "rgba(255,255,255,0.05)",
                    },
                    yaxis: {
                        autorange: false,
                        range: [0.4776422926822769, 0.49176233049745244],
                        domain: [0.5, 1],
                        type: 'linear',
                        color: "white",
                        showgrid: true,
                        gridcolor: "rgba(255,255,255,0.05)",
                    },
                    xaxis2: {
                        range: [0, 31] , zeroline: false, color: "white", gridcolor: "rgba(255,255,255,0.05)", showgrid: true, showticklabels: false,
                    },
                    yaxis2: {
                        range: [-2, 105], domain: [0.3, 0.45], zeroline: false, gridcolor: "rgba(255,255,255,0.05)", color: "white",
                        title : {
                            text: "RSI",
                            font: {
                                family: "Avenir Light",
                                size: 24,
                                color: "white"
                            },
                        },
                    },
                    xaxis3: {
                        range: [0, 31], color: "white", zeroline: false,
                        gridcolor: "rgba(255,255,255,0.05)",
                        },
                    yaxis3: {
                        range: [-2, 105], color: "white", domain: [0.1, 0.25],
                        gridcolor: "rgba(255,255,255,0.05)",
                        title : {
                            text: "Stoch. - F",
                            font: {
                                family: "Avenir Light",
                                size: 24,
                                color: "white"
                            },
                        },
                    },
                    shapes: [
                        {
                            type: "line",
                            xref: "paper",
                            yref: "y2",
                            x0: 0,
                            y0: 50.0,
                            x1: 1,
                            y1: 50.0,
                            line: {
                                color: "rgba(0, 0, 255, 0.4)",
                                width: 2,
                                dash: "dot",
                            },
                            opacity: 0.5,
                            layer: "below",
                        },
                        {
                            type: "line",
                            xref: "paper",
                            yref: "y2",
                            x0: 0,
                            y0: 66.66,
                            x1: 1,
                            y1: 66.66,
                            line: {
                                color: "rgb(255, 0, 0)",
                                width: 2,
                                dash: "dot",
                            },
                            opacity: 0.5,
                            layer: "below",
                        },
                        {
                            type: "line",
                            xref: "paper",
                            yref: "y2",
                            x0: 0,
                            y0: 33.33,
                            x1: 1,
                            y1: 33.33,
                            line: {
                                color: "rgb(255, 0, 0)",
                                width: 2,
                                dash: "dot",
                            },
                            opacity: 0.5,
                            layer: "below",
                        },
                        {
                            type: "line",
                            xref: "paper",
                            yref: "y3",
                            x0: 0,
                            y0: 20,
                            x1: 1,
                            y1: 20,
                            line: {
                                color: "rgb(255, 0, 0)",
                                width: 2,
                                dash: "dot",
                            },
                            opacity: 0.5,
                            layer: "below",
                        },
                        {
                            type: "line",
                            xref: "paper",
                            yref: "y3",
                            x0: 0,
                            y0: 80,
                            x1: 1,
                            y1: 80,
                            line: {
                                color: "rgb(255, 0, 0)",
                                width: 2,
                                dash: "dot",
                            },
                            opacity: 0.5,
                            layer: "below",
                        },
                        {
                            type: "line",
                            xref: "paper",
                            yref: "y3",
                            x0: 0,
                            y0: 50.0,
                            x1: 1,
                            y1: 50.0,
                            line: {
                                color: "rgba(0, 0, 255, 0.4)",
                                width: 2,
                                dash: "dot",
                            },
                            opacity: 0.5,
                            layer: "below",
                        },
                    ],
                },
            };

            init();

            function init(
            ) {

                this.data = [
                    {

                       x: ["15:01:00","15:02:00","15:03:00","15:04:00","15:05:00","15:06:00","15:07:00","15:08:00","15:09:00","15:10:00","15:11:00","15:12:00","15:13:00","15:14:00","15:15:00","15:16:00","15:17:00","15:18:00","15:19:00","15:20:00","15:21:00","15:22:00","15:23:00","15:24:00","15:25:00","15:26:00","15:27:00","15:28:00","15:29:00","15:30:00","15:31:00","15:32:00"],

                       close: ["0.48216000","0.48166000","0.48162000","0.48076000","0.48076000","0.48257000","0.48300000","0.48387000","0.48387000","0.48378000","0.48304000","0.48304000","0.48434000","0.48554000","0.48554000","0.48433000","0.48414000","0.48297000","0.48361000","0.48479000","0.48714000","0.48888000","0.48832000","0.49046000","0.49000000","0.48926000","0.48878000","0.48878000","0.48917000","0.48810000","0.48911000","0.48892000"],

                       high: ["0.48216000","0.48166000","0.48162000","0.48141000","0.48076000","0.48257000","0.48300000","0.48387000","0.48387000","0.48378000","0.48320000","0.48371000","0.48434000","0.48554000","0.48569000","0.48433000","0.48442000","0.48297000","0.48361000","0.48479000","0.48714000","0.48888000","0.48900000","0.49047000","0.49056000","0.48935000","0.48890000","0.48878000","0.48920000","0.48853000","0.48911000","0.48892000"],

                       increasing: {line: {color: '#336137', width: 1, dash: "solid"}},
                       decreasing: {line: {color: 'rgb(226, 65, 93)', width: 1}},

                       line: {color: 'rgba(31,119,180,1)'},

                       low: ["0.48216000","0.48166000","0.48162000","0.48076000","0.48076000","0.48100000","0.48300000","0.48278000","0.48387000","0.48378000","0.48294000","0.48304000","0.48402000","0.48464000","0.48554000","0.48433000","0.48414000","0.48297000","0.48356000","0.48479000","0.48562000","0.48741000","0.48832000","0.48901000","0.48940000","0.48924000","0.48869000","0.48878000","0.48916000","0.48780000","0.48886000","0.48892000"],

                       open: ["0.48216000","0.48166000","0.48162000","0.48141000","0.48076000","0.48100000","0.48300000","0.48278000","0.48387000","0.48378000","0.48294000","0.48370000","0.48402000","0.48464000","0.48569000","0.48433000","0.48442000","0.48297000","0.48356000","0.48479000","0.48562000","0.48741000","0.48900000","0.48901000","0.48940000","0.48935000","0.48880000","0.48878000","0.48920000","0.48853000","0.48886000","0.48892000"],
                       type: 'candlestick',
                       name: "Ripple",
                       xaxis: 'x1',
                       yaxis: 'y1'
                    },
                    {
                        x: ["15:01:00","15:02:00","15:03:00","15:04:00","15:05:00","15:06:00","15:07:00","15:08:00","15:09:00","15:10:00","15:11:00","15:12:00","15:13:00","15:14:00","15:15:00","15:16:00","15:17:00","15:18:00","15:19:00","15:20:00","15:21:00","15:22:00","15:23:00","15:24:00","15:25:00","15:26:00","15:27:00","15:28:00","15:29:00","15:30:00","15:31:00","15:32:00"],
                        y: ["0.48186047619047610000","0.48203920634920620000","0.48216698412698406000","0.48224730158730156000","0.48231253968253973000","0.48239793650793655000","0.48250857142857145000","0.48267634920634930000","0.48287492063492060000","0.48299523809523814000","0.48304317460317460000","0.48305634920634916000","0.48309603174603180000","0.48320142857142850000","0.48329650793650800000","0.48330428571428563000","0.48334206349206343000","0.48328317460317460000","0.48321666666666670000","0.48319619047619060000","0.48339603174603180000","0.48369269841269850000","0.48402063492063500000","0.48441873015873016000","0.48484777777777777000","0.48525365079365074000","0.48557476190476184000","0.48585000000000000000","0.48612000000000000000","0.48632349206349220000","0.48657333333333340000","0.48685238095238100000"],
                        xaxis: "x1",
                        yaxis: "y1",
                        type: "scatter",
                        mode: "lines",
                        name: "Boll. MA",
                        line: { shape: "spline", smoothing: 0.35,color: "rgba(160, 255, 160, 0.6)", dash: "dot", },
                    },
                    {
                        x: ["15:01:00","15:02:00","15:03:00","15:04:00","15:05:00","15:06:00","15:07:00","15:08:00","15:09:00","15:10:00","15:11:00","15:12:00","15:13:00","15:14:00","15:15:00","15:16:00","15:17:00","15:18:00","15:19:00","15:20:00","15:21:00","15:22:00","15:23:00","15:24:00","15:25:00","15:26:00","15:27:00","15:28:00","15:29:00","15:30:00","15:31:00","15:32:00"],
                        y: ["0.48607865969867530000","0.48586320883499750000","0.48578644776222100000","0.48568946907404630000","0.48557941764321980000","0.48557970002014467000","0.48560781601504777000","0.48558289104976530000","0.48547599977604890000","0.48552877406994766000","0.48555767459404386000","0.48556854675191290000","0.48566282050538606000","0.48596789377186306000","0.48622827808276375000","0.48624400047978490000","0.48630198933534610000","0.48619048558462413000","0.48602596738420156000","0.48593658057040730000","0.48651006435552235000","0.48751068829115790000","0.48817519594729750000","0.48922655956322930000","0.48988727366733475000","0.49024657658285570000","0.49060791259748815000","0.49090497738589220000","0.49126723781681564000","0.49142423070548097000","0.49166145065396200000","0.49176233049745244000"],
                        xaxis: "x1",
                        yaxis: "y1",
                        type: "scatter",
                        mode: "lines",
                        name: "Boll. U",
                        line: { shape: "spline", smoothing: 0.35,color: "rgba(160, 255, 160, 0.7)", dash: "dashed", },
                    },
                    {
                        x: ["15:01:00","15:02:00","15:03:00","15:04:00","15:05:00","15:06:00","15:07:00","15:08:00","15:09:00","15:10:00","15:11:00","15:12:00","15:13:00","15:14:00","15:15:00","15:16:00","15:17:00","15:18:00","15:19:00","15:20:00","15:21:00","15:22:00","15:23:00","15:24:00","15:25:00","15:26:00","15:27:00","15:28:00","15:29:00","15:30:00","15:31:00","15:32:00"],
                        y: ["0.47764229268227690000","0.47821520386341493000","0.47854752049174710000","0.47880513410055680000","0.47904566172185964000","0.47921617299572844000","0.47940932684209514000","0.47976980736293323000","0.48027384149379230000","0.48046170212052863000","0.48052867461230530000","0.48054415166078540000","0.48052924298667750000","0.48043496337099395000","0.48036473779025230000","0.48036457094878640000","0.48038213764878080000","0.48037586362172510000","0.48040736594913180000","0.48045580038197394000","0.48028199913654124000","0.47987470853423914000","0.47986607389397250000","0.47961090075423100000","0.47980828188822080000","0.48026072500444580000","0.48054161121203554000","0.48079502261410780000","0.48097276218318435000","0.48122275342150340000","0.48148521601270483000","0.48194243140730950000"],
                        xaxis: "x1",
                        yaxis: "y1",
                        type: "scatter",
                        mode: "lines",
                        name: "Boll. U",
                        line: { shape: "spline", smoothing: 0.35,color: "rgba(160, 255, 160, 0.7)", dash: "dashed", },
                    },
                    {
                        x: ["15:01:00","15:02:00","15:03:00","15:04:00","15:05:00","15:06:00","15:07:00","15:08:00","15:09:00","15:10:00","15:11:00","15:12:00","15:13:00","15:14:00","15:15:00","15:16:00","15:17:00","15:18:00","15:19:00","15:20:00","15:21:00","15:22:00","15:23:00","15:24:00","15:25:00","15:26:00","15:27:00","15:28:00","15:29:00","15:30:00","15:31:00","15:32:00"],
                        y: ["52.8768","50.6445","50.4609","46.5544","46.5544","55.0486","56.8050","60.1939","60.1939","59.6326","55.0843","55.0843","61.1254","65.7100","65.7100","57.7460","56.5862","49.9354","53.1773","58.5116","66.6583","71.1720","67.9822","72.9681","70.4293","66.4253","63.8881","63.8881","65.1427","59.0783","62.6161","61.5383"],
                        xaxis: "x2",
                        yaxis: "y2",
                        type: "scatter",
                        mode: "lines",
                        name: "RSI",
                        line: { shape: "spline", smoothing: 0.65,color: "rgba(160, 255, 160, 0.8)" },
                    },
                    {
                        x: ["15:01:00","15:02:00","15:03:00","15:04:00","15:05:00","15:06:00","15:07:00","15:08:00","15:09:00","15:10:00","15:11:00","15:12:00","15:13:00","15:14:00","15:15:00","15:16:00","15:17:00","15:18:00","15:19:00","15:20:00","15:21:00","15:22:00","15:23:00","15:24:00","15:25:00","15:26:00","15:27:00","15:28:00","15:29:00","15:30:00","15:31:00","15:32:00"],
                        y: ["43.694493783303730017762000","17.528089887640449438202200","4.627249357326478149100260","0.000000000000000000000000","0.000000000000000000000000","39.606126914660831509846800","49.015317286652078774617100","68.052516411378555798687100","68.052516411378555798687100","66.083150984682713347921200","49.890590809628008752735200","49.890590809628008752735200","100.000000000000000000000000","100.000000000000000000000000","96.957403651115618661257600","72.413793103448275862069000","68.559837728194726166328600","44.827586206896551724137900","55.650319829424307036247300","69.072164948453608247422700","100.000000000000000000000000","100.000000000000000000000000","88.778877887788778877887800","99.867197875166002656042500","92.621870882740447957839300","82.872200263504611330698300","76.548089591567852437417700","76.548089591567852437417700","81.686429512516469038208200","67.588932806324110671936800","80.895915678524374176548100","76.571428571428571428571400"],
                        xaxis: "x3",
                        yaxis: "y3",
                        type: "scatter",
                        mode: "lines",
                        name: "S1. kFast",
                        line: { shape: "spline", smoothing: 0.65,color: "rgba(255, 160, 160, 0.8)" },
                    },
                    {
                        x: ["15:01:00","15:02:00","15:03:00","15:04:00","15:05:00","15:06:00","15:07:00","15:08:00","15:09:00","15:10:00","15:11:00","15:12:00","15:13:00","15:14:00","15:15:00","15:16:00","15:17:00","15:18:00","15:19:00","15:20:00","15:21:00","15:22:00","15:23:00","15:24:00","15:25:00","15:26:00","15:27:00","15:28:00","15:29:00","15:30:00","15:31:00","15:32:00"],
                        y: ["58.910597986974540005920700","31.419961282854689812734100","21.949944342756885383033400","7.385113081655642333333330","1.542416452442159666666670","13.202042304886943836615600","29.540481400437637591539000","52.224653537563823266229000","61.706783369803065266229000","67.396061269146611115973700","61.342086068563096250911700","55.288110867979579584245000","66.593727206418673333333300","83.296863603209336666666700","98.985801217038539553752700","89.790398918187961954023000","79.310344827586202055443000","61.933739012846513908046000","56.345914588171860678749000","56.516690328258156082474300","74.907494925959301666666700","89.690721649484533333333300","96.259625962596259625962700","96.215358587651594218681000","93.755982215231742652613000","91.787089673803687110232700","84.014053579270970812472700","78.656126482213440812472700","78.260869565217396346069300","75.274483970136146890645700","76.723759332454984725516000","75.018759018759017142857000"],
                        xaxis: "x3",
                        yaxis: "y3",
                        type: "scatter",
                        mode: "lines",
                        name: "S1. dSlow",
                        line: { shape: "spline", smoothing: 0.65 , color: "rgba(160, 160, 255, 0.8)" },
                    },
                    {
                        x: ["15:01:00","15:02:00","15:03:00","15:04:00","15:05:00","15:06:00","15:07:00","15:08:00","15:09:00","15:10:00","15:11:00","15:12:00","15:13:00","15:14:00","15:15:00","15:16:00","15:17:00","15:18:00","15:19:00","15:20:00","15:21:00","15:22:00","15:23:00","15:24:00","15:25:00","15:26:00","15:27:00","15:28:00","15:29:00","15:30:00","15:31:00","15:32:00"],
                        y: ["58.910597986974540000000000","31.419961282854690000000000","21.949944342756886000000000","7.385113081655643000000000","1.542416452442159700000000","13.202042304886945000000000","29.540481400437640000000000","52.224653537563825000000000","61.706783369803060000000000","67.396061269146610000000000","61.342086068563100000000000","55.288110867979580000000000","66.593727206418680000000000","83.296863603209330000000000","98.985801217038540000000000","89.790398918187960000000000","79.310344827586200000000000","61.933739012846516000000000","56.345914588171860000000000","56.516690328258160000000000","74.907494925959300000000000","89.690721649484530000000000","96.259625962596260000000000","96.215358587651600000000000","93.755982215231740000000000","91.787089673803690000000000","84.014053579270960000000000","78.656126482213440000000000","78.260869565217390000000000","75.274483970136150000000000","76.723759332454990000000000","75.018759018759010000000000"],
                        xaxis: "x3",
                        yaxis: "y3",
                        type:"scatter",
                        mode: "lines",
                        name: "S2. kFull",
                        line: { shape: "spline", smoothing: 0.65,color: "d3a0ffcc" },
                    },
                    {
                        x: ["15:01:00","15:02:00","15:03:00","15:04:00","15:05:00","15:06:00","15:07:00","15:08:00","15:09:00","15:10:00","15:11:00","15:12:00","15:13:00","15:14:00","15:15:00","15:16:00","15:17:00","15:18:00","15:19:00","15:20:00","15:21:00","15:22:00","15:23:00","15:24:00","15:25:00","15:26:00","15:27:00","15:28:00","15:29:00","15:30:00","15:31:00","15:32:00"],
                        y: ["78.863232682060390000000000","56.003219776345286666666700","37.426834537528705333333300","20.251672902422406333333300","10.292491292284896233333300","7.376523946328249233333330","14.761646719255581566666700","31.655725747629470000000000","47.823972769268175000000000","60.442499392171165000000000","63.481643569170923333333300","61.342086068563096666666700","61.074641380987120000000000","68.392900559202530000000000","82.958797342222183333333300","90.691021246145276666666700","89.362181654270900000000000","77.011494252873558666666700","65.863332809534858666666700","58.265447976425512000000000","62.590033280796440000000000","73.704968967900663333333300","86.952614179346696666666700","94.055235399910796666666700","95.410322255159866666666700","93.919476825562343333333300","89.852375156102130000000000","84.819089911762696666666700","80.310349875567263333333300","77.397160005855660000000000","76.753037622602843333333300","75.672334107116716666666700"],
                        xaxis: "x3",
                        yaxis: "y3",
                        type: "scatter",
                        mode: "lines",
                        name: "S2. dFull",
                        line: { shape: "spline", smoothing: 0.65 , color: "fff0a0cc" },
                    }
                ];
                plot();
            }

            function plot() {
                Plotly.newPlot("plotDiv1", this.data, this.graphOptions["layout"]);
            }

            var stochasticFast = true;
            let stoPlot = document.querySelector(".cartesianlayer .x3y3 .plot .scatterlayer");
            let stoPlot2 = document.querySelectorAll(".cartesianlayer .x3y3 .plot .scatterlayer .trace");
            let stoTitle = document.querySelector(".infolayer .g-y3title text");

            stoPlot2.forEach(function(elem) {
                elem.addEventListener('mouseenter', (e) => {
                    //setTimeout(() => {
                        console.log("hey");
                        let hoverText = document.querySelector(".main-svg .hoverlayer .hovertext");
                        if(!stochasticFast) {
                            if(hoverText.childNodes[0].innerHTML === "Stoc. - kFast") {
                                hoverText.childNodes[0].style.visibility = "hidden";
                                hoverText.childNodes[1].style.visibility = "hidden";
                            }

                        } else {
                            stoTitle.innerHTML= "Stoch. - Fast";
                            if(hoverText.childNodes[0].innerHTML === "Stoc. - kFast") {
                                hoverText.childNodes[2].style.visibility = "hidden";
                                hoverText.childNodes[3].style.visibility = "hidden";
                            }
                        }
                    //}, 1000);
                });
            });

            /*stoPlot.addEventListener('mouseenter', (e) => {
                //setTimeout(() => {
                    console.log("hey");
                    let hoverText = document.querySelector(".main-svg .hoverlayer .hovertext");
                    if(!stochasticFast) {
                        if(hoverText.childNodes[0].innerHTML === "Stoc. - kFast") {
                            hoverText.childNodes[0].style.visibility = "hidden";
                            hoverText.childNodes[1].style.visibility = "hidden";
                        }

                    } else {
                        stoTitle.innerHTML= "Stoch. - Fast";
                        if(hoverText.childNodes[0].innerHTML === "Stoc. - kFast") {
                            hoverText.childNodes[2].style.visibility = "hidden";
                            hoverText.childNodes[3].style.visibility = "hidden";
                        }
                    }
                //}, 1000);
            });*/

            document.addEventListener('keydown', (e) => {

                // Only accept 'F'
                if(e.code !== 'KeyS') {
                    return;
                }

                /* Show only fast or full Stochastics on keypress */
                stochasticFast = !stochasticFast;

                if(!stochasticFast) {
                    stoPlot.childNodes[0].style.visibility = "hidden";
                    stoPlot.childNodes[1].style.visibility = "hidden";
                    stoPlot.childNodes[2].style.visibility = "visible";
                    stoPlot.childNodes[3].style.visibility = "visible";
                    stoTitle.innerHTML = "Stoch. - Full";
                } else {
                    stoPlot.childNodes[0].style.visibility = "visible";
                    stoPlot.childNodes[1].style.visibility = "visible";
                    stoPlot.childNodes[2].style.visibility = "hidden";
                    stoPlot.childNodes[3].style.visibility = "hidden";
                    stoTitle.innerHTML= "Stoch. - Fast";
                }
            });

            /* Only have fast k and slow d showing initially */
            stoPlot.childNodes[2].style.visibility = "hidden";
            stoPlot.childNodes[3].style.visibility = "hidden";
            stoTitle.innerHTML= "Stoch. - Fast";
        </script>
    </body>
</html>
