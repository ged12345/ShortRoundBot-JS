<!DOCTYPE html>
<html>
    <head>
        <script src="js/plotly-latest.min.js"></script>
        <meta charset="utf-8" />
        <title>SRBot | Ripple</title>
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl"
            crossorigin="anonymous"
        />
    </head>

    <body style="background: #212529; overflow: hidden">
        <div id="plotDiv1" class="mt-3" style="width: 100%; height: 1000px">
            <!-- Plotly chart will be drawn inside this DIV -->
        </div>
        <script id="javascript">

            graphOptions = {
                filename: "coin-axes",
                fileopt: "overwrite",
                layout: {
                    plot_bgcolor:"#212529",
                    paper_bgcolor: "#212529",
                    title: {
                        text:"ShortRoundBot | Ripple",
                        font: {
                            family: "Avenir Light",
                            size: 36,
                            color: "white"
                        },
                    },
                    legend: {
                        font: {
                            family: "Avenir Light",
                            size: 14,
                            color: "white",
                        },
                        visible: false,
                    },
                    grid: {
                        rows: 3,
                        columns: 1,
                        pattern: "independent",
                        roworder: "top to bottom",
                    },
                    xaxis: {
                        visible: true,
                        range: [0, 31],
                        rangeslider: {
                            visible: false
                        },
                        showgrid: false,
                        showticklabels: false,
                        color: "white",
                        gridcolor: "rgba(255,255,255,0.05)",
                    },
                    yaxis: {
                        autorange: false,
                        range: [0.4836062665404098, 0.49189373345959014],
                        domain: [0.5, 1],
                        type: 'linear',
                        color: "white",
                        showgrid: true,
                        gridcolor: "rgba(255,255,255,0.05)",
                    },
                    xaxis2: {
                        range: [0, 31] , zeroline: false, color: "white", gridcolor: "rgba(255,255,255,0.05)", showgrid: true, showticklabels: false,
                    },
                    yaxis2: {
                        range: [-2, 105], domain: [0.3, 0.45], zeroline: false, gridcolor: "rgba(255,255,255,0.05)", color: "white",
                        title : {
                            text: "RSI",
                            font: {
                                family: "Avenir Light",
                                size: 24,
                                color: "white"
                            },
                        },
                    },
                    xaxis3: {
                        range: [0, 31], color: "white", zeroline: false,
                        gridcolor: "rgba(255,255,255,0.05)",
                        },
                    yaxis3: {
                        range: [-2, 105], color: "white", domain: [0.1, 0.25],
                        gridcolor: "rgba(255,255,255,0.05)",
                        title : {
                            text: "Stoch. - F",
                            font: {
                                family: "Avenir Light",
                                size: 24,
                                color: "white"
                            },
                        },
                    },
                    shapes: [
                        {
                            type: "line",
                            xref: "paper",
                            yref: "y2",
                            x0: 0,
                            y0: 50.0,
                            x1: 1,
                            y1: 50.0,
                            line: {
                                color: "rgba(0, 0, 255, 0.4)",
                                width: 2,
                                dash: "dot",
                            },
                            opacity: 0.5,
                            layer: "below",
                        },
                        {
                            type: "line",
                            xref: "paper",
                            yref: "y2",
                            x0: 0,
                            y0: 66.66,
                            x1: 1,
                            y1: 66.66,
                            line: {
                                color: "rgb(255, 0, 0)",
                                width: 2,
                                dash: "dot",
                            },
                            opacity: 0.5,
                            layer: "below",
                        },
                        {
                            type: "line",
                            xref: "paper",
                            yref: "y2",
                            x0: 0,
                            y0: 33.33,
                            x1: 1,
                            y1: 33.33,
                            line: {
                                color: "rgb(255, 0, 0)",
                                width: 2,
                                dash: "dot",
                            },
                            opacity: 0.5,
                            layer: "below",
                        },
                        {
                            type: "line",
                            xref: "paper",
                            yref: "y3",
                            x0: 0,
                            y0: 20,
                            x1: 1,
                            y1: 20,
                            line: {
                                color: "rgb(255, 0, 0)",
                                width: 2,
                                dash: "dot",
                            },
                            opacity: 0.5,
                            layer: "below",
                        },
                        {
                            type: "line",
                            xref: "paper",
                            yref: "y3",
                            x0: 0,
                            y0: 80,
                            x1: 1,
                            y1: 80,
                            line: {
                                color: "rgb(255, 0, 0)",
                                width: 2,
                                dash: "dot",
                            },
                            opacity: 0.5,
                            layer: "below",
                        },
                        {
                            type: "line",
                            xref: "paper",
                            yref: "y3",
                            x0: 0,
                            y0: 50.0,
                            x1: 1,
                            y1: 50.0,
                            line: {
                                color: "rgba(0, 0, 255, 0.4)",
                                width: 2,
                                dash: "dot",
                            },
                            opacity: 0.5,
                            layer: "below",
                        },
                    ],
                },
            };

            init();

            function init(
            ) {

                this.data = [
                    {

                       x: ["01:08:00","01:09:00","01:10:00","01:11:00","01:12:00","01:13:00","01:14:00","01:15:00","01:16:00","01:17:00","01:18:00","01:19:00","01:20:00","01:21:00","01:22:00","01:23:00","01:24:00","01:25:00","01:26:00","01:27:00","01:28:00","01:29:00","01:30:00","01:31:00","01:32:00","01:33:00","01:34:00","01:35:00","01:36:00","01:37:00","01:38:00","01:39:00"],

                       close: ["0.48601000","0.48500000","0.48556000","0.48700000","0.48742000","0.48632000","0.48554000","0.48554000","0.48614000","0.48715000","0.48758000","0.48711000","0.48711000","0.48776000","0.48724000","0.48810000","0.48977000","0.48935000","0.48895000","0.48895000","0.48835000","0.48849000","0.48625000","0.48805000","0.48805000","0.48882000","0.48882000","0.48919000","0.48919000","0.49029000","0.48978000","0.48867000"],

                       high: ["0.48625000","0.48565000","0.48565000","0.48700000","0.48742000","0.48655000","0.48655000","0.48554000","0.48614000","0.48715000","0.48758000","0.48738000","0.48711000","0.48821000","0.48750000","0.48810000","0.48977000","0.48935000","0.48895000","0.48895000","0.48915000","0.48849000","0.48677000","0.48805000","0.48805000","0.48882000","0.48882000","0.48919000","0.48919000","0.49029000","0.48978000","0.48901000"],

                       increasing: {line: {color: '#336137', width: 1, dash: "solid"}},
                       decreasing: {line: {color: 'rgb(226, 65, 93)', width: 1}},

                       line: {color: 'rgba(31,119,180,1)'},

                       low: ["0.48601000","0.48500000","0.48513000","0.48626000","0.48742000","0.48632000","0.48554000","0.48554000","0.48614000","0.48715000","0.48758000","0.48711000","0.48711000","0.48775000","0.48724000","0.48810000","0.48813000","0.48935000","0.48895000","0.48895000","0.48835000","0.48825000","0.48625000","0.48790000","0.48805000","0.48862000","0.48882000","0.48919000","0.48919000","0.48920000","0.48975000","0.48867000"],

                       open: ["0.48625000","0.48565000","0.48560000","0.48626000","0.48742000","0.48655000","0.48655000","0.48554000","0.48614000","0.48715000","0.48758000","0.48738000","0.48711000","0.48781000","0.48750000","0.48810000","0.48813000","0.48935000","0.48895000","0.48895000","0.48915000","0.48835000","0.48677000","0.48797000","0.48805000","0.48862000","0.48882000","0.48919000","0.48919000","0.48920000","0.48975000","0.48901000"],
                       type: 'candlestick',
                       name: "Ripple",
                       xaxis: 'x1',
                       yaxis: 'y1'
                    },
                    {
                        x: ["01:08:00","01:09:00","01:10:00","01:11:00","01:12:00","01:13:00","01:14:00","01:15:00","01:16:00","01:17:00","01:18:00","01:19:00","01:20:00","01:21:00","01:22:00","01:23:00","01:24:00","01:25:00","01:26:00","01:27:00","01:28:00","01:29:00","01:30:00","01:31:00","01:32:00","01:33:00","01:34:00","01:35:00","01:36:00","01:37:00","01:38:00","01:39:00"],
                        y: ["","","","","","","","","","","","0.48774999999999996000","0.48753571428571424000","0.48738349206349210000","0.48721238095238095000","0.48706968253968260000","0.48702111111111110000","0.48706047619047620000","0.48704888888888880000","0.48713650793650790000","0.48725444444444450000","0.48736492063492065000","0.48742238095238094000","0.48754396825396820000","0.48760571428571420000","0.48766920634920624000","0.48778460317460315000","0.48794238095238096000","0.48811619047619060000","0.48829650793650810000","0.48842126984127000000","0.48847857142857165000"],
                        xaxis: "x1",
                        yaxis: "y1",
                        type: "scatter",
                        mode: "lines",
                        name: "Boll. MA",
                        line: { shape: "spline", smoothing: 0.35,color: "rgba(160, 255, 160, 0.6)", dash: "dot", },
                    },
                    {
                        x: ["01:08:00","01:09:00","01:10:00","01:11:00","01:12:00","01:13:00","01:14:00","01:15:00","01:16:00","01:17:00","01:18:00","01:19:00","01:20:00","01:21:00","01:22:00","01:23:00","01:24:00","01:25:00","01:26:00","01:27:00","01:28:00","01:29:00","01:30:00","01:31:00","01:32:00","01:33:00","01:34:00","01:35:00","01:36:00","01:37:00","01:38:00","01:39:00"],
                        y: ["","","","","","","","","","","","0.49189373345959014000","0.49124840185398494000","0.49075749296541370000","0.49016618122565975000","0.48958160819971750000","0.48947683643127066000","0.48969882274890220000","0.48957107704732900000","0.48976970607305287000","0.48988683297727070000","0.48998926437104810000","0.48988200797275720000","0.48987130164770950000","0.48993030431857193000","0.49005099667794383000","0.49013862226876775000","0.49014708834654410000","0.49010072706883090000","0.49028142384315565000","0.49042865258691876000","0.49045057548536260000"],
                        xaxis: "x1",
                        yaxis: "y1",
                        type: "scatter",
                        mode: "lines",
                        name: "Boll. U",
                        line: { shape: "spline", smoothing: 0.35,color: "rgba(160, 255, 160, 0.7)", dash: "dashed", },
                    },
                    {
                        x: ["01:08:00","01:09:00","01:10:00","01:11:00","01:12:00","01:13:00","01:14:00","01:15:00","01:16:00","01:17:00","01:18:00","01:19:00","01:20:00","01:21:00","01:22:00","01:23:00","01:24:00","01:25:00","01:26:00","01:27:00","01:28:00","01:29:00","01:30:00","01:31:00","01:32:00","01:33:00","01:34:00","01:35:00","01:36:00","01:37:00","01:38:00","01:39:00"],
                        y: ["","","","","","","","","","","","0.48360626654040980000","0.48382302671744354000","0.48400949116157044000","0.48425858067910216000","0.48455775687964764000","0.48456538579095160000","0.48442212963205020000","0.48452670073044860000","0.48450330979996300000","0.48462205591161830000","0.48474057689879320000","0.48496275393200466000","0.48521663486022687000","0.48528112425285647000","0.48528741602046865000","0.48543058408043854000","0.48573767355821784000","0.48613165388355030000","0.48631159202986050000","0.48641388709562120000","0.48650656737178070000"],
                        xaxis: "x1",
                        yaxis: "y1",
                        type: "scatter",
                        mode: "lines",
                        name: "Boll. U",
                        line: { shape: "spline", smoothing: 0.35,color: "rgba(160, 255, 160, 0.7)", dash: "dashed", },
                    },
                    {
                        x: ["01:08:00","01:09:00","01:10:00","01:11:00","01:12:00","01:13:00","01:14:00","01:15:00","01:16:00","01:17:00","01:18:00","01:19:00","01:20:00","01:21:00","01:22:00","01:23:00","01:24:00","01:25:00","01:26:00","01:27:00","01:28:00","01:29:00","01:30:00","01:31:00","01:32:00","01:33:00","01:34:00","01:35:00","01:36:00","01:37:00","01:38:00","01:39:00"],
                        y: ["31.6587","29.1010","32.3638","40.0091","42.0660","38.3566","35.9367","35.9367","39.3503","44.6927","46.8397","44.7929","44.7929","48.4088","45.8231","50.5294","58.1349","55.8110","53.6129","53.6129","50.1752","50.9652","40.0283","49.4212","49.4212","53.0680","53.0680","54.8809","54.8809","60.1840","56.8479","50.3111"],
                        xaxis: "x2",
                        yaxis: "y2",
                        type: "scatter",
                        mode: "lines",
                        name: "RSI",
                        line: { shape: "spline", smoothing: 0.65,color: "rgba(160, 255, 160, 0.8)" },
                    },
                    {
                        x: ["01:08:00","01:09:00","01:10:00","01:11:00","01:12:00","01:13:00","01:14:00","01:15:00","01:16:00","01:17:00","01:18:00","01:19:00","01:20:00","01:21:00","01:22:00","01:23:00","01:24:00","01:25:00","01:26:00","01:27:00","01:28:00","01:29:00","01:30:00","01:31:00","01:32:00","01:33:00","01:34:00","01:35:00","01:36:00","01:37:00","01:38:00","01:39:00"],
                        y: ["","0.000000000000000000000000","7.387862796833773087071240","26.385224274406332453825900","35.640648011782032400589100","19.440353460972017673048600","7.952871870397643593519880","7.952871870397643593519880","20.035149384885764499121300","43.000000000000000000000000","55.603448275862068965517200","54.102564102564102564102600","81.782945736434108527131800","85.981308411214953271028000","69.781931464174454828660400","96.428571428571428571428600","100.000000000000000000000000","90.070921985815602836879400","80.614657210401891252955100","80.614657210401891252955100","66.430260047281323877068600","64.738292011019283746556500","0.000000000000000000000000","51.136363636363636363636400","51.136363636363636363636400","73.011363636363636363636400","73.011363636363636363636400","83.522727272727272727272700","83.522727272727272727272700","100.000000000000000000000000","87.376237623762376237623800","59.900990099009900990099000"],
                        xaxis: "x3",
                        yaxis: "y3",
                        type: "scatter",
                        mode: "lines",
                        name: "S1. kFast",
                        line: { shape: "spline", smoothing: 0.65,color: "rgba(255, 160, 160, 0.8)" },
                    },
                    {
                        x: ["01:08:00","01:09:00","01:10:00","01:11:00","01:12:00","01:13:00","01:14:00","01:15:00","01:16:00","01:17:00","01:18:00","01:19:00","01:20:00","01:21:00","01:22:00","01:23:00","01:24:00","01:25:00","01:26:00","01:27:00","01:28:00","01:29:00","01:30:00","01:31:00","01:32:00","01:33:00","01:34:00","01:35:00","01:36:00","01:37:00","01:38:00","01:39:00"],
                        y: ["","-1.000000000000000000000000","-1.000000000000000000000000","-1.000000000000000000000000","23.137911694340712800196400","27.155408582386794891016200","21.011291114383897864506600","11.782032400589101197840000","11.980297708560350833040400","23.662673751761135666666700","39.546199220249277321839000","50.902004126142057521367700","63.829652704953426175710700","73.955606083404391090342700","79.182061870607841609553300","84.063937101320276190476300","88.736834297581960000000000","95.499831138129010945626300","90.228526398739163750985000","83.766745468873127084318300","75.886524822695034625689700","70.594403089567497915519000","43.722850686100200000000000","38.624885215794305454545300","34.090909090909088787878700","58.428030303030298787878700","65.719696969696968787878700","76.515151515151517575757700","80.018939393939394242424300","89.015151515151513333333300","90.299654965496548745874700","82.425742574257426996699700"],
                        xaxis: "x3",
                        yaxis: "y3",
                        type: "scatter",
                        mode: "lines",
                        name: "S1. dSlow",
                        line: { shape: "spline", smoothing: 0.65 , color: "rgba(160, 160, 255, 0.8)" },
                    },
                    {
                        x: ["01:08:00","01:09:00","01:10:00","01:11:00","01:12:00","01:13:00","01:14:00","01:15:00","01:16:00","01:17:00","01:18:00","01:19:00","01:20:00","01:21:00","01:22:00","01:23:00","01:24:00","01:25:00","01:26:00","01:27:00","01:28:00","01:29:00","01:30:00","01:31:00","01:32:00","01:33:00","01:34:00","01:35:00","01:36:00","01:37:00","01:38:00","01:39:00"],
                        y: ["","-1.000000000000000000000000","-1.000000000000000000000000","-1.000000000000000000000000","-1.000000000000000000000000","-1.000000000000000000000000","-1.000000000000000000000000","11.782032400589100000000000","11.980297708560350000000000","23.662673751761137000000000","39.546199220249280000000000","50.902004126142060000000000","63.829652704953425000000000","73.955606083404390000000000","79.182061870607840000000000","84.063937101320280000000000","88.736834297581960000000000","95.499831138129010000000000","90.228526398739160000000000","83.766745468873130000000000","75.886524822695040000000000","70.594403089567490000000000","43.722850686100200000000000","38.624885215794310000000000","34.090909090909086000000000","58.428030303030300000000000","65.719696969696970000000000","76.515151515151520000000000","80.018939393939390000000000","89.015151515151520000000000","90.299654965496540000000000","82.425742574257430000000000"],
                        xaxis: "x3",
                        yaxis: "y3",
                        type:"scatter",
                        mode: "lines",
                        name: "S2. kFull",
                        line: { shape: "spline", smoothing: 0.65,color: "d3a0ffcc" },
                    },
                    {
                        x: ["01:08:00","01:09:00","01:10:00","01:11:00","01:12:00","01:13:00","01:14:00","01:15:00","01:16:00","01:17:00","01:18:00","01:19:00","01:20:00","01:21:00","01:22:00","01:23:00","01:24:00","01:25:00","01:26:00","01:27:00","01:28:00","01:29:00","01:30:00","01:31:00","01:32:00","01:33:00","01:34:00","01:35:00","01:36:00","01:37:00","01:38:00","01:39:00"],
                        y: ["","-1.000000000000000000000000","-1.000000000000000000000000","-1.000000000000000000000000","-1.000000000000000000000000","-1.000000000000000000000000","-1.000000000000000000000000","19.982910699119930666666700","14.924540407844449333333300","15.808334620303529000000000","25.063056893523589000000000","38.036959032717492333333300","51.425952017114921666666700","62.895754304833291666666700","72.322440219655218333333300","79.067201685110836666666700","83.994277756503360000000000","89.433534179010416666666700","91.488397278150043333333300","89.831701001913766666666700","83.293932230102443333333300","76.749224460378553333333300","63.401259532787576666666700","50.980712997154000000000000","38.812881664267865333333300","43.714608203244565333333300","52.746212121212118666666700","66.887626262626263333333300","74.084595959595960000000000","81.849747474747476666666700","86.444581958195816666666700","87.246849684968496666666700"],
                        xaxis: "x3",
                        yaxis: "y3",
                        type: "scatter",
                        mode: "lines",
                        name: "S2. dFull",
                        line: { shape: "spline", smoothing: 0.65 , color: "fff0a0cc" },
                    }
                ];
                plot();
            }

            function plot() {
                Plotly.newPlot("plotDiv1", this.data, this.graphOptions["layout"]);
            }

            var stochasticFast = true;
            let stoPlot = document.querySelector(".cartesianlayer .x3y3 .plot .scatterlayer");
            let stoPlot2 = document.querySelectorAll(".cartesianlayer .x3y3 .plot .scatterlayer .trace");
            let stoTitle = document.querySelector(".infolayer .g-y3title text");

            stoPlot2.forEach(function(elem) {
                elem.addEventListener('mouseenter', (e) => {
                    //setTimeout(() => {
                        console.log("hey");
                        let hoverText = document.querySelector(".main-svg .hoverlayer .hovertext");
                        if(!stochasticFast) {
                            if(hoverText.childNodes[0].innerHTML === "Stoc. - kFast") {
                                hoverText.childNodes[0].style.visibility = "hidden";
                                hoverText.childNodes[1].style.visibility = "hidden";
                            }

                        } else {
                            stoTitle.innerHTML= "Stoch. - Fast";
                            if(hoverText.childNodes[0].innerHTML === "Stoc. - kFast") {
                                hoverText.childNodes[2].style.visibility = "hidden";
                                hoverText.childNodes[3].style.visibility = "hidden";
                            }
                        }
                    //}, 1000);
                });
            });

            /*stoPlot.addEventListener('mouseenter', (e) => {
                //setTimeout(() => {
                    console.log("hey");
                    let hoverText = document.querySelector(".main-svg .hoverlayer .hovertext");
                    if(!stochasticFast) {
                        if(hoverText.childNodes[0].innerHTML === "Stoc. - kFast") {
                            hoverText.childNodes[0].style.visibility = "hidden";
                            hoverText.childNodes[1].style.visibility = "hidden";
                        }

                    } else {
                        stoTitle.innerHTML= "Stoch. - Fast";
                        if(hoverText.childNodes[0].innerHTML === "Stoc. - kFast") {
                            hoverText.childNodes[2].style.visibility = "hidden";
                            hoverText.childNodes[3].style.visibility = "hidden";
                        }
                    }
                //}, 1000);
            });*/

            document.addEventListener('keydown', (e) => {

                // Only accept 'F'
                if(e.code !== 'KeyS') {
                    return;
                }

                /* Show only fast or full Stochastics on keypress */
                stochasticFast = !stochasticFast;

                if(!stochasticFast) {
                    stoPlot.childNodes[0].style.visibility = "hidden";
                    stoPlot.childNodes[1].style.visibility = "hidden";
                    stoPlot.childNodes[2].style.visibility = "visible";
                    stoPlot.childNodes[3].style.visibility = "visible";
                    stoTitle.innerHTML = "Stoch. - Full";
                } else {
                    stoPlot.childNodes[0].style.visibility = "visible";
                    stoPlot.childNodes[1].style.visibility = "visible";
                    stoPlot.childNodes[2].style.visibility = "hidden";
                    stoPlot.childNodes[3].style.visibility = "hidden";
                    stoTitle.innerHTML= "Stoch. - Fast";
                }
            });

            /* Only have fast k and slow d showing initially */
            stoPlot.childNodes[2].style.visibility = "hidden";
            stoPlot.childNodes[3].style.visibility = "hidden";
            stoTitle.innerHTML= "Stoch. - Fast";
        </script>
    </body>
</html>
