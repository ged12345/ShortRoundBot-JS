<!DOCTYPE html>
<html>
    <head>
        <script src="js/plotly-latest.min.js"></script>
        <meta charset="utf-8" />
        <title>SRBot | Etherium</title>
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl"
            crossorigin="anonymous"
        />
    </head>

    <body style="background: #212529; overflow: hidden">
        <div id="plotDiv1" class="mt-3" style="width: 100%; height: 1000px">
            <!-- Plotly chart will be drawn inside this DIV -->
        </div>
        <script id="javascript">

            graphOptions = {
                filename: "coin-axes",
                fileopt: "overwrite",
                layout: {
                    plot_bgcolor:"#212529",
                    paper_bgcolor: "#212529",
                    title: {
                        text:"ShortRoundBot | Etherium",
                        font: {
                            family: "Avenir Light",
                            size: 36,
                            color: "white"
                        },
                    },
                    legend: {
                        font: {
                            family: "Avenir Light",
                            size: 14,
                            color: "white",
                        },
                        visible: false,
                    },
                    grid: {
                        rows: 3,
                        columns: 1,
                        pattern: "independent",
                        roworder: "top to bottom",
                    },
                    xaxis: {
                        visible: true,
                        range: [0, 31],
                        rangeslider: {
                            visible: false
                        },
                        showgrid: false,
                        showticklabels: false,
                        color: "white",
                        gridcolor: "rgba(255,255,255,0.05)",
                    },
                    yaxis: {
                        autorange: false,
                        range: [1836.190367127287, 1852.6071468036234],
                        domain: [0.5, 1],
                        type: 'linear',
                        color: "white",
                        showgrid: true,
                        gridcolor: "rgba(255,255,255,0.05)",
                    },
                    xaxis2: {
                        range: [0, 31] , zeroline: false, color: "white", gridcolor: "rgba(255,255,255,0.05)", showgrid: true, showticklabels: false,
                    },
                    yaxis2: {
                        range: [-2, 105], domain: [0.3, 0.45], zeroline: false, gridcolor: "rgba(255,255,255,0.05)", color: "white",
                        title : {
                            text: "RSI",
                            font: {
                                family: "Avenir Light",
                                size: 24,
                                color: "white"
                            },
                        },
                    },
                    xaxis3: {
                        range: [0, 31], color: "white", zeroline: false,
                        gridcolor: "rgba(255,255,255,0.05)",
                        },
                    yaxis3: {
                        range: [-2, 105], color: "white", domain: [0.1, 0.25],
                        gridcolor: "rgba(255,255,255,0.05)",
                        title : {
                            text: "Stoch. - F",
                            font: {
                                family: "Avenir Light",
                                size: 24,
                                color: "white"
                            },
                        },
                    },
                    shapes: [
                        {
                            type: "line",
                            xref: "paper",
                            yref: "y2",
                            x0: 0,
                            y0: 50.0,
                            x1: 1,
                            y1: 50.0,
                            line: {
                                color: "rgba(0, 0, 255, 0.4)",
                                width: 2,
                                dash: "dot",
                            },
                            opacity: 0.5,
                            layer: "below",
                        },
                        {
                            type: "line",
                            xref: "paper",
                            yref: "y2",
                            x0: 0,
                            y0: 66.66,
                            x1: 1,
                            y1: 66.66,
                            line: {
                                color: "rgb(255, 0, 0)",
                                width: 2,
                                dash: "dot",
                            },
                            opacity: 0.5,
                            layer: "below",
                        },
                        {
                            type: "line",
                            xref: "paper",
                            yref: "y2",
                            x0: 0,
                            y0: 33.33,
                            x1: 1,
                            y1: 33.33,
                            line: {
                                color: "rgb(255, 0, 0)",
                                width: 2,
                                dash: "dot",
                            },
                            opacity: 0.5,
                            layer: "below",
                        },
                        {
                            type: "line",
                            xref: "paper",
                            yref: "y3",
                            x0: 0,
                            y0: 20,
                            x1: 1,
                            y1: 20,
                            line: {
                                color: "rgb(255, 0, 0)",
                                width: 2,
                                dash: "dot",
                            },
                            opacity: 0.5,
                            layer: "below",
                        },
                        {
                            type: "line",
                            xref: "paper",
                            yref: "y3",
                            x0: 0,
                            y0: 80,
                            x1: 1,
                            y1: 80,
                            line: {
                                color: "rgb(255, 0, 0)",
                                width: 2,
                                dash: "dot",
                            },
                            opacity: 0.5,
                            layer: "below",
                        },
                        {
                            type: "line",
                            xref: "paper",
                            yref: "y3",
                            x0: 0,
                            y0: 50.0,
                            x1: 1,
                            y1: 50.0,
                            line: {
                                color: "rgba(0, 0, 255, 0.4)",
                                width: 2,
                                dash: "dot",
                            },
                            opacity: 0.5,
                            layer: "below",
                        },
                    ],
                },
            };

            init();

            function init(
            ) {

                this.data = [
                    {

                       x: ["01:08:00","01:09:00","01:10:00","01:11:00","01:12:00","01:13:00","01:14:00","01:15:00","01:16:00","01:17:00","01:18:00","01:19:00","01:20:00","01:21:00","01:22:00","01:23:00","01:24:00","01:25:00","01:26:00","01:27:00","01:28:00","01:29:00","01:30:00","01:31:00","01:32:00","01:33:00","01:34:00","01:35:00","01:36:00","01:37:00","01:38:00","01:39:00"],

                       close: ["1840.88000000","1840.01000000","1840.37000000","1839.45000000","1841.94000000","1840.42000000","1839.32000000","1839.63000000","1841.38000000","1841.56000000","1842.04000000","1843.58000000","1844.75000000","1844.73000000","1846.28000000","1846.07000000","1847.68000000","1849.71000000","1849.86000000","1848.06000000","1847.68000000","1846.08000000","1847.06000000","1847.24000000","1849.45000000","1849.73000000","1850.89000000","1850.73000000","1850.31000000","1848.23000000","1847.07000000","1847.39000000"],

                       high: ["1840.88000000","1841.81000000","1841.00000000","1840.06000000","1841.95000000","1841.33000000","1840.80000000","1839.80000000","1841.70000000","1841.70000000","1842.04000000","1843.58000000","1844.75000000","1844.76000000","1846.28000000","1846.53000000","1847.68000000","1849.71000000","1850.11000000","1848.92000000","1847.96000000","1847.69000000","1847.66000000","1847.24000000","1849.45000000","1849.73000000","1850.89000000","1850.73000000","1850.70000000","1849.78000000","1848.23000000","1847.39000000"],

                       increasing: {line: {color: '#336137', width: 1, dash: "solid"}},
                       decreasing: {line: {color: 'rgb(226, 65, 93)', width: 1}},

                       line: {color: 'rgba(31,119,180,1)'},

                       low: ["1839.66000000","1840.01000000","1839.68000000","1839.00000000","1839.44000000","1840.26000000","1839.01000000","1839.17000000","1839.79000000","1841.56000000","1841.43000000","1841.83000000","1843.62000000","1844.07000000","1844.06000000","1845.58000000","1846.09000000","1848.02000000","1849.47000000","1848.06000000","1847.67000000","1846.08000000","1846.82000000","1847.06000000","1847.24000000","1849.11000000","1849.73000000","1850.07000000","1849.43000000","1848.23000000","1847.07000000","1847.02000000"],

                       open: ["1839.68000000","1841.21000000","1840.18000000","1840.06000000","1839.44000000","1841.24000000","1840.80000000","1839.76000000","1839.79000000","1841.60000000","1841.44000000","1841.83000000","1843.62000000","1844.07000000","1844.06000000","1846.38000000","1846.09000000","1848.02000000","1849.99000000","1848.72000000","1847.94000000","1847.69000000","1846.82000000","1847.06000000","1847.24000000","1849.11000000","1849.73000000","1850.52000000","1850.70000000","1849.78000000","1848.23000000","1847.37000000"],
                       type: 'candlestick',
                       name: "Etherium",
                       xaxis: 'x1',
                       yaxis: 'y1'
                    },
                    {
                        x: ["01:08:00","01:09:00","01:10:00","01:11:00","01:12:00","01:13:00","01:14:00","01:15:00","01:16:00","01:17:00","01:18:00","01:19:00","01:20:00","01:21:00","01:22:00","01:23:00","01:24:00","01:25:00","01:26:00","01:27:00","01:28:00","01:29:00","01:30:00","01:31:00","01:32:00","01:33:00","01:34:00","01:35:00","01:36:00","01:37:00","01:38:00","01:39:00"],
                        y: ["","","","","","","","","","","","1841.48190476190460000000","1841.54238095238130000000","1841.44968253968270000000","1841.54539682539710000000","1841.83079365079300000000","1842.05666666666640000000","1842.33063492063480000000","1842.72619047619040000000","1843.06571428571420000000","1843.43222222222200000000","1843.72476190476160000000","1844.03761904761900000000","1844.36285714285740000000","1844.80142857142870000000","1845.20206349206340000000","1845.67031746031760000000","1846.18460317460340000000","1846.69000000000030000000","1847.06095238095240000000","1847.33952380952360000000","1847.59809523809550000000"],
                        xaxis: "x1",
                        yaxis: "y1",
                        type: "scatter",
                        mode: "lines",
                        name: "Boll. MA",
                        line: { shape: "spline", smoothing: 0.35,color: "rgba(160, 255, 160, 0.6)", dash: "dot", },
                    },
                    {
                        x: ["01:08:00","01:09:00","01:10:00","01:11:00","01:12:00","01:13:00","01:14:00","01:15:00","01:16:00","01:17:00","01:18:00","01:19:00","01:20:00","01:21:00","01:22:00","01:23:00","01:24:00","01:25:00","01:26:00","01:27:00","01:28:00","01:29:00","01:30:00","01:31:00","01:32:00","01:33:00","01:34:00","01:35:00","01:36:00","01:37:00","01:38:00","01:39:00"],
                        y: ["","","","","","","","","","","","1845.18505436822670000000","1845.35056905154870000000","1844.50043598738030000000","1845.21409904331000000000","1845.92751696950930000000","1846.82519292017330000000","1848.08016543484090000000","1849.26201382509380000000","1849.88031858428000000000","1850.36039926876220000000","1850.61936329604400000000","1850.83987490926200000000","1851.06191437506940000000","1851.41778965692010000000","1851.96753498599100000000","1852.45275229024580000000","1852.60714680362340000000","1852.55831454902180000000","1852.40401238898470000000","1852.04751556764700000000","1851.62992865797080000000"],
                        xaxis: "x1",
                        yaxis: "y1",
                        type: "scatter",
                        mode: "lines",
                        name: "Boll. U",
                        line: { shape: "spline", smoothing: 0.35,color: "rgba(160, 255, 160, 0.7)", dash: "dashed", },
                    },
                    {
                        x: ["01:08:00","01:09:00","01:10:00","01:11:00","01:12:00","01:13:00","01:14:00","01:15:00","01:16:00","01:17:00","01:18:00","01:19:00","01:20:00","01:21:00","01:22:00","01:23:00","01:24:00","01:25:00","01:26:00","01:27:00","01:28:00","01:29:00","01:30:00","01:31:00","01:32:00","01:33:00","01:34:00","01:35:00","01:36:00","01:37:00","01:38:00","01:39:00"],
                        y: ["","","","","","","","","","","","1837.77875515558250000000","1837.73419285321400000000","1838.39892909198500000000","1837.87669460748430000000","1837.73407033207700000000","1837.28814041315950000000","1836.58110440642870000000","1836.19036712728700000000","1836.25110998714830000000","1836.50404517568180000000","1836.83016051347930000000","1837.23536318597600000000","1837.66379991064540000000","1838.18506748593720000000","1838.43659199813580000000","1838.88788263038940000000","1839.76205954558330000000","1840.82168545097870000000","1841.71789237292000000000","1842.63153205140020000000","1843.56626181822030000000"],
                        xaxis: "x1",
                        yaxis: "y1",
                        type: "scatter",
                        mode: "lines",
                        name: "Boll. U",
                        line: { shape: "spline", smoothing: 0.35,color: "rgba(160, 255, 160, 0.7)", dash: "dashed", },
                    },
                    {
                        x: ["01:08:00","01:09:00","01:10:00","01:11:00","01:12:00","01:13:00","01:14:00","01:15:00","01:16:00","01:17:00","01:18:00","01:19:00","01:20:00","01:21:00","01:22:00","01:23:00","01:24:00","01:25:00","01:26:00","01:27:00","01:28:00","01:29:00","01:30:00","01:31:00","01:32:00","01:33:00","01:34:00","01:35:00","01:36:00","01:37:00","01:38:00","01:39:00"],
                        y: ["34.6571","33.2462","34.4356","32.8259","40.8812","37.8939","35.8521","36.8842","42.5078","43.0697","44.6239","49.3970","52.7306","52.6667","57.0125","56.2588","60.5630","65.2112","65.5345","58.5087","57.1165","51.5543","54.4784","55.0155","61.0860","61.7896","64.6417","63.9329","62.0105","53.4407","49.3450","50.4727"],
                        xaxis: "x2",
                        yaxis: "y2",
                        type: "scatter",
                        mode: "lines",
                        name: "RSI",
                        line: { shape: "spline", smoothing: 0.65,color: "rgba(160, 255, 160, 0.8)" },
                    },
                    {
                        x: ["01:08:00","01:09:00","01:10:00","01:11:00","01:12:00","01:13:00","01:14:00","01:15:00","01:16:00","01:17:00","01:18:00","01:19:00","01:20:00","01:21:00","01:22:00","01:23:00","01:24:00","01:25:00","01:26:00","01:27:00","01:28:00","01:29:00","01:30:00","01:31:00","01:32:00","01:33:00","01:34:00","01:35:00","01:36:00","01:37:00","01:38:00","01:39:00"],
                        y: ["","20.041753653444676409185800","23.799582463465553235908100","13.473684210526315789473700","39.684210526315789473684200","23.684210526315789473684200","13.657957244655581947743500","21.823617339312406576980600","40.614334470989761092150200","43.686006825938566552901000","83.060109289617486338797800","100.000000000000000000000000","100.000000000000000000000000","99.479166666666666666666700","100.000000000000000000000000","93.891102257636122177954800","100.000000000000000000000000","100.000000000000000000000000","97.747747747747747747747700","81.531531531531531531531500","77.787934186471663619744100","60.949612403100775193798400","64.861751152073732718894000","66.935483870967741935483900","92.028985507246376811594200","94.144838212634822804314300","100.000000000000000000000000","97.657393850658857979502200","89.077212806026365348399200","44.698544698544698544698500","20.582120582120582120582100","27.234927234927234927234900"],
                        xaxis: "x3",
                        yaxis: "y3",
                        type: "scatter",
                        mode: "lines",
                        name: "S1. kFast",
                        line: { shape: "spline", smoothing: 0.65,color: "rgba(255, 160, 160, 0.8)" },
                    },
                    {
                        x: ["01:08:00","01:09:00","01:10:00","01:11:00","01:12:00","01:13:00","01:14:00","01:15:00","01:16:00","01:17:00","01:18:00","01:19:00","01:20:00","01:21:00","01:22:00","01:23:00","01:24:00","01:25:00","01:26:00","01:27:00","01:28:00","01:29:00","01:30:00","01:31:00","01:32:00","01:33:00","01:34:00","01:35:00","01:36:00","01:37:00","01:38:00","01:39:00"],
                        y: ["","-1.000000000000000000000000","-1.000000000000000000000000","-1.000000000000000000000000","25.652492400102553157894700","25.614035087719298157894700","25.675459432429053982581200","19.721928370094593192326900","25.365303018319250030716700","35.374652878746910850967000","55.786816862181938779599300","75.582038705185353333333300","94.353369763205830000000000","99.826388888888888888889000","99.826388888888890000000000","97.790089641434264059318300","97.963700752545373333333300","97.963700752545373333333300","99.249249249249249249249300","93.093093093093093843844000","85.689071155250314539914700","73.423026040367988397932700","67.866432580548720906298000","64.248949142047417311828000","74.608740176762618937198000","84.369769196949647601438000","95.391274573293733333333300","97.267410687764559326500700","95.578202218895075116133000","77.144383785076642848233000","51.452626028897217373527300","30.838530838530838309078300"],
                        xaxis: "x3",
                        yaxis: "y3",
                        type: "scatter",
                        mode: "lines",
                        name: "S1. dSlow",
                        line: { shape: "spline", smoothing: 0.65 , color: "rgba(160, 160, 255, 0.8)" },
                    },
                    {
                        x: ["01:08:00","01:09:00","01:10:00","01:11:00","01:12:00","01:13:00","01:14:00","01:15:00","01:16:00","01:17:00","01:18:00","01:19:00","01:20:00","01:21:00","01:22:00","01:23:00","01:24:00","01:25:00","01:26:00","01:27:00","01:28:00","01:29:00","01:30:00","01:31:00","01:32:00","01:33:00","01:34:00","01:35:00","01:36:00","01:37:00","01:38:00","01:39:00"],
                        y: ["","-1.000000000000000000000000","-1.000000000000000000000000","-1.000000000000000000000000","-1.000000000000000000000000","-1.000000000000000000000000","-1.000000000000000000000000","19.721928370094590000000000","25.365303018319250000000000","35.374652878746910000000000","55.786816862181940000000000","75.582038705185350000000000","94.353369763205830000000000","99.826388888888890000000000","99.826388888888890000000000","97.790089641434260000000000","97.963700752545380000000000","97.963700752545380000000000","99.249249249249250000000000","93.093093093093090000000000","85.689071155250320000000000","73.423026040367990000000000","67.866432580548720000000000","64.248949142047420000000000","74.608740176762620000000000","84.369769196949650000000000","95.391274573293730000000000","97.267410687764550000000000","95.578202218895070000000000","77.144383785076640000000000","51.452626028897214000000000","30.838530838530840000000000"],
                        xaxis: "x3",
                        yaxis: "y3",
                        type:"scatter",
                        mode: "lines",
                        name: "S2. kFull",
                        line: { shape: "spline", smoothing: 0.65,color: "d3a0ffcc" },
                    },
                    {
                        x: ["01:08:00","01:09:00","01:10:00","01:11:00","01:12:00","01:13:00","01:14:00","01:15:00","01:16:00","01:17:00","01:18:00","01:19:00","01:20:00","01:21:00","01:22:00","01:23:00","01:24:00","01:25:00","01:26:00","01:27:00","01:28:00","01:29:00","01:30:00","01:31:00","01:32:00","01:33:00","01:34:00","01:35:00","01:36:00","01:37:00","01:38:00","01:39:00"],
                        y: ["","-1.000000000000000000000000","-1.000000000000000000000000","-1.000000000000000000000000","-1.000000000000000000000000","-1.000000000000000000000000","-1.000000000000000000000000","23.670474296747647333333300","23.587563606947631333333300","26.820628089053583333333300","38.842257586416033333333300","55.581169482038066666666700","75.240741776857706666666700","89.920599119093356666666700","98.002049180327870000000000","99.147622473070680000000000","98.526726427622843333333300","97.905830382175006666666700","98.392216918113336666666700","96.768681031629240000000000","92.677137832530886666666700","84.068396762903800000000000","75.659509925389010000000000","68.512802587654710000000000","68.908040633119586666666700","74.409152838586563333333300","84.789927982335333333333300","92.342818152669310000000000","96.078962493317783333333300","89.996665563912086666666700","74.725070677622974666666700","53.145180217501564666666700"],
                        xaxis: "x3",
                        yaxis: "y3",
                        type: "scatter",
                        mode: "lines",
                        name: "S2. dFull",
                        line: { shape: "spline", smoothing: 0.65 , color: "fff0a0cc" },
                    }
                ];
                plot();
            }

            function plot() {
                Plotly.newPlot("plotDiv1", this.data, this.graphOptions["layout"]);
            }

            var stochasticFast = true;
            let stoPlot = document.querySelector(".cartesianlayer .x3y3 .plot .scatterlayer");
            let stoPlot2 = document.querySelectorAll(".cartesianlayer .x3y3 .plot .scatterlayer .trace");
            let stoTitle = document.querySelector(".infolayer .g-y3title text");

            stoPlot2.forEach(function(elem) {
                elem.addEventListener('mouseenter', (e) => {
                    //setTimeout(() => {
                        console.log("hey");
                        let hoverText = document.querySelector(".main-svg .hoverlayer .hovertext");
                        if(!stochasticFast) {
                            if(hoverText.childNodes[0].innerHTML === "Stoc. - kFast") {
                                hoverText.childNodes[0].style.visibility = "hidden";
                                hoverText.childNodes[1].style.visibility = "hidden";
                            }

                        } else {
                            stoTitle.innerHTML= "Stoch. - Fast";
                            if(hoverText.childNodes[0].innerHTML === "Stoc. - kFast") {
                                hoverText.childNodes[2].style.visibility = "hidden";
                                hoverText.childNodes[3].style.visibility = "hidden";
                            }
                        }
                    //}, 1000);
                });
            });

            /*stoPlot.addEventListener('mouseenter', (e) => {
                //setTimeout(() => {
                    console.log("hey");
                    let hoverText = document.querySelector(".main-svg .hoverlayer .hovertext");
                    if(!stochasticFast) {
                        if(hoverText.childNodes[0].innerHTML === "Stoc. - kFast") {
                            hoverText.childNodes[0].style.visibility = "hidden";
                            hoverText.childNodes[1].style.visibility = "hidden";
                        }

                    } else {
                        stoTitle.innerHTML= "Stoch. - Fast";
                        if(hoverText.childNodes[0].innerHTML === "Stoc. - kFast") {
                            hoverText.childNodes[2].style.visibility = "hidden";
                            hoverText.childNodes[3].style.visibility = "hidden";
                        }
                    }
                //}, 1000);
            });*/

            document.addEventListener('keydown', (e) => {

                // Only accept 'F'
                if(e.code !== 'KeyS') {
                    return;
                }

                /* Show only fast or full Stochastics on keypress */
                stochasticFast = !stochasticFast;

                if(!stochasticFast) {
                    stoPlot.childNodes[0].style.visibility = "hidden";
                    stoPlot.childNodes[1].style.visibility = "hidden";
                    stoPlot.childNodes[2].style.visibility = "visible";
                    stoPlot.childNodes[3].style.visibility = "visible";
                    stoTitle.innerHTML = "Stoch. - Full";
                } else {
                    stoPlot.childNodes[0].style.visibility = "visible";
                    stoPlot.childNodes[1].style.visibility = "visible";
                    stoPlot.childNodes[2].style.visibility = "hidden";
                    stoPlot.childNodes[3].style.visibility = "hidden";
                    stoTitle.innerHTML= "Stoch. - Fast";
                }
            });

            /* Only have fast k and slow d showing initially */
            stoPlot.childNodes[2].style.visibility = "hidden";
            stoPlot.childNodes[3].style.visibility = "hidden";
            stoTitle.innerHTML= "Stoch. - Fast";
        </script>
    </body>
</html>
