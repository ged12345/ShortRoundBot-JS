<!DOCTYPE html>
<html>
    <head>
        <script src="js/plotly-latest.min.js"></script>
        <meta charset="utf-8" />
        <title>SRBot | Bitcoin</title>
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl"
            crossorigin="anonymous"
        />
    </head>

    <body style="background: #212529; overflow: hidden">
        <div id="plotDiv1" class="mt-3" style="width: 100%; height: 1000px">
            <!-- Plotly chart will be drawn inside this DIV -->
        </div>
        <script id="javascript">

            graphOptions = {
                filename: "coin-axes",
                fileopt: "overwrite",
                layout: {
                    plot_bgcolor: "#212529",
                    paper_bgcolor: "#212529",
                    title: {
                        text: "ShortRoundBot | Bitcoin",
                        font: {
                            family: "Avenir Light",
                            size: 36,
                            color: "white"
                        },
                    },
                    legend: {
                        font: {
                            family: "Avenir Light",
                            size: 14,
                            color: "white",
                        },
                        visible: false,
                    },
                    grid: {
                        rows: 3,
                        columns: 1,
                        pattern: "independent",
                        roworder: "top to bottom",
                    },
                    xaxis: {
                        visible: true,
                        range: [0, 31],
                        rangeslider: {
                            visible: false
                        },
                        showgrid: false,
                        showticklabels: false,
                        color: "white",
                        gridcolor: "rgba(255,255,255,0.05)",
                    },
                    yaxis: {
                        autorange: false,
                        range: [35957.97798109307, 36611.129250276055],
                        domain: [0.5, 1],
                        type: 'linear',
                        color: "white",
                        showgrid: true,
                        gridcolor: "rgba(255,255,255,0.05)",
                    },
                    xaxis2: {
                        range: [0, 31], zeroline: false, color: "white", gridcolor: "rgba(255,255,255,0.05)", showgrid: true, showticklabels: false,
                    },
                    yaxis2: {
                        range: [-2, 105], domain: [0.3, 0.45], zeroline: false, gridcolor: "rgba(255,255,255,0.05)", color: "white",
                        title: {
                            text: "RSI",
                            font: {
                                family: "Avenir Light",
                                size: 24,
                                color: "white"
                            },
                        },
                    },
                    xaxis3: {
                        range: [0, 31], color: "white", zeroline: false,
                        gridcolor: "rgba(255,255,255,0.05)",
                    },
                    yaxis3: {
                        range: [-2, 105], color: "white", domain: [0.1, 0.25],
                        gridcolor: "rgba(255,255,255,0.05)",
                        title: {
                            text: "Stoch. - F",
                            font: {
                                family: "Avenir Light",
                                size: 24,
                                color: "white"
                            },
                        },
                    },
                    shapes: [
                        {
                            type: "line",
                            xref: "paper",
                            yref: "y2",
                            x0: 0,
                            y0: 50.0,
                            x1: 1,
                            y1: 50.0,
                            line: {
                                color: "rgba(0, 0, 255, 0.4)",
                                width: 2,
                                dash: "dot",
                            },
                            opacity: 0.5,
                            layer: "below",
                        },
                        {
                            type: "line",
                            xref: "paper",
                            yref: "y2",
                            x0: 0,
                            y0: 66.66,
                            x1: 1,
                            y1: 66.66,
                            line: {
                                color: "rgb(255, 0, 0)",
                                width: 2,
                                dash: "dot",
                            },
                            opacity: 0.5,
                            layer: "below",
                        },
                        {
                            type: "line",
                            xref: "paper",
                            yref: "y2",
                            x0: 0,
                            y0: 33.33,
                            x1: 1,
                            y1: 33.33,
                            line: {
                                color: "rgb(255, 0, 0)",
                                width: 2,
                                dash: "dot",
                            },
                            opacity: 0.5,
                            layer: "below",
                        },
                        {
                            type: "line",
                            xref: "paper",
                            yref: "y3",
                            x0: 0,
                            y0: 20,
                            x1: 1,
                            y1: 20,
                            line: {
                                color: "rgb(255, 0, 0)",
                                width: 2,
                                dash: "dot",
                            },
                            opacity: 0.5,
                            layer: "below",
                        },
                        {
                            type: "line",
                            xref: "paper",
                            yref: "y3",
                            x0: 0,
                            y0: 80,
                            x1: 1,
                            y1: 80,
                            line: {
                                color: "rgb(255, 0, 0)",
                                width: 2,
                                dash: "dot",
                            },
                            opacity: 0.5,
                            layer: "below",
                        },
                        {
                            type: "line",
                            xref: "paper",
                            yref: "y3",
                            x0: 0,
                            y0: 50.0,
                            x1: 1,
                            y1: 50.0,
                            line: {
                                color: "rgba(0, 0, 255, 0.4)",
                                width: 2,
                                dash: "dot",
                            },
                            opacity: 0.5,
                            layer: "below",
                        },
                    ],
                },
            };

            init();

            function init(
            ) {

                this.data = [
                    {

                        x: ["23:53:00","23:54:00","23:55:00","23:56:00","23:57:00","23:58:00","23:59:00","24:00:00","24:01:00","24:02:00","24:03:00","24:04:00","24:05:00","24:06:00","24:07:00","24:08:00","24:09:00","24:10:00","24:11:00","24:12:00","24:13:00","24:14:00","24:15:00","24:16:00","24:17:00","24:18:00","24:19:00","24:20:00","24:21:00","24:22:00","24:23:00","24:24:00"],

                        close: ["36378.80000000","36392.00000000","36351.20000000","36369.00000000","36293.40000000","36321.40000000","36328.50000000","36228.20000000","36236.80000000","36059.00000000","36078.50000000","36078.90000000","36132.20000000","36064.30000000","36108.40000000","36126.90000000","36128.00000000","36064.30000000","36109.70000000","36149.70000000","36102.90000000","36129.70000000","36108.20000000","36122.10000000","36119.60000000","36081.50000000","36026.90000000","36042.60000000","36006.00000000","36044.20000000","36060.10000000","36022.00000000"],

                        high: ["36404.90000000","36392.00000000","36389.00000000","36369.00000000","36331.00000000","36321.40000000","36339.60000000","36328.40000000","36255.00000000","36237.90000000","36078.60000000","36084.60000000","36167.50000000","36136.70000000","36138.90000000","36126.90000000","36128.00000000","36140.70000000","36116.70000000","36149.70000000","36128.20000000","36135.90000000","36129.80000000","36123.90000000","36123.50000000","36104.50000000","36081.80000000","36042.60000000","36042.20000000","36044.20000000","36060.10000000","36065.10000000"],

                        increasing: { line: { color: '#336137', width: 1, dash: "solid" } },
                        decreasing: { line: { color: 'rgb(226, 65, 93)', width: 1 } },

                        line: { color: 'rgba(31,119,180,1)' },

                        low: ["36378.80000000","36385.90000000","36335.00000000","36348.60000000","36293.40000000","36277.90000000","36321.30000000","36188.80000000","36233.70000000","36050.10000000","36030.90000000","36050.50000000","36089.90000000","36064.30000000","36092.10000000","36119.20000000","36122.20000000","36064.30000000","36064.30000000","36108.60000000","36102.90000000","36103.50000000","36108.20000000","36079.80000000","36107.60000000","36079.90000000","36025.70000000","36015.90000000","36006.00000000","35958.90000000","36038.30000000","36022.00000000"],

                        open: ["36404.80000000","36388.70000000","36389.00000000","36350.90000000","36331.00000000","36293.40000000","36321.40000000","36328.40000000","36233.70000000","36237.90000000","36058.90000000","36078.50000000","36089.90000000","36094.40000000","36092.10000000","36125.40000000","36127.00000000","36140.70000000","36064.30000000","36114.50000000","36128.20000000","36103.50000000","36129.40000000","36108.20000000","36107.60000000","36102.00000000","36080.10000000","36026.90000000","36042.20000000","36006.10000000","36038.30000000","36060.10000000"],
                        type: 'candlestick',
                        name: "Bitcoin",
                        xaxis: 'x1',
                        yaxis: 'y1'
                    },
                    {
                        x: ["23:53:00","23:54:00","23:55:00","23:56:00","23:57:00","23:58:00","23:59:00","24:00:00","24:01:00","24:02:00","24:03:00","24:04:00","24:05:00","24:06:00","24:07:00","24:08:00","24:09:00","24:10:00","24:11:00","24:12:00","24:13:00","24:14:00","24:15:00","24:16:00","24:17:00","24:18:00","24:19:00","24:20:00","24:21:00","24:22:00","24:23:00","24:24:00"],
                        y: ["","","","","","","","","","","","","36366.40158730159000000000","36314.24126984127000000000","36298.21269841269500000000","36282.76190476191000000000","36267.74126984127000000000","36249.80000000001000000000","36231.77142857143000000000","36215.52222222222000000000","36199.83333333333600000000","36187.23968253968600000000","36174.16507936508400000000","36162.26984126984000000000","36150.58888888889000000000","36140.24126984126600000000","36127.76031746032000000000","36113.66031746032000000000","36102.68888888888600000000","36091.92380952381000000000","36088.93174603175400000000","36087.67936507937000000000"],
                        xaxis: "x1",
                        yaxis: "y1",
                        type: "scatter",
                        mode: "lines",
                        name: "Boll. MA",
                        line: { shape: "spline", smoothing: 0.35, color: "rgba(160, 255, 160, 0.6)", dash: "dot", },
                    },
                    {
                        x: ["23:53:00","23:54:00","23:55:00","23:56:00","23:57:00","23:58:00","23:59:00","24:00:00","24:01:00","24:02:00","24:03:00","24:04:00","24:05:00","24:06:00","24:07:00","24:08:00","24:09:00","24:10:00","24:11:00","24:12:00","24:13:00","24:14:00","24:15:00","24:16:00","24:17:00","24:18:00","24:19:00","24:20:00","24:21:00","24:22:00","24:23:00","24:24:00"],
                        y: ["","","","","","","","","","","","","36611.12925027605500000000","36605.44025348058000000000","36595.01184669612000000000","36579.14519248682000000000","36560.38392951088500000000","36538.14888196841000000000","36505.56487604979000000000","36466.75793324740500000000","36435.54412041655500000000","36409.51495507364600000000","36377.81371679815000000000","36349.82360366038000000000","36313.41671972358000000000","36291.41857080451000000000","36261.58724871238500000000","36215.45622193492000000000","36198.95323393410000000000","36168.57670624640000000000","36165.50212745079600000000","36169.43637022973400000000"],
                        xaxis: "x1",
                        yaxis: "y1",
                        type: "scatter",
                        mode: "lines",
                        name: "Boll. U",
                        line: { shape: "spline", smoothing: 0.35, color: "rgba(160, 255, 160, 0.7)", dash: "dashed", },
                    },
                    {
                        x: ["23:53:00","23:54:00","23:55:00","23:56:00","23:57:00","23:58:00","23:59:00","24:00:00","24:01:00","24:02:00","24:03:00","24:04:00","24:05:00","24:06:00","24:07:00","24:08:00","24:09:00","24:10:00","24:11:00","24:12:00","24:13:00","24:14:00","24:15:00","24:16:00","24:17:00","24:18:00","24:19:00","24:20:00","24:21:00","24:22:00","24:23:00","24:24:00"],
                        y: ["","","","","","","","","","","","","36121.67392432712000000000","36023.04228620197000000000","36001.41355012927000000000","35986.37861703699000000000","35975.09861017166000000000","35961.45111803161000000000","35957.97798109307000000000","35964.28651119704000000000","35964.12254625012000000000","35964.96441000573000000000","35970.51644193202000000000","35974.71607887930000000000","35987.76105805419500000000","35989.06396887802000000000","35993.93338620826000000000","36011.86441298573000000000","36006.42454384367000000000","36015.27091280122000000000","36012.36136461271000000000","36005.92235992900500000000"],
                        xaxis: "x1",
                        yaxis: "y1",
                        type: "scatter",
                        mode: "lines",
                        name: "Boll. U",
                        line: { shape: "spline", smoothing: 0.35, color: "rgba(160, 255, 160, 0.7)", dash: "dashed", },
                    },
                    {
                        x: ["23:53:00","23:54:00","23:55:00","23:56:00","23:57:00","23:58:00","23:59:00","24:00:00","24:01:00","24:02:00","24:03:00","24:04:00","24:05:00","24:06:00","24:07:00","24:08:00","24:09:00","24:10:00","24:11:00","24:12:00","24:13:00","24:14:00","24:15:00","24:16:00","24:17:00","24:18:00","24:19:00","24:20:00","24:21:00","24:22:00","24:23:00","24:24:00"],
                        y: ["","","","","","","","","","","","","36412.2625","36375.0062","36362.9750","36351.0219","36339.0594","36324.4094","36312.2125","36300.5219","36286.1469","36276.1844","36264.7875","36253.9344","36243.1625","36231.8250","36218.6062","36205.8750","36191.2250","36177.6906","36164.6563","36152.0313"],
                        xaxis: "x1",
                        yaxis: "y1",
                        type: "scatter",
                        mode: "lines",
                        name: "EMA",
                        line: { shape: "spline", smoothing: 0.35, color: "rgba(260, 55, 160, 0.7)", dash: "dashed", },
                    },
                    {
                        x: ["23:53:00","23:54:00","23:55:00","23:56:00","23:57:00","23:58:00","23:59:00","24:00:00","24:01:00","24:02:00","24:03:00","24:04:00","24:05:00","24:06:00","24:07:00","24:08:00","24:09:00","24:10:00","24:11:00","24:12:00","24:13:00","24:14:00","24:15:00","24:16:00","24:17:00","24:18:00","24:19:00","24:20:00","24:21:00","24:22:00","24:23:00","24:24:00"],
                        y: ["51.2088","41.5135","34.9451","37.9042","32.9199","36.8231","29.0830","34.5687","35.9222","27.3232","28.8949","19.5039","22.4797","21.7484","29.9550","33.3554","33.5778","27.4309","36.9686","44.4313","38.2813","43.4773","40.3191","43.4018","42.9391","36.1318","28.5969","33.2397","28.2699","39.2623","43.4460","36.4656"],
                        xaxis: "x2",
                        yaxis: "y2",
                        type: "scatter",
                        mode: "lines",
                        name: "RSI",
                        line: { shape: "spline", smoothing: 0.65, color: "rgba(160, 255, 160, 0.8)" },
                    },
                    {
                        x: ["23:53:00","23:54:00","23:55:00","23:56:00","23:57:00","23:58:00","23:59:00","24:00:00","24:01:00","24:02:00","24:03:00","24:04:00","24:05:00","24:06:00","24:07:00","24:08:00","24:09:00","24:10:00","24:11:00","24:12:00","24:13:00","24:14:00","24:15:00","24:16:00","24:17:00","24:18:00","24:19:00","24:20:00","24:21:00","24:22:00","24:23:00","24:24:00"],
                        y: ["","","","","","","","","","","","","10.606060606060606060606100","8.930481283422459893048130","21.462198836887288839656600","26.808154146886344596481400","28.719313812481514344868400","10.819565921606737933268500","25.526401036605118237771300","38.483965014577259475218700","24.201680672268907563025200","44.087460954930834448906700","37.342995169082125603864700","66.764275256222547584187400","59.059829059829059829059800","16.666666666666666666666700","0.967741935483870967741935","19.955156950672645739910300","0.000000000000000000000000","44.706498951781970649895200","53.039832285115303983228500","33.071278825995807127882600"],
                        xaxis: "x3",
                        yaxis: "y3",
                        type: "scatter",
                        mode: "lines",
                        name: "S1. kFast",
                        line: { shape: "spline", smoothing: 0.65, color: "rgba(255, 160, 160, 0.8)" },
                    },
                    {
                        x: ["23:53:00","23:54:00","23:55:00","23:56:00","23:57:00","23:58:00","23:59:00","24:00:00","24:01:00","24:02:00","24:03:00","24:04:00","24:05:00","24:06:00","24:07:00","24:08:00","24:09:00","24:10:00","24:11:00","24:12:00","24:13:00","24:14:00","24:15:00","24:16:00","24:17:00","24:18:00","24:19:00","24:20:00","24:21:00","24:22:00","24:23:00","24:24:00"],
                        y: ["","","","","","","","","","","","","-1.000000000000000000000000","-1.000000000000000000000000","17.284959652399012946552200","25.026169043553326532160500","28.082260590616457448289500","16.786148551898329644422800","20.624122664938992079257100","34.164777021919879825073000","28.962442119705024854341700","37.458867527376857149635700","39.591150431031691867955000","56.957181893842405861395700","61.627977791960223276353300","30.797720797720798222222200","6.200716845878136655913970","13.626018612276387246636800","6.651718983557548333333330","29.804332634521314883298400","50.262054507337525994409700","39.727463312368970709294300"],
                        xaxis: "x3",
                        yaxis: "y3",
                        type: "scatter",
                        mode: "lines",
                        name: "S1. dSlow",
                        line: { shape: "spline", smoothing: 0.65, color: "rgba(160, 160, 255, 0.8)" },
                    },
                    {
                        x: ["23:53:00","23:54:00","23:55:00","23:56:00","23:57:00","23:58:00","23:59:00","24:00:00","24:01:00","24:02:00","24:03:00","24:04:00","24:05:00","24:06:00","24:07:00","24:08:00","24:09:00","24:10:00","24:11:00","24:12:00","24:13:00","24:14:00","24:15:00","24:16:00","24:17:00","24:18:00","24:19:00","24:20:00","24:21:00","24:22:00","24:23:00","24:24:00"],
                        y: ["","","","","","","","","","","","","-1.000000000000000000000000","-1.000000000000000000000000","-1.000000000000000000000000","-1.000000000000000000000000","-1.000000000000000000000000","16.786148551898330000000000","20.624122664938990000000000","34.164777021919880000000000","28.962442119705024000000000","37.458867527376860000000000","39.591150431031690000000000","56.957181893842400000000000","61.627977791960230000000000","30.797720797720800000000000","6.200716845878136000000000","13.626018612276388000000000","6.651718983557548000000000","29.804332634521316000000000","50.262054507337524000000000","39.727463312368970000000000"],
                        xaxis: "x3",
                        yaxis: "y3",
                        type: "scatter",
                        mode: "lines",
                        name: "S2. kFull",
                        line: { shape: "spline", smoothing: 0.65, color: "d3a0ffcc" },
                    },
                    {
                        x: ["23:53:00","23:54:00","23:55:00","23:56:00","23:57:00","23:58:00","23:59:00","24:00:00","24:01:00","24:02:00","24:03:00","24:04:00","24:05:00","24:06:00","24:07:00","24:08:00","24:09:00","24:10:00","24:11:00","24:12:00","24:13:00","24:14:00","24:15:00","24:16:00","24:17:00","24:18:00","24:19:00","24:20:00","24:21:00","24:22:00","24:23:00","24:24:00"],
                        y: ["","","","","","","","","","","","","-1.000000000000000000000000","-1.000000000000000000000000","-1.000000000000000000000000","-1.000000000000000000000000","-1.000000000000000000000000","22.328029034279884666666700","19.699566046800592333333300","26.577403448151748000000000","30.843744905369554666666700","34.004115064780294666666700","37.420243407945280000000000","48.648858706095306666666700","57.658064282504626666666700","46.640874083529040000000000","20.854394510308490000000000","10.785530214142972666666700","9.084012408184258333333330","19.336645639632356333333300","37.549499184719311666666700","44.531795946890284666666700"],
                        xaxis: "x3",
                        yaxis: "y3",
                        type: "scatter",
                        mode: "lines",
                        name: "S2. dFull",
                        line: { shape: "spline", smoothing: 0.65, color: "fff0a0cc" },
                    }
                ];
                plot();
            }

            function plot() {
                Plotly.newPlot("plotDiv1", this.data, this.graphOptions["layout"]);
            }

            var stochasticFast = true;
            let stoPlot = document.querySelector(".cartesianlayer .x3y3 .plot .scatterlayer");
            let stoPlot2 = document.querySelectorAll(".cartesianlayer .x3y3 .plot .scatterlayer .trace");
            let stoTitle = document.querySelector(".infolayer .g-y3title text");

            stoPlot2.forEach(function (elem) {
                elem.addEventListener('mouseenter', (e) => {
                    //setTimeout(() => {
                    console.log("hey");
                    let hoverText = document.querySelector(".main-svg .hoverlayer .hovertext");
                    if (!stochasticFast) {
                        if (hoverText.childNodes[0].innerHTML === "Stoc. - kFast") {
                            hoverText.childNodes[0].style.visibility = "hidden";
                            hoverText.childNodes[1].style.visibility = "hidden";
                        }

                    } else {
                        stoTitle.innerHTML = "Stoch. - Fast";
                        if (hoverText.childNodes[0].innerHTML === "Stoc. - kFast") {
                            hoverText.childNodes[2].style.visibility = "hidden";
                            hoverText.childNodes[3].style.visibility = "hidden";
                        }
                    }
                    //}, 1000);
                });
            });

            /*stoPlot.addEventListener('mouseenter', (e) => {
                //setTimeout(() => {

                    let hoverText = document.querySelector(".main-svg .hoverlayer .hovertext");
                    if(!stochasticFast) {
                        if(hoverText.childNodes[0].innerHTML === "Stoc. - kFast") {
                            hoverText.childNodes[0].style.visibility = "hidden";
                            hoverText.childNodes[1].style.visibility = "hidden";
                        }

                    } else {
                        stoTitle.innerHTML= "Stoch. - Fast";
                        if(hoverText.childNodes[0].innerHTML === "Stoc. - kFast") {
                            hoverText.childNodes[2].style.visibility = "hidden";
                            hoverText.childNodes[3].style.visibility = "hidden";
                        }
                    }
                //}, 1000);
            });*/

            document.addEventListener('keydown', (e) => {

                // Only accept 'F'
                if (e.code !== 'KeyS') {
                    return;
                }

                /* Show only fast or full Stochastics on keypress */
                stochasticFast = !stochasticFast;

                if (!stochasticFast) {
                    stoPlot.childNodes[0].style.visibility = "hidden";
                    stoPlot.childNodes[1].style.visibility = "hidden";
                    stoPlot.childNodes[2].style.visibility = "visible";
                    stoPlot.childNodes[3].style.visibility = "visible";
                    stoTitle.innerHTML = "Stoch. - Full";
                } else {
                    stoPlot.childNodes[0].style.visibility = "visible";
                    stoPlot.childNodes[1].style.visibility = "visible";
                    stoPlot.childNodes[2].style.visibility = "hidden";
                    stoPlot.childNodes[3].style.visibility = "hidden";
                    stoTitle.innerHTML = "Stoch. - Fast";
                }
            });

            /* Only have fast k and slow d showing initially */
            stoPlot.childNodes[2].style.visibility = "hidden";
            stoPlot.childNodes[3].style.visibility = "hidden";
            stoTitle.innerHTML = "Stoch. - Fast";
        </script>
    </body>
</html>
