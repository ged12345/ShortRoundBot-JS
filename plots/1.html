<!DOCTYPE html>
<html>
    <head>
        <script src="js/plotly-latest.min.js"></script>
        <meta charset="utf-8" />
        <title>SRBot | Bitcoin</title>
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl"
            crossorigin="anonymous"
        />
    </head>

    <body style="background: #212529; overflow: hidden">
        <div id="plotDiv1" class="mt-3" style="width: 100%; height: 1000px">
            <!-- Plotly chart will be drawn inside this DIV -->
        </div>
        <script id="javascript">

            graphOptions = {
                filename: "coin-axes",
                fileopt: "overwrite",
                layout: {
                    plot_bgcolor: "#212529",
                    paper_bgcolor: "#212529",
                    title: {
                        text: "ShortRoundBot | Bitcoin",
                        font: {
                            family: "Avenir Light",
                            size: 36,
                            color: "white"
                        },
                    },
                    legend: {
                        font: {
                            family: "Avenir Light",
                            size: 14,
                            color: "white",
                        },
                        visible: false,
                    },
                    grid: {
                        rows: 3,
                        columns: 1,
                        pattern: "independent",
                        roworder: "top to bottom",
                    },
                    xaxis: {
                        visible: true,
                        range: [0, 31],
                        rangeslider: {
                            visible: false
                        },
                        showgrid: false,
                        showticklabels: false,
                        color: "white",
                        gridcolor: "rgba(255,255,255,0.05)",
                    },
                    yaxis: {
                        autorange: false,
                        range: [35328.232203088846, 35630.508776818555],
                        domain: [0.5, 1],
                        type: 'linear',
                        color: "white",
                        showgrid: true,
                        gridcolor: "rgba(255,255,255,0.05)",
                    },
                    xaxis2: {
                        range: [0, 31], zeroline: false, color: "white", gridcolor: "rgba(255,255,255,0.05)", showgrid: true, showticklabels: false,
                    },
                    yaxis2: {
                        range: [-2, 105], domain: [0.3, 0.45], zeroline: false, gridcolor: "rgba(255,255,255,0.05)", color: "white",
                        title: {
                            text: "RSI",
                            font: {
                                family: "Avenir Light",
                                size: 24,
                                color: "white"
                            },
                        },
                    },
                    xaxis3: {
                        range: [0, 31], color: "white", zeroline: false,
                        gridcolor: "rgba(255,255,255,0.05)",
                    },
                    yaxis3: {
                        range: [-2, 105], color: "white", domain: [0.1, 0.25],
                        gridcolor: "rgba(255,255,255,0.05)",
                        title: {
                            text: "Stoch. - F",
                            font: {
                                family: "Avenir Light",
                                size: 24,
                                color: "white"
                            },
                        },
                    },
                    shapes: [
                        {
                            type: "line",
                            xref: "paper",
                            yref: "y2",
                            x0: 0,
                            y0: 50.0,
                            x1: 1,
                            y1: 50.0,
                            line: {
                                color: "rgba(0, 0, 255, 0.4)",
                                width: 2,
                                dash: "dot",
                            },
                            opacity: 0.5,
                            layer: "below",
                        },
                        {
                            type: "line",
                            xref: "paper",
                            yref: "y2",
                            x0: 0,
                            y0: 66.66,
                            x1: 1,
                            y1: 66.66,
                            line: {
                                color: "rgb(255, 0, 0)",
                                width: 2,
                                dash: "dot",
                            },
                            opacity: 0.5,
                            layer: "below",
                        },
                        {
                            type: "line",
                            xref: "paper",
                            yref: "y2",
                            x0: 0,
                            y0: 33.33,
                            x1: 1,
                            y1: 33.33,
                            line: {
                                color: "rgb(255, 0, 0)",
                                width: 2,
                                dash: "dot",
                            },
                            opacity: 0.5,
                            layer: "below",
                        },
                        {
                            type: "line",
                            xref: "paper",
                            yref: "y3",
                            x0: 0,
                            y0: 20,
                            x1: 1,
                            y1: 20,
                            line: {
                                color: "rgb(255, 0, 0)",
                                width: 2,
                                dash: "dot",
                            },
                            opacity: 0.5,
                            layer: "below",
                        },
                        {
                            type: "line",
                            xref: "paper",
                            yref: "y3",
                            x0: 0,
                            y0: 80,
                            x1: 1,
                            y1: 80,
                            line: {
                                color: "rgb(255, 0, 0)",
                                width: 2,
                                dash: "dot",
                            },
                            opacity: 0.5,
                            layer: "below",
                        },
                        {
                            type: "line",
                            xref: "paper",
                            yref: "y3",
                            x0: 0,
                            y0: 50.0,
                            x1: 1,
                            y1: 50.0,
                            line: {
                                color: "rgba(0, 0, 255, 0.4)",
                                width: 2,
                                dash: "dot",
                            },
                            opacity: 0.5,
                            layer: "below",
                        },
                    ],
                },
            };

            init();

            function init(
            ) {

                this.data = [
                    {

                        x: ["10:46:00","10:47:00","10:48:00","10:49:00","10:50:00","10:51:00","10:52:00","10:53:00","10:54:00","10:55:00","10:56:00","10:57:00","10:58:00","10:59:00","11:00:00","11:01:00","11:02:00","11:03:00","11:04:00","11:05:00","11:06:00","11:07:00","11:08:00","11:09:00","11:10:00","11:11:00","11:12:00","11:13:00","11:14:00","11:15:00","11:16:00","11:17:00","11:18:00"],

                        close: ["35376.20000000","35417.90000000","35442.50000000","35434.30000000","35460.10000000","35462.80000000","35483.70000000","35464.60000000","35499.90000000","35475.80000000","35491.80000000","35490.30000000","35556.40000000","35567.50000000","35580.00000000","35599.90000000","35583.60000000","35538.40000000","35513.10000000","35511.90000000","35493.10000000","35499.30000000","35502.00000000","35444.10000000","35429.90000000","35435.90000000","35435.80000000","35435.60000000","35399.90000000","35387.50000000","35364.20000000","35367.60000000","35365.90000000"],

                        high: ["35381.10000000","35417.90000000","35442.50000000","35438.90000000","35460.10000000","35462.80000000","35485.70000000","35477.70000000","35499.90000000","35486.00000000","35495.60000000","35500.00000000","35556.40000000","35578.40000000","35588.70000000","35600.00000000","35599.90000000","35583.60000000","35538.40000000","35513.00000000","35511.90000000","35513.00000000","35502.20000000","35502.00000000","35456.30000000","35439.70000000","35449.20000000","35451.80000000","35435.60000000","35400.20000000","35396.50000000","35380.60000000","35365.90000000"],

                        increasing: { line: { color: '#336137', width: 1, dash: "solid" } },
                        decreasing: { line: { color: 'rgb(226, 65, 93)', width: 1 } },

                        line: { color: 'rgba(31,119,180,1)' },

                        low: ["35366.90000000","35368.20000000","35417.80000000","35422.50000000","35425.50000000","35462.70000000","35462.80000000","35463.70000000","35474.00000000","35463.70000000","35482.30000000","35485.00000000","35500.00000000","35557.90000000","35577.20000000","35592.20000000","35583.60000000","35538.40000000","35510.10000000","35505.00000000","35486.90000000","35499.30000000","35502.00000000","35420.40000000","35429.90000000","35429.90000000","35431.40000000","35435.50000000","35399.90000000","35385.30000000","35358.40000000","35367.60000000","35365.90000000"],

                        open: ["35366.90000000","35376.40000000","35417.80000000","35427.80000000","35427.70000000","35462.70000000","35462.80000000","35477.70000000","35474.00000000","35486.00000000","35495.60000000","35489.20000000","35500.00000000","35557.90000000","35577.20000000","35592.20000000","35599.90000000","35583.60000000","35538.40000000","35513.00000000","35511.80000000","35501.50000000","35502.20000000","35502.00000000","35440.40000000","35429.90000000","35431.40000000","35435.50000000","35435.60000000","35400.20000000","35387.50000000","35373.00000000","35365.90000000"],
                        type: 'candlestick',
                        name: "Bitcoin",
                        xaxis: 'x1',
                        yaxis: 'y1'
                    },
                    {
                        x: ["10:46:00","10:47:00","10:48:00","10:49:00","10:50:00","10:51:00","10:52:00","10:53:00","10:54:00","10:55:00","10:56:00","10:57:00","10:58:00","10:59:00","11:00:00","11:01:00","11:02:00","11:03:00","11:04:00","11:05:00","11:06:00","11:07:00","11:08:00","11:09:00","11:10:00","11:11:00","11:12:00","11:13:00","11:14:00","11:15:00","11:16:00","11:17:00","11:18:00"],
                        y: ["","","","","","","","","","","","","","","35444.67142857142600000000","35453.21587301587000000000","35462.38412698413600000000","35470.99841269842000000000","35478.21111111111500000000","35482.37301587302500000000","35488.23809523809000000000","35496.06666666667000000000","35501.69841269842000000000","35506.32222222222500000000","35507.93492063492000000000","35508.24126984127000000000","35507.01904761905000000000","35505.86190476191000000000","35504.14285714285500000000","35497.09206349206000000000","35491.82380952380500000000","35486.17936507937000000000","35480.18571428572000000000"],
                        xaxis: "x1",
                        yaxis: "y1",
                        type: "scatter",
                        mode: "lines",
                        name: "Boll. MA",
                        line: { shape: "spline", smoothing: 0.35, color: "rgba(160, 255, 160, 0.6)", dash: "dot", },
                    },
                    {
                        x: ["10:46:00","10:47:00","10:48:00","10:49:00","10:50:00","10:51:00","10:52:00","10:53:00","10:54:00","10:55:00","10:56:00","10:57:00","10:58:00","10:59:00","11:00:00","11:01:00","11:02:00","11:03:00","11:04:00","11:05:00","11:06:00","11:07:00","11:08:00","11:09:00","11:10:00","11:11:00","11:12:00","11:13:00","11:14:00","11:15:00","11:16:00","11:17:00","11:18:00"],
                        y: ["","","","","","","","","","","","","","","35557.09000822868000000000","35575.90636463887500000000","35596.53605087942600000000","35611.47407952553500000000","35621.76992316042000000000","35622.02967617407000000000","35620.14636062048000000000","35609.78939188592000000000","35601.54423670437000000000","35598.62061832368600000000","35599.13975501369000000000","35597.45047083506500000000","35602.64846083068600000000","35604.58875531639000000000","35606.72751473252000000000","35615.40739526452000000000","35624.14989887470400000000","35628.13516414686000000000","35630.50877681855500000000"],
                        xaxis: "x1",
                        yaxis: "y1",
                        type: "scatter",
                        mode: "lines",
                        name: "Boll. U",
                        line: { shape: "spline", smoothing: 0.35, color: "rgba(160, 255, 160, 0.7)", dash: "dashed", },
                    },
                    {
                        x: ["10:46:00","10:47:00","10:48:00","10:49:00","10:50:00","10:51:00","10:52:00","10:53:00","10:54:00","10:55:00","10:56:00","10:57:00","10:58:00","10:59:00","11:00:00","11:01:00","11:02:00","11:03:00","11:04:00","11:05:00","11:06:00","11:07:00","11:08:00","11:09:00","11:10:00","11:11:00","11:12:00","11:13:00","11:14:00","11:15:00","11:16:00","11:17:00","11:18:00"],
                        y: ["","","","","","","","","","","","","","","35332.25284891417000000000","35330.52538139286500000000","35328.23220308884600000000","35330.52274587130500000000","35334.65229906181000000000","35342.71635557198000000000","35356.32982985570600000000","35382.34394144743000000000","35401.85258869246000000000","35414.02382612076000000000","35416.73008625615000000000","35419.03206884748000000000","35411.38963440741000000000","35407.13505420742000000000","35401.55819955319000000000","35378.77673171960500000000","35359.49772017290500000000","35344.22356601188000000000","35329.86265175288000000000"],
                        xaxis: "x1",
                        yaxis: "y1",
                        type: "scatter",
                        mode: "lines",
                        name: "Boll. U",
                        line: { shape: "spline", smoothing: 0.35, color: "rgba(160, 255, 160, 0.7)", dash: "dashed", },
                    },
                    {
                        x: ["10:46:00","10:47:00","10:48:00","10:49:00","10:50:00","10:51:00","10:52:00","10:53:00","10:54:00","10:55:00","10:56:00","10:57:00","10:58:00","10:59:00","11:00:00","11:01:00","11:02:00","11:03:00","11:04:00","11:05:00","11:06:00","11:07:00","11:08:00","11:09:00","11:10:00","11:11:00","11:12:00","11:13:00","11:14:00","11:15:00","11:16:00","11:17:00","11:18:00"],
                        y: ["","","","","","","","","","","","","","","35411.3375","35416.7063","35422.8187","35430.6844","35439.8688","35450.7250","35450.7250","35456.2031","35461.0938","35466.0469","35469.7688","35471.2031","35473.0594","35473.0594","35474.8313","35474.0719","35472.9000","35473.3000","35473.3000"],
                        xaxis: "x1",
                        yaxis: "y1",
                        type: "scatter",
                        mode: "lines",
                        name: "EMA",
                        line: { shape: "spline", smoothing: 0.35, color: "rgba(260, 55, 160, 0.7)", dash: "dashed", },
                    },
                    {
                        x: ["10:46:00","10:47:00","10:48:00","10:49:00","10:50:00","10:51:00","10:52:00","10:53:00","10:54:00","10:55:00","10:56:00","10:57:00","10:58:00","10:59:00","11:00:00","11:01:00","11:02:00","11:03:00","11:04:00","11:05:00","11:06:00","11:07:00","11:08:00","11:09:00","11:10:00","11:11:00","11:12:00","11:13:00","11:14:00","11:15:00","11:16:00","11:17:00","11:18:00"],
                        y: ["","","53.7117","57.2150","55.7017","59.3452","59.7186","62.5834","58.4895","63.2715","58.3309","60.5342","60.2128","68.2211","70.1166","70.3635","72.1296","66.2418","58.9082","44.1973","42.6088","44.2640","44.9389","43.3151","29.0726","34.0093","31.1903","31.9954","33.0695","21.7795","15.4957","18.3155","17.9514"],
                        xaxis: "x2",
                        yaxis: "y2",
                        type: "scatter",
                        mode: "lines",
                        name: "RSI",
                        line: { shape: "spline", smoothing: 0.65, color: "rgba(160, 255, 160, 0.8)" },
                    },
                    {
                        x: ["10:46:00","10:47:00","10:48:00","10:49:00","10:50:00","10:51:00","10:52:00","10:53:00","10:54:00","10:55:00","10:56:00","10:57:00","10:58:00","10:59:00","11:00:00","11:01:00","11:02:00","11:03:00","11:04:00","11:05:00","11:06:00","11:07:00","11:08:00","11:09:00","11:10:00","11:11:00","11:12:00","11:13:00","11:14:00","11:15:00","11:16:00","11:17:00","11:18:00"],
                        y: ["","","","","","","","","","","","","","","97.919621749408983451536600","97.596371882086167800453500","100.000000000000000000000000","90.816901408450704225352100","79.197707736389684813753600","36.707938820101966496722500","32.653061224489795918367300","35.289801907556859867938400","32.501834189288334556126200","28.099779897285399853264900","0.000000000000000000000000","19.933184855233853006681500","8.630289532293986636971050","8.017817371937639198218260","8.463251670378619153674830","0.050000000000000000000000","1.745747538048343777976720","5.111111111111111111111110","4.851228978007761966364810"],
                        xaxis: "x3",
                        yaxis: "y3",
                        type: "scatter",
                        mode: "lines",
                        name: "S1. kFast",
                        line: { shape: "spline", smoothing: 0.65, color: "rgba(255, 160, 160, 0.8)" },
                    },
                    {
                        x: ["10:46:00","10:47:00","10:48:00","10:49:00","10:50:00","10:51:00","10:52:00","10:53:00","10:54:00","10:55:00","10:56:00","10:57:00","10:58:00","10:59:00","11:00:00","11:01:00","11:02:00","11:03:00","11:04:00","11:05:00","11:06:00","11:07:00","11:08:00","11:09:00","11:10:00","11:11:00","11:12:00","11:13:00","11:14:00","11:15:00","11:16:00","11:17:00","11:18:00"],
                        y: ["","","","","","","","","","","","","","","-1.000000000000000000000000","-1.000000000000000000000000","97.501891856150823333333300","95.042253521126761408450700","84.274210689158828271251300","50.798361913586562165574300","35.316640442463532306122300","34.410888346534506622646000","34.653949620934212852042000","29.567131327953043284421600","9.634037986671111933333330","11.525612472160356002227200","13.103192279138826878990400","7.628062360801781732739430","8.314773570898292717891600","5.510356347438753000000000","1.089741648242702659325570","3.989323253423521970370370","3.902695875722405588788270"],
                        xaxis: "x3",
                        yaxis: "y3",
                        type: "scatter",
                        mode: "lines",
                        name: "S1. dSlow",
                        line: { shape: "spline", smoothing: 0.65, color: "rgba(160, 160, 255, 0.8)" },
                    },
                    {
                        x: ["10:46:00","10:47:00","10:48:00","10:49:00","10:50:00","10:51:00","10:52:00","10:53:00","10:54:00","10:55:00","10:56:00","10:57:00","10:58:00","10:59:00","11:00:00","11:01:00","11:02:00","11:03:00","11:04:00","11:05:00","11:06:00","11:07:00","11:08:00","11:09:00","11:10:00","11:11:00","11:12:00","11:13:00","11:14:00","11:15:00","11:16:00","11:17:00","11:18:00"],
                        y: ["","","","","","","","","","","","","","","-1.000000000000000000000000","-1.000000000000000000000000","-1.000000000000000000000000","-1.000000000000000000000000","-1.000000000000000000000000","50.798361913586560000000000","35.316640442463530000000000","34.410888346534506000000000","34.653949620934210000000000","29.567131327953042000000000","9.634037986671112000000000","11.525612472160356000000000","13.103192279138828000000000","7.628062360801782000000000","8.314773570898293000000000","5.510356347438753000000000","1.089741648242702700000000","3.989323253423522000000000","3.902695875722405700000000"],
                        xaxis: "x3",
                        yaxis: "y3",
                        type: "scatter",
                        mode: "lines",
                        name: "S2. kFull",
                        line: { shape: "spline", smoothing: 0.65, color: "d3a0ffcc" },
                    },
                    {
                        x: ["10:46:00","10:47:00","10:48:00","10:49:00","10:50:00","10:51:00","10:52:00","10:53:00","10:54:00","10:55:00","10:56:00","10:57:00","10:58:00","10:59:00","11:00:00","11:01:00","11:02:00","11:03:00","11:04:00","11:05:00","11:06:00","11:07:00","11:08:00","11:09:00","11:10:00","11:11:00","11:12:00","11:13:00","11:14:00","11:15:00","11:16:00","11:17:00","11:18:00"],
                        y: ["","","","","","","","","","","","","","","-1.000000000000000000000000","-1.000000000000000000000000","-1.000000000000000000000000","-1.000000000000000000000000","-1.000000000000000000000000","62.604384500507510000000000","45.648841656382306666666700","34.720957664236778666666700","33.358288289637203666666700","31.042634711013285333333300","18.138121115913677333333300","10.146510558783961333333300","12.812422667656520666666700","10.777035387280376666666700","8.178668646374660333333330","7.151064093046276000000000","2.492577950005880666666670","3.022796051696582233333330","2.993920259129543466666670"],
                        xaxis: "x3",
                        yaxis: "y3",
                        type: "scatter",
                        mode: "lines",
                        name: "S2. dFull",
                        line: { shape: "spline", smoothing: 0.65, color: "fff0a0cc" },
                    }
                ];
                plot();
            }

            function plot() {
                Plotly.newPlot("plotDiv1", this.data, this.graphOptions["layout"]);
            }

            var stochasticFast = true;
            let stoPlot = document.querySelector(".cartesianlayer .x3y3 .plot .scatterlayer");
            let stoPlot2 = document.querySelectorAll(".cartesianlayer .x3y3 .plot .scatterlayer .trace");
            let stoTitle = document.querySelector(".infolayer .g-y3title text");

            stoPlot2.forEach(function (elem) {
                elem.addEventListener('mouseenter', (e) => {
                    //setTimeout(() => {
                    console.log("hey");
                    let hoverText = document.querySelector(".main-svg .hoverlayer .hovertext");
                    if (!stochasticFast) {
                        if (hoverText.childNodes[0].innerHTML === "Stoc. - kFast") {
                            hoverText.childNodes[0].style.visibility = "hidden";
                            hoverText.childNodes[1].style.visibility = "hidden";
                        }

                    } else {
                        stoTitle.innerHTML = "Stoch. - Fast";
                        if (hoverText.childNodes[0].innerHTML === "Stoc. - kFast") {
                            hoverText.childNodes[2].style.visibility = "hidden";
                            hoverText.childNodes[3].style.visibility = "hidden";
                        }
                    }
                    //}, 1000);
                });
            });

            /*stoPlot.addEventListener('mouseenter', (e) => {
                //setTimeout(() => {

                    let hoverText = document.querySelector(".main-svg .hoverlayer .hovertext");
                    if(!stochasticFast) {
                        if(hoverText.childNodes[0].innerHTML === "Stoc. - kFast") {
                            hoverText.childNodes[0].style.visibility = "hidden";
                            hoverText.childNodes[1].style.visibility = "hidden";
                        }

                    } else {
                        stoTitle.innerHTML= "Stoch. - Fast";
                        if(hoverText.childNodes[0].innerHTML === "Stoc. - kFast") {
                            hoverText.childNodes[2].style.visibility = "hidden";
                            hoverText.childNodes[3].style.visibility = "hidden";
                        }
                    }
                //}, 1000);
            });*/

            document.addEventListener('keydown', (e) => {

                // Only accept 'F'
                if (e.code !== 'KeyS') {
                    return;
                }

                /* Show only fast or full Stochastics on keypress */
                stochasticFast = !stochasticFast;

                if (!stochasticFast) {
                    stoPlot.childNodes[0].style.visibility = "hidden";
                    stoPlot.childNodes[1].style.visibility = "hidden";
                    stoPlot.childNodes[2].style.visibility = "visible";
                    stoPlot.childNodes[3].style.visibility = "visible";
                    stoTitle.innerHTML = "Stoch. - Full";
                } else {
                    stoPlot.childNodes[0].style.visibility = "visible";
                    stoPlot.childNodes[1].style.visibility = "visible";
                    stoPlot.childNodes[2].style.visibility = "hidden";
                    stoPlot.childNodes[3].style.visibility = "hidden";
                    stoTitle.innerHTML = "Stoch. - Fast";
                }
            });

            /* Only have fast k and slow d showing initially */
            stoPlot.childNodes[2].style.visibility = "hidden";
            stoPlot.childNodes[3].style.visibility = "hidden";
            stoTitle.innerHTML = "Stoch. - Fast";
        </script>
    </body>
</html>
