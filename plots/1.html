<!DOCTYPE html>
<html>
    <head>
        <script src="js/plotly-latest.min.js"></script>
        <meta charset="utf-8" />
        <title>SRBot | Bitcoin</title>
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl"
            crossorigin="anonymous"
        />
    </head>

    <body style="background: #212529; overflow: hidden">
        <div id="plotDiv1" class="mt-3" style="width: 100%; height: 1000px">
            <!-- Plotly chart will be drawn inside this DIV -->
        </div>
        <script id="javascript">

            graphOptions = {
                filename: "coin-axes",
                fileopt: "overwrite",
                layout: {
                    plot_bgcolor: "#212529",
                    paper_bgcolor: "#212529",
                    title: {
                        text: "ShortRoundBot | Bitcoin",
                        font: {
                            family: "Avenir Light",
                            size: 36,
                            color: "white"
                        },
                    },
                    legend: {
                        font: {
                            family: "Avenir Light",
                            size: 14,
                            color: "white",
                        },
                        visible: false,
                    },
                    grid: {
                        rows: 3,
                        columns: 1,
                        pattern: "independent",
                        roworder: "top to bottom",
                    },
                    xaxis: {
                        visible: true,
                        range: [0, 31],
                        rangeslider: {
                            visible: false
                        },
                        showgrid: false,
                        showticklabels: false,
                        color: "white",
                        gridcolor: "rgba(255,255,255,0.05)",
                    },
                    yaxis: {
                        autorange: false,
                        range: [57417.5, 57677.8],
                        domain: [0.5, 1],
                        type: 'linear',
                        color: "white",
                        showgrid: true,
                        gridcolor: "rgba(255,255,255,0.05)",
                    },
                    xaxis2: {
                        range: [0, 31], zeroline: false, color: "white", gridcolor: "rgba(255,255,255,0.05)", showgrid: true, showticklabels: false,
                    },
                    yaxis2: {
                        range: [57494.1036, 57555.9239], domain: [0.3, 0.45], zeroline: false, gridcolor: "rgba(255,255,255,0.05)", color: "white",
                        title: {
                            text: "SMA",
                            font: {
                                family: "Avenir Light",
                                size: 24,
                                color: "white"
                            },
                        },
                    },
                    xaxis3: {
                        range: [0, 31], color: "white", zeroline: false,
                        gridcolor: "rgba(255,255,255,0.05)",
                    },
                    yaxis3: {
                        range: [-2, 105], color: "white", domain: [0.1, 0.25],
                        gridcolor: "rgba(255,255,255,0.05)",
                        title: {
                            text: "Stoch. - F",
                            font: {
                                family: "Avenir Light",
                                size: 24,
                                color: "white"
                            },
                        },
                    },
                    shapes: [
                        {
                            type: "line",
                            xref: "paper",
                            yref: "y2",
                            x0: 0,
                            y0: 50.0,
                            x1: 1,
                            y1: 50.0,
                            line: {
                                color: "rgba(0, 0, 255, 0.4)",
                                width: 2,
                                dash: "dot",
                            },
                            opacity: 0.5,
                            layer: "below",
                        },
                        {
                            type: "line",
                            xref: "paper",
                            yref: "y2",
                            x0: 0,
                            y0: 66.66,
                            x1: 1,
                            y1: 66.66,
                            line: {
                                color: "rgb(255, 0, 0)",
                                width: 2,
                                dash: "dot",
                            },
                            opacity: 0.5,
                            layer: "below",
                        },
                        {
                            type: "line",
                            xref: "paper",
                            yref: "y2",
                            x0: 0,
                            y0: 33.33,
                            x1: 1,
                            y1: 33.33,
                            line: {
                                color: "rgb(255, 0, 0)",
                                width: 2,
                                dash: "dot",
                            },
                            opacity: 0.5,
                            layer: "below",
                        },
                        {
                            type: "line",
                            xref: "paper",
                            yref: "y3",
                            x0: 0,
                            y0: 20,
                            x1: 1,
                            y1: 20,
                            line: {
                                color: "rgb(255, 0, 0)",
                                width: 2,
                                dash: "dot",
                            },
                            opacity: 0.5,
                            layer: "below",
                        },
                        {
                            type: "line",
                            xref: "paper",
                            yref: "y3",
                            x0: 0,
                            y0: 80,
                            x1: 1,
                            y1: 80,
                            line: {
                                color: "rgb(255, 0, 0)",
                                width: 2,
                                dash: "dot",
                            },
                            opacity: 0.5,
                            layer: "below",
                        },
                        {
                            type: "line",
                            xref: "paper",
                            yref: "y3",
                            x0: 0,
                            y0: 50.0,
                            x1: 1,
                            y1: 50.0,
                            line: {
                                color: "rgba(0, 0, 255, 0.4)",
                                width: 2,
                                dash: "dot",
                            },
                            opacity: 0.5,
                            layer: "below",
                        },
                    ],
                },
            };

            init();

            function init(
            ) {

                this.data = [
                    {

                        x: ["14:34:00","14:35:00","14:36:00","14:37:00","14:38:00","14:39:00","14:40:00","14:41:00","14:42:00","14:43:00","14:44:00","14:45:00","14:46:00","14:47:00","14:48:00","14:49:00","14:50:00","14:51:00","14:52:00","14:53:00","14:54:00","14:55:00","14:56:00","14:57:00","14:58:00","14:59:00","15:00:00","15:01:00","15:02:00","15:03:00","15:04:00","15:05:00"],

                        close: ["57450.00000000","57450.00000000","57418.90000000","57462.10000000","57462.10000000","57456.90000000","57490.00000000","57516.70000000","57517.40000000","57517.40000000","57475.40000000","57518.50000000","57508.30000000","57523.70000000","57542.20000000","57525.10000000","57521.30000000","57488.10000000","57480.00000000","57491.10000000","57540.80000000","57538.50000000","57538.40000000","57559.10000000","57556.50000000","57570.60000000","57601.90000000","57614.40000000","57639.80000000","57652.70000000","57668.90000000","57651.10000000"],

                        high: ["57470.10000000","57450.10000000","57450.00000000","57462.10000000","57462.10000000","57462.10000000","57490.00000000","57516.70000000","57518.50000000","57517.40000000","57487.20000000","57518.50000000","57518.50000000","57523.70000000","57542.20000000","57559.90000000","57521.40000000","57507.30000000","57480.00000000","57491.10000000","57540.80000000","57540.90000000","57538.50000000","57562.90000000","57556.60000000","57575.00000000","57613.10000000","57614.40000000","57639.80000000","57652.80000000","57677.80000000","57667.80000000"],

                        increasing: { line: { color: '#336137', width: 1, dash: "solid" } },
                        decreasing: { line: { color: 'rgb(226, 65, 93)', width: 1 } },

                        line: { color: 'rgba(31,119,180,1)' },

                        low: ["57450.00000000","57450.00000000","57418.90000000","57417.50000000","57462.00000000","57456.90000000","57458.80000000","57490.00000000","57517.40000000","57517.40000000","57472.20000000","57472.20000000","57508.30000000","57518.40000000","57541.60000000","57525.10000000","57521.30000000","57488.10000000","57479.90000000","57491.00000000","57525.20000000","57538.50000000","57538.40000000","57521.60000000","57556.40000000","57556.60000000","57566.60000000","57599.80000000","57614.90000000","57639.80000000","57652.70000000","57651.10000000"],

                        open: ["57470.10000000","57450.10000000","57450.00000000","57417.60000000","57462.10000000","57462.10000000","57458.80000000","57490.00000000","57518.50000000","57517.40000000","57487.20000000","57475.30000000","57518.50000000","57518.50000000","57541.70000000","57549.90000000","57521.40000000","57507.30000000","57480.00000000","57491.00000000","57525.20000000","57540.90000000","57538.50000000","57538.50000000","57556.40000000","57556.60000000","57566.60000000","57599.80000000","57615.00000000","57639.80000000","57652.70000000","57666.00000000"],
                        type: 'candlestick',
                        name: "Bitcoin",
                        xaxis: 'x1',
                        yaxis: 'y1'
                    },
                    {
                        x: ["14:34:00","14:35:00","14:36:00","14:37:00","14:38:00","14:39:00","14:40:00","14:41:00","14:42:00","14:43:00","14:44:00","14:45:00","14:46:00","14:47:00","14:48:00","14:49:00","14:50:00","14:51:00","14:52:00","14:53:00","14:54:00","14:55:00","14:56:00","14:57:00","14:58:00","14:59:00","15:00:00","15:01:00","15:02:00","15:03:00","15:04:00","15:05:00"],
                        y: ["57523.11587301587000000000","57520.73968253968600000000","57517.84761904762000000000","57515.88888888889000000000","57513.11746031746600000000","57510.93174603175400000000","57509.06666666667000000000","57508.15396825398000000000","57506.93650793651000000000","57503.62698412697500000000","57499.67619047619000000000","57498.55873015872000000000","57496.67936507937000000000","57494.78571428572000000000","57494.13968253968000000000","57494.68888888888600000000","57494.97619047619000000000","57493.62380952380000000000","57491.72063492062400000000","57490.42380952380000000000","57492.50634920635000000000","57496.43968253968000000000","57500.64920634920400000000","57506.29682539683000000000","57511.50000000000000000000","57516.51587301587000000000","57522.95555555555600000000","57529.14285714287000000000","57535.03333333334000000000","57541.25555555557000000000","57548.35396825397000000000","57556.84920634921600000000"],
                        xaxis: "x1",
                        yaxis: "y1",
                        type: "scatter",
                        mode: "lines",
                        name: "Boll. MA",
                        line: { shape: "spline", smoothing: 0.35, color: "rgba(160, 255, 160, 0.6)", dash: "dot", },
                    },
                    {
                        x: ["14:34:00","14:35:00","14:36:00","14:37:00","14:38:00","14:39:00","14:40:00","14:41:00","14:42:00","14:43:00","14:44:00","14:45:00","14:46:00","14:47:00","14:48:00","14:49:00","14:50:00","14:51:00","14:52:00","14:53:00","14:54:00","14:55:00","14:56:00","14:57:00","14:58:00","14:59:00","15:00:00","15:01:00","15:02:00","15:03:00","15:04:00","15:05:00"],
                        y: ["57587.01938162611000000000","57591.21126153939000000000","57599.36432657094000000000","57599.99363731300400000000","57599.83648374914000000000","57600.41322234487000000000","57598.39955934504500000000","57597.29927754056600000000","57593.17947853310000000000","57583.37191764484000000000","57577.25173656820000000000","57576.26508596329000000000","57569.00968070030000000000","57561.80974422699400000000","57559.82831245212000000000","57560.57130871869000000000","57560.94794420648000000000","57558.44342666583500000000","57555.77524314257000000000","57553.34683992684600000000","57558.74201997092000000000","57562.42035998330000000000","57565.27310973556000000000","57563.97509798930000000000","57568.80594504821000000000","57574.19156654081000000000","57584.36205140433600000000","57599.34570156586400000000","57618.81457856253000000000","57637.95484350667000000000","57658.05693724705000000000","57669.20894526714000000000"],
                        xaxis: "x1",
                        yaxis: "y1",
                        type: "scatter",
                        mode: "lines",
                        name: "Boll. U",
                        line: { shape: "spline", smoothing: 0.35, color: "rgba(160, 255, 160, 0.7)", dash: "dashed", },
                    },
                    {
                        x: ["14:34:00","14:35:00","14:36:00","14:37:00","14:38:00","14:39:00","14:40:00","14:41:00","14:42:00","14:43:00","14:44:00","14:45:00","14:46:00","14:47:00","14:48:00","14:49:00","14:50:00","14:51:00","14:52:00","14:53:00","14:54:00","14:55:00","14:56:00","14:57:00","14:58:00","14:59:00","15:00:00","15:01:00","15:02:00","15:03:00","15:04:00","15:05:00"],
                        y: ["57459.21236440563400000000","57450.26810353998000000000","57436.33091152430000000000","57431.78414046478000000000","57426.39843688579000000000","57421.45026971864000000000","57419.73377398830000000000","57419.00865896739600000000","57420.69353733992000000000","57423.88205060911000000000","57422.10064438417600000000","57420.85237435415000000000","57424.34904945844000000000","57427.76168434444000000000","57428.45105262724000000000","57428.80646905908000000000","57429.00443674590500000000","57428.80419238176500000000","57427.66602669868000000000","57427.50077912076000000000","57426.27067844177500000000","57430.45900509607000000000","57436.02530296285000000000","57448.61855280436000000000","57454.19405495179000000000","57458.84017949094000000000","57461.54905970678000000000","57458.94001271987500000000","57451.25208810415000000000","57444.55626760446500000000","57438.65099926089000000000","57444.48946743129000000000"],
                        xaxis: "x1",
                        yaxis: "y1",
                        type: "scatter",
                        mode: "lines",
                        name: "Boll. U",
                        line: { shape: "spline", smoothing: 0.35, color: "rgba(160, 255, 160, 0.7)", dash: "dashed", },
                    },
                    {
                        x: ["14:34:00","14:35:00","14:36:00","14:37:00","14:38:00","14:39:00","14:40:00","14:41:00","14:42:00","14:43:00","14:44:00","14:45:00","14:46:00","14:47:00","14:48:00","14:49:00","14:50:00","14:51:00","14:52:00","14:53:00","14:54:00","14:55:00","14:56:00","14:57:00","14:58:00","14:59:00","15:00:00","15:01:00","15:02:00","15:03:00","15:04:00","15:05:00"],
                        y: ["57510.3885","57506.7285","57501.4056","57499.0234","57496.7857","57494.3683","57494.1036","57495.4731","57496.8020","57498.0503","57496.6776","57498.0002","57498.6244","57500.1441","57502.6930","57504.0510","57505.0964","57504.0663","57502.6077","57501.9103","57504.2672","57506.3420","57508.2849","57511.3646","57514.1001","57517.5243","57522.6380","57528.1993","57534.9630","57542.0986","57549.7835","57555.9239"],
                        xaxis: "x2",
                        yaxis: "y2",
                        type: "scatter",
                        mode: "lines",
                        name: "%rsi_title%",
                        line: { shape: "spline", smoothing: 0.65, color: "rgba(160, 255, 160, 0.8)" },
                    },
                    {
                        x: ["14:34:00","14:35:00","14:36:00","14:37:00","14:38:00","14:39:00","14:40:00","14:41:00","14:42:00","14:43:00","14:44:00","14:45:00","14:46:00","14:47:00","14:48:00","14:49:00","14:50:00","14:51:00","14:52:00","14:53:00","14:54:00","14:55:00","14:56:00","14:57:00","14:58:00","14:59:00","15:00:00","15:01:00","15:02:00","15:03:00","15:04:00","15:05:00"],
                        y: ["0.000000000000000000000000","0.000000000000000000000000","0.000000000000000000000000","30.381471389645776566757500","30.381471389645776566757500","26.839237057220708446866500","49.386920980926430517711200","74.251497005988023952095800","94.512771996215704824976300","94.512771996215704824976300","54.777672658467360454115400","100.000000000000000000000000","89.900990099009900990099000","100.000000000000000000000000","100.000000000000000000000000","75.561797752808988764044900","72.893258426966292134831500","30.291262135922330097087400","22.427184466019417475728200","31.948565776458951533135500","78.221208665906499429874600","75.598631698973774230330700","75.484606613454960091220100","95.810363836824696802646100","92.943770672546857772877600","95.373291272344900105152500","91.591591591591591591591600","100.000000000000000000000000","100.000000000000000000000000","99.942163100057836899942200","95.502779181404749873673600","86.508337544214249621020700"],
                        xaxis: "x3",
                        yaxis: "y3",
                        type: "scatter",
                        mode: "lines",
                        name: "S1. kFast",
                        line: { shape: "spline", smoothing: 0.65, color: "rgba(255, 160, 160, 0.8)" },
                    },
                    {
                        x: ["14:34:00","14:35:00","14:36:00","14:37:00","14:38:00","14:39:00","14:40:00","14:41:00","14:42:00","14:43:00","14:44:00","14:45:00","14:46:00","14:47:00","14:48:00","14:49:00","14:50:00","14:51:00","14:52:00","14:53:00","14:54:00","14:55:00","14:56:00","14:57:00","14:58:00","14:59:00","15:00:00","15:01:00","15:02:00","15:03:00","15:04:00","15:05:00"],
                        y: ["7.116977225672877333333330","0.000000000000000000000000","0.000000000000000000000000","10.127157129881925522252500","20.254314259763851522252500","29.200726612170754815622200","35.535876475930971839237000","50.159218348045053650698700","72.717063327710054941658700","87.759013666139811608325300","81.267738883632920151371700","83.096814884894353333333300","81.559554252492420330033000","96.633663366336633333333300","96.633663366336633333333300","91.853932584269662921348300","82.818352059925094044944000","59.582106105232540032362300","41.870568342969349158576000","28.222337459466900511045200","44.198986302794957476625000","61.922802047113075743443700","76.434815659445080030406700","82.297867383084478934215300","88.079580374275502590959300","94.709141927238816701717700","93.302884512161117197197300","95.654960954645500000000000","97.197197197197200000000000","99.980721033352612299980700","98.481647427154196624558000","93.984426608558946540340300"],
                        xaxis: "x3",
                        yaxis: "y3",
                        type: "scatter",
                        mode: "lines",
                        name: "S1. dSlow",
                        line: { shape: "spline", smoothing: 0.65, color: "rgba(160, 160, 255, 0.8)" },
                    },
                    {
                        x: ["14:34:00","14:35:00","14:36:00","14:37:00","14:38:00","14:39:00","14:40:00","14:41:00","14:42:00","14:43:00","14:44:00","14:45:00","14:46:00","14:47:00","14:48:00","14:49:00","14:50:00","14:51:00","14:52:00","14:53:00","14:54:00","14:55:00","14:56:00","14:57:00","14:58:00","14:59:00","15:00:00","15:01:00","15:02:00","15:03:00","15:04:00","15:05:00"],
                        y: ["7.116977225672877000000000","0.000000000000000000000000","0.000000000000000000000000","10.127157129881926000000000","20.254314259763852000000000","29.200726612170754000000000","35.535876475930970000000000","50.159218348045050000000000","72.717063327710050000000000","87.759013666139810000000000","81.267738883632920000000000","83.096814884894360000000000","81.559554252492420000000000","96.633663366336630000000000","96.633663366336630000000000","91.853932584269660000000000","82.818352059925090000000000","59.582106105232540000000000","41.870568342969350000000000","28.222337459466900000000000","44.198986302794960000000000","61.922802047113070000000000","76.434815659445080000000000","82.297867383084480000000000","88.079580374275510000000000","94.709141927238820000000000","93.302884512161110000000000","95.654960954645500000000000","97.197197197197200000000000","99.980721033352610000000000","98.481647427154200000000000","93.984426608558950000000000"],
                        xaxis: "x3",
                        yaxis: "y3",
                        type: "scatter",
                        mode: "lines",
                        name: "S2. kFull",
                        line: { shape: "spline", smoothing: 0.65, color: "d3a0ffcc" },
                    },
                    {
                        x: ["14:34:00","14:35:00","14:36:00","14:37:00","14:38:00","14:39:00","14:40:00","14:41:00","14:42:00","14:43:00","14:44:00","14:45:00","14:46:00","14:47:00","14:48:00","14:49:00","14:50:00","14:51:00","14:52:00","14:53:00","14:54:00","14:55:00","14:56:00","14:57:00","14:58:00","14:59:00","15:00:00","15:01:00","15:02:00","15:03:00","15:04:00","15:05:00"],
                        y: ["14.790159667373838000000000","7.170920345235964666666670","2.372325741890959000000000","3.375719043293975333333330","10.127157129881926000000000","19.860732667272177333333300","28.330305782621858666666700","38.298607145382258000000000","52.804052717228690000000000","70.211765113964970000000000","80.581271959160926666666700","84.041189144889030000000000","81.974702673673233333333300","87.096677501241136666666700","91.608960328388560000000000","95.040419772314306666666700","90.435316003510460000000000","78.084796916475763333333300","61.423675502708993333333300","43.225003969222930000000000","38.097297368410403333333300","44.781375269791643333333300","60.852201336451036666666700","73.551828363214210000000000","82.270754472268356666666700","88.362196561532936666666700","92.030535604558480000000000","94.555662464681810000000000","95.385014221334603333333300","97.610959728398436666666700","98.553188552568003333333300","97.482265023021920000000000"],
                        xaxis: "x3",
                        yaxis: "y3",
                        type: "scatter",
                        mode: "lines",
                        name: "S2. dFull",
                        line: { shape: "spline", smoothing: 0.65, color: "fff0a0cc" },
                    }
                ];
                plot();
            }

            function plot() {
                Plotly.newPlot("plotDiv1", this.data, this.graphOptions["layout"]);
            }

            var stochasticFast = true;
            let stoPlot = document.querySelector(".cartesianlayer .x3y3 .plot .scatterlayer");
            let stoPlot2 = document.querySelectorAll(".cartesianlayer .x3y3 .plot .scatterlayer .trace");
            let stoTitle = document.querySelector(".infolayer .g-y3title text");

            stoPlot2.forEach(function (elem) {
                elem.addEventListener('mouseenter', (e) => {
                    //setTimeout(() => {
                    console.log("hey");
                    let hoverText = document.querySelector(".main-svg .hoverlayer .hovertext");
                    if (!stochasticFast) {
                        if (hoverText.childNodes[0].innerHTML === "Stoc. - kFast") {
                            hoverText.childNodes[0].style.visibility = "hidden";
                            hoverText.childNodes[1].style.visibility = "hidden";
                        }

                    } else {
                        stoTitle.innerHTML = "Stoch. - Fast";
                        if (hoverText.childNodes[0].innerHTML === "Stoc. - kFast") {
                            hoverText.childNodes[2].style.visibility = "hidden";
                            hoverText.childNodes[3].style.visibility = "hidden";
                        }
                    }
                    //}, 1000);
                });
            });

            /*stoPlot.addEventListener('mouseenter', (e) => {
                //setTimeout(() => {

                    let hoverText = document.querySelector(".main-svg .hoverlayer .hovertext");
                    if(!stochasticFast) {
                        if(hoverText.childNodes[0].innerHTML === "Stoc. - kFast") {
                            hoverText.childNodes[0].style.visibility = "hidden";
                            hoverText.childNodes[1].style.visibility = "hidden";
                        }

                    } else {
                        stoTitle.innerHTML= "Stoch. - Fast";
                        if(hoverText.childNodes[0].innerHTML === "Stoc. - kFast") {
                            hoverText.childNodes[2].style.visibility = "hidden";
                            hoverText.childNodes[3].style.visibility = "hidden";
                        }
                    }
                //}, 1000);
            });*/

            document.addEventListener('keydown', (e) => {

                // Only accept 'F'
                if (e.code !== 'KeyS') {
                    return;
                }

                /* Show only fast or full Stochastics on keypress */
                stochasticFast = !stochasticFast;

                if (!stochasticFast) {
                    stoPlot.childNodes[0].style.visibility = "hidden";
                    stoPlot.childNodes[1].style.visibility = "hidden";
                    stoPlot.childNodes[2].style.visibility = "visible";
                    stoPlot.childNodes[3].style.visibility = "visible";
                    stoTitle.innerHTML = "Stoch. - Full";
                } else {
                    stoPlot.childNodes[0].style.visibility = "visible";
                    stoPlot.childNodes[1].style.visibility = "visible";
                    stoPlot.childNodes[2].style.visibility = "hidden";
                    stoPlot.childNodes[3].style.visibility = "hidden";
                    stoTitle.innerHTML = "Stoch. - Fast";
                }
            });

            /* Only have fast k and slow d showing initially */
            stoPlot.childNodes[2].style.visibility = "hidden";
            stoPlot.childNodes[3].style.visibility = "hidden";
            stoTitle.innerHTML = "Stoch. - Fast";
        </script>
    </body>
</html>
