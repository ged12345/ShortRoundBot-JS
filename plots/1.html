<!DOCTYPE html>
<html>
    <head>
        <script src="js/plotly-latest.min.js"></script>
        <meta charset="utf-8" />
        <title>SRBot | Bitcoin</title>
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl"
            crossorigin="anonymous"
        />
    </head>

    <body style="background: #212529; overflow: hidden">
        <div id="plotDiv1" class="mt-3" style="width: 100%; height: 1000px">
            <!-- Plotly chart will be drawn inside this DIV -->
        </div>
        <script id="javascript">

            graphOptions = {
                filename: "coin-axes",
                fileopt: "overwrite",
                layout: {
                    plot_bgcolor:"#212529",
                    paper_bgcolor: "#212529",
                    title: {
                        text:"ShortRoundBot | Bitcoin",
                        font: {
                            family: "Avenir Light",
                            size: 36,
                            color: "white"
                        },
                    },
                    legend: {
                        font: {
                            family: "Avenir Light",
                            size: 14,
                            color: "white",
                        },
                        visible: false,
                    },
                    grid: {
                        rows: 3,
                        columns: 1,
                        pattern: "independent",
                        roworder: "top to bottom",
                    },
                    xaxis: {
                        visible: true,
                        range: [0, 31],
                        rangeslider: {
                            visible: false
                        },
                        showgrid: false,
                        showticklabels: false,
                        color: "white",
                        gridcolor: "rgba(255,255,255,0.05)",
                    },
                    yaxis: {
                        autorange: false,
                        range: [58650, 58985.6415915004],
                        domain: [0.5, 1],
                        type: 'linear',
                        color: "white",
                        showgrid: true,
                        gridcolor: "rgba(255,255,255,0.05)",
                    },
                    xaxis2: {
                        range: [0, 31] , zeroline: false, color: "white", gridcolor: "rgba(255,255,255,0.05)", showgrid: true, showticklabels: false,
                    },
                    yaxis2: {
                        range: [-2, 105], domain: [0.3, 0.45], zeroline: false, gridcolor: "rgba(255,255,255,0.05)", color: "white",
                        title : {
                            text: "RSI",
                            font: {
                                family: "Avenir Light",
                                size: 24,
                                color: "white"
                            },
                        },
                    },
                    xaxis3: {
                        range: [0, 31], color: "white", zeroline: false,
                        gridcolor: "rgba(255,255,255,0.05)",
                        },
                    yaxis3: {
                        range: [-2, 105], color: "white", domain: [0.1, 0.25],
                        gridcolor: "rgba(255,255,255,0.05)",
                        title : {
                            text: "Stoch. - F",
                            font: {
                                family: "Avenir Light",
                                size: 24,
                                color: "white"
                            },
                        },
                    },
                    shapes: [
                        {
                            type: "line",
                            xref: "paper",
                            yref: "y2",
                            x0: 0,
                            y0: 50.0,
                            x1: 1,
                            y1: 50.0,
                            line: {
                                color: "rgba(0, 0, 255, 0.4)",
                                width: 2,
                                dash: "dot",
                            },
                            opacity: 0.5,
                            layer: "below",
                        },
                        {
                            type: "line",
                            xref: "paper",
                            yref: "y2",
                            x0: 0,
                            y0: 66.66,
                            x1: 1,
                            y1: 66.66,
                            line: {
                                color: "rgb(255, 0, 0)",
                                width: 2,
                                dash: "dot",
                            },
                            opacity: 0.5,
                            layer: "below",
                        },
                        {
                            type: "line",
                            xref: "paper",
                            yref: "y2",
                            x0: 0,
                            y0: 33.33,
                            x1: 1,
                            y1: 33.33,
                            line: {
                                color: "rgb(255, 0, 0)",
                                width: 2,
                                dash: "dot",
                            },
                            opacity: 0.5,
                            layer: "below",
                        },
                        {
                            type: "line",
                            xref: "paper",
                            yref: "y3",
                            x0: 0,
                            y0: 20,
                            x1: 1,
                            y1: 20,
                            line: {
                                color: "rgb(255, 0, 0)",
                                width: 2,
                                dash: "dot",
                            },
                            opacity: 0.5,
                            layer: "below",
                        },
                        {
                            type: "line",
                            xref: "paper",
                            yref: "y3",
                            x0: 0,
                            y0: 80,
                            x1: 1,
                            y1: 80,
                            line: {
                                color: "rgb(255, 0, 0)",
                                width: 2,
                                dash: "dot",
                            },
                            opacity: 0.5,
                            layer: "below",
                        },
                        {
                            type: "line",
                            xref: "paper",
                            yref: "y3",
                            x0: 0,
                            y0: 50.0,
                            x1: 1,
                            y1: 50.0,
                            line: {
                                color: "rgba(0, 0, 255, 0.4)",
                                width: 2,
                                dash: "dot",
                            },
                            opacity: 0.5,
                            layer: "below",
                        },
                    ],
                },
            };

            init();

            function init(
            ) {

                this.data = [
                    {

                       x: ["04:06:00","04:07:00","04:08:00","04:09:00","04:10:00","04:11:00","04:12:00","04:13:00","04:14:00","04:15:00","04:16:00","04:17:00","04:18:00","04:19:00","04:20:00","04:21:00","04:22:00","04:23:00","04:24:00","04:25:00","04:26:00","04:27:00","04:28:00","04:29:00","04:30:00","04:31:00","04:32:00","04:33:00","04:34:00","04:35:00","04:36:00","04:37:00"],

                       close: ["58840.40000000","58780.40000000","58737.00000000","58762.10000000","58796.10000000","58822.00000000","58822.00000000","58821.90000000","58822.00000000","58887.00000000","58886.90000000","58887.00000000","58886.90000000","58800.00000000","58800.10000000","58800.00000000","58722.30000000","58650.10000000","58665.50000000","58725.90000000","58717.10000000","58777.70000000","58778.80000000","58778.80000000","58780.00000000","58854.60000000","58870.50000000","58836.50000000","58828.90000000","58820.00000000","58820.00000000","58800.00000000"],

                       high: ["58900.00000000","58858.70000000","58792.60000000","58771.00000000","58824.90000000","58828.80000000","58825.20000000","58835.60000000","58822.00000000","58887.00000000","58887.00000000","58887.00000000","58887.00000000","58885.00000000","58800.10000000","58800.10000000","58800.00000000","58726.90000000","58676.70000000","58728.80000000","58726.00000000","58777.70000000","58778.80000000","58778.90000000","58780.00000000","58877.10000000","58870.60000000","58870.60000000","58836.50000000","58820.00000000","58820.00000000","58820.00000000"],

                       increasing: {line: {color: '#336137', width: 1, dash: "solid"}},
                       decreasing: {line: {color: 'rgb(226, 65, 93)', width: 1}},

                       line: {color: 'rgba(31,119,180,1)'},

                       low: ["58840.30000000","58780.40000000","58737.00000000","58735.50000000","58771.00000000","58822.00000000","58820.50000000","58821.90000000","58821.90000000","58822.00000000","58883.20000000","58886.90000000","58886.90000000","58800.00000000","58800.00000000","58800.00000000","58708.80000000","58650.00000000","58653.80000000","58665.50000000","58710.70000000","58724.90000000","58754.00000000","58778.80000000","58778.90000000","58780.00000000","58827.10000000","58836.50000000","58828.90000000","58811.60000000","58819.90000000","58800.00000000"],

                       open: ["58900.00000000","58840.40000000","58780.40000000","58735.50000000","58771.00000000","58828.80000000","58822.00000000","58822.00000000","58822.00000000","58822.00000000","58886.90000000","58886.90000000","58887.00000000","58885.00000000","58800.10000000","58800.10000000","58800.00000000","58711.20000000","58676.50000000","58665.50000000","58725.90000000","58724.90000000","58754.00000000","58778.80000000","58778.90000000","58780.00000000","58861.30000000","58868.20000000","58836.50000000","58811.70000000","58820.00000000","58820.00000000"],
                       type: 'candlestick',
                       name: "Bitcoin",
                       xaxis: 'x1',
                       yaxis: 'y1'
                    },
                    {
                        x: ["04:06:00","04:07:00","04:08:00","04:09:00","04:10:00","04:11:00","04:12:00","04:13:00","04:14:00","04:15:00","04:16:00","04:17:00","04:18:00","04:19:00","04:20:00","04:21:00","04:22:00","04:23:00","04:24:00","04:25:00","04:26:00","04:27:00","04:28:00","04:29:00","04:30:00","04:31:00","04:32:00","04:33:00","04:34:00","04:35:00","04:36:00","04:37:00"],
                        y: ["","","","","","","","","","","","58861.27142857142000000000","58861.95714285713600000000","58860.36190476190000000000","58857.25238095237000000000","58851.80952380953000000000","58842.25873015873400000000","58829.09841269842600000000","58815.71428571428000000000","58805.87619047620000000000","58796.84761904762000000000","58792.07936507937000000000","58790.36666666667600000000","58791.47619047619000000000","58792.59206349206000000000","58794.49206349205600000000","58796.00634920635000000000","58797.21111111112000000000","58797.44761904761000000000","58797.22063492063000000000","58795.06031746032000000000","58791.29682539683000000000"],
                        xaxis: "x1",
                        yaxis: "y1",
                        type: "scatter",
                        mode: "lines",
                        name: "Boll. MA",
                        line: { shape: "spline", smoothing: 0.35,color: "rgba(160, 255, 160, 0.6)", dash: "dot", },
                    },
                    {
                        x: ["04:06:00","04:07:00","04:08:00","04:09:00","04:10:00","04:11:00","04:12:00","04:13:00","04:14:00","04:15:00","04:16:00","04:17:00","04:18:00","04:19:00","04:20:00","04:21:00","04:22:00","04:23:00","04:24:00","04:25:00","04:26:00","04:27:00","04:28:00","04:29:00","04:30:00","04:31:00","04:32:00","04:33:00","04:34:00","04:35:00","04:36:00","04:37:00"],
                        y: ["","","","","","","","","","","","58983.72896769779600000000","58984.55926799547000000000","58985.64159150040000000000","58984.82763072183000000000","58975.97241951997000000000","58966.89630179361000000000","58966.59931106696000000000","58956.81884770632000000000","58945.06185776031600000000","58932.94123295376000000000","58926.53887031702000000000","58924.84749755922500000000","58924.04492881780600000000","58924.63669210519000000000","58929.22183182923600000000","58934.15507382362000000000","58935.99801868632000000000","58936.49974813298500000000","58936.20942482407000000000","58928.68839576221000000000","58918.46748545662600000000"],
                        xaxis: "x1",
                        yaxis: "y1",
                        type: "scatter",
                        mode: "lines",
                        name: "Boll. U",
                        line: { shape: "spline", smoothing: 0.35,color: "rgba(160, 255, 160, 0.7)", dash: "dashed", },
                    },
                    {
                        x: ["04:06:00","04:07:00","04:08:00","04:09:00","04:10:00","04:11:00","04:12:00","04:13:00","04:14:00","04:15:00","04:16:00","04:17:00","04:18:00","04:19:00","04:20:00","04:21:00","04:22:00","04:23:00","04:24:00","04:25:00","04:26:00","04:27:00","04:28:00","04:29:00","04:30:00","04:31:00","04:32:00","04:33:00","04:34:00","04:35:00","04:36:00","04:37:00"],
                        y: ["","","","","","","","","","","","58738.81388944504000000000","58739.35501771880000000000","58735.08221802339500000000","58729.67713118291000000000","58727.64662809908600000000","58717.62115852385600000000","58691.59751432989000000000","58674.60972372224000000000","58666.69052319208000000000","58660.75400514148000000000","58657.61985984172500000000","58655.88583577413000000000","58658.90745213457600000000","58660.54743487893600000000","58659.76229515488000000000","58657.85762458908000000000","58658.42420353593000000000","58658.39548996224000000000","58658.23184501719500000000","58661.43223915842000000000","58664.12616533703000000000"],
                        xaxis: "x1",
                        yaxis: "y1",
                        type: "scatter",
                        mode: "lines",
                        name: "Boll. U",
                        line: { shape: "spline", smoothing: 0.35,color: "rgba(160, 255, 160, 0.7)", dash: "dashed", },
                    },
                    {
                        x: ["04:06:00","04:07:00","04:08:00","04:09:00","04:10:00","04:11:00","04:12:00","04:13:00","04:14:00","04:15:00","04:16:00","04:17:00","04:18:00","04:19:00","04:20:00","04:21:00","04:22:00","04:23:00","04:24:00","04:25:00","04:26:00","04:27:00","04:28:00","04:29:00","04:30:00","04:31:00","04:32:00","04:33:00","04:34:00","04:35:00","04:36:00","04:37:00"],
                        y: ["46.4841","40.2682","36.4694","39.9950","44.4890","47.7022","47.7022","47.6898","47.7044","56.2485","56.2332","56.2460","56.2283","43.4687","43.4845","43.4714","34.6863","28.8517","31.4985","40.8005","39.9494","47.9952","48.1310","48.1310","48.3019","57.6433","59.3300","54.3462","53.2690","51.9699","51.9699","48.8643"],
                        xaxis: "x2",
                        yaxis: "y2",
                        type: "scatter",
                        mode: "lines",
                        name: "RSI",
                        line: { shape: "spline", smoothing: 0.65,color: "rgba(160, 255, 160, 0.8)" },
                    },
                    {
                        x: ["04:06:00","04:07:00","04:08:00","04:09:00","04:10:00","04:11:00","04:12:00","04:13:00","04:14:00","04:15:00","04:16:00","04:17:00","04:18:00","04:19:00","04:20:00","04:21:00","04:22:00","04:23:00","04:24:00","04:25:00","04:26:00","04:27:00","04:28:00","04:29:00","04:30:00","04:31:00","04:32:00","04:33:00","04:34:00","04:35:00","04:36:00","04:37:00"],
                        y: ["","","","","","","","","","66.740088105726872246696000","70.451372731503024662633800","74.119373776908023483365900","80.962566844919786096256700","39.209726443768996960486300","42.640264026402640264026400","42.574257425742574257425700","7.575757575757575757575760","0.042194092827004219409283","6.540084388185654008438820","32.025316455696202531645600","28.312236286919831223628700","53.881856540084388185654000","54.345991561181434599156100","54.345991561181434599156100","54.852320675105485232067500","86.329113924050632911392400","93.829787234042553191489400","82.122413033905768383971800","78.775869660942316160281800","74.856891237340378687802700","74.856891237340378687802700","65.472458575906851768920700"],
                        xaxis: "x3",
                        yaxis: "y3",
                        type: "scatter",
                        mode: "lines",
                        name: "S1. kFast",
                        line: { shape: "spline", smoothing: 0.65,color: "rgba(255, 160, 160, 0.8)" },
                    },
                    {
                        x: ["04:06:00","04:07:00","04:08:00","04:09:00","04:10:00","04:11:00","04:12:00","04:13:00","04:14:00","04:15:00","04:16:00","04:17:00","04:18:00","04:19:00","04:20:00","04:21:00","04:22:00","04:23:00","04:24:00","04:25:00","04:26:00","04:27:00","04:28:00","04:29:00","04:30:00","04:31:00","04:32:00","04:33:00","04:34:00","04:35:00","04:36:00","04:37:00"],
                        y: ["","","","","","","","","","-1.000000000000000000000000","-1.000000000000000000000000","-1.000000000000000000000000","75.177771117776945365419000","64.763889021865602320162000","54.270852438363810088008700","41.474749298638071419142000","30.930093009300928585858600","16.730736364775716739803100","4.719345352256744742812930","12.869198312236286917215200","22.292545710267228407876200","38.073136427566806061884700","45.513361462728549866385300","54.191279887482418199718700","54.514767932489451744022700","65.175808720112519303797300","78.337073944399557730496300","87.427104730666319461324000","84.909356642963548720094000","78.585057977396156229267700","76.163217378541026229267700","71.728747016862537256307000"],
                        xaxis: "x3",
                        yaxis: "y3",
                        type: "scatter",
                        mode: "lines",
                        name: "S1. dSlow",
                        line: { shape: "spline", smoothing: 0.65 , color: "rgba(160, 160, 255, 0.8)" },
                    },
                    {
                        x: ["04:06:00","04:07:00","04:08:00","04:09:00","04:10:00","04:11:00","04:12:00","04:13:00","04:14:00","04:15:00","04:16:00","04:17:00","04:18:00","04:19:00","04:20:00","04:21:00","04:22:00","04:23:00","04:24:00","04:25:00","04:26:00","04:27:00","04:28:00","04:29:00","04:30:00","04:31:00","04:32:00","04:33:00","04:34:00","04:35:00","04:36:00","04:37:00"],
                        y: ["","","","","","","","","","-1.000000000000000000000000","-1.000000000000000000000000","-1.000000000000000000000000","-1.000000000000000000000000","-1.000000000000000000000000","-1.000000000000000000000000","41.474749298638070000000000","30.930093009300930000000000","16.730736364775716000000000","4.719345352256744000000000","12.869198312236287000000000","22.292545710267227000000000","38.073136427566810000000000","45.513361462728550000000000","54.191279887482416000000000","54.514767932489450000000000","65.175808720112510000000000","78.337073944399560000000000","87.427104730666310000000000","84.909356642963540000000000","78.585057977396160000000000","76.163217378541020000000000","71.728747016862540000000000"],
                        xaxis: "x3",
                        yaxis: "y3",
                        type:"scatter",
                        mode: "lines",
                        name: "S2. kFull",
                        line: { shape: "spline", smoothing: 0.65,color: "d3a0ffcc" },
                    },
                    {
                        x: ["04:06:00","04:07:00","04:08:00","04:09:00","04:10:00","04:11:00","04:12:00","04:13:00","04:14:00","04:15:00","04:16:00","04:17:00","04:18:00","04:19:00","04:20:00","04:21:00","04:22:00","04:23:00","04:24:00","04:25:00","04:26:00","04:27:00","04:28:00","04:29:00","04:30:00","04:31:00","04:32:00","04:33:00","04:34:00","04:35:00","04:36:00","04:37:00"],
                        y: ["","","","","","","","","","-1.000000000000000000000000","-1.000000000000000000000000","-1.000000000000000000000000","-1.000000000000000000000000","-1.000000000000000000000000","-1.000000000000000000000000","53.503163586289163333333300","42.225231582100936666666700","29.711859557571572000000000","17.460058242111130000000000","11.439760009756249000000000","13.293696458253419333333300","24.411626816690108000000000","35.293014533520862333333300","45.925925925925925333333300","51.406469760900138666666700","57.960618846694792000000000","66.009216865667173333333300","76.979995798392793333333300","83.557845106009803333333300","83.640506450342003333333300","79.885877332966906666666700","75.492340790933240000000000"],
                        xaxis: "x3",
                        yaxis: "y3",
                        type: "scatter",
                        mode: "lines",
                        name: "S2. dFull",
                        line: { shape: "spline", smoothing: 0.65 , color: "fff0a0cc" },
                    }
                ];
                plot();
            }

            function plot() {
                Plotly.newPlot("plotDiv1", this.data, this.graphOptions["layout"]);
            }

            var stochasticFast = true;
            let stoPlot = document.querySelector(".cartesianlayer .x3y3 .plot .scatterlayer");
            let stoPlot2 = document.querySelectorAll(".cartesianlayer .x3y3 .plot .scatterlayer .trace");
            let stoTitle = document.querySelector(".infolayer .g-y3title text");

            stoPlot2.forEach(function(elem) {
                elem.addEventListener('mouseenter', (e) => {
                    //setTimeout(() => {
                        console.log("hey");
                        let hoverText = document.querySelector(".main-svg .hoverlayer .hovertext");
                        if(!stochasticFast) {
                            if(hoverText.childNodes[0].innerHTML === "Stoc. - kFast") {
                                hoverText.childNodes[0].style.visibility = "hidden";
                                hoverText.childNodes[1].style.visibility = "hidden";
                            }

                        } else {
                            stoTitle.innerHTML= "Stoch. - Fast";
                            if(hoverText.childNodes[0].innerHTML === "Stoc. - kFast") {
                                hoverText.childNodes[2].style.visibility = "hidden";
                                hoverText.childNodes[3].style.visibility = "hidden";
                            }
                        }
                    //}, 1000);
                });
            });

            /*stoPlot.addEventListener('mouseenter', (e) => {
                //setTimeout(() => {
                    console.log("hey");
                    let hoverText = document.querySelector(".main-svg .hoverlayer .hovertext");
                    if(!stochasticFast) {
                        if(hoverText.childNodes[0].innerHTML === "Stoc. - kFast") {
                            hoverText.childNodes[0].style.visibility = "hidden";
                            hoverText.childNodes[1].style.visibility = "hidden";
                        }

                    } else {
                        stoTitle.innerHTML= "Stoch. - Fast";
                        if(hoverText.childNodes[0].innerHTML === "Stoc. - kFast") {
                            hoverText.childNodes[2].style.visibility = "hidden";
                            hoverText.childNodes[3].style.visibility = "hidden";
                        }
                    }
                //}, 1000);
            });*/

            document.addEventListener('keydown', (e) => {

                // Only accept 'F'
                if(e.code !== 'KeyS') {
                    return;
                }

                /* Show only fast or full Stochastics on keypress */
                stochasticFast = !stochasticFast;

                if(!stochasticFast) {
                    stoPlot.childNodes[0].style.visibility = "hidden";
                    stoPlot.childNodes[1].style.visibility = "hidden";
                    stoPlot.childNodes[2].style.visibility = "visible";
                    stoPlot.childNodes[3].style.visibility = "visible";
                    stoTitle.innerHTML = "Stoch. - Full";
                } else {
                    stoPlot.childNodes[0].style.visibility = "visible";
                    stoPlot.childNodes[1].style.visibility = "visible";
                    stoPlot.childNodes[2].style.visibility = "hidden";
                    stoPlot.childNodes[3].style.visibility = "hidden";
                    stoTitle.innerHTML= "Stoch. - Fast";
                }
            });

            /* Only have fast k and slow d showing initially */
            stoPlot.childNodes[2].style.visibility = "hidden";
            stoPlot.childNodes[3].style.visibility = "hidden";
            stoTitle.innerHTML= "Stoch. - Fast";
        </script>
    </body>
</html>
