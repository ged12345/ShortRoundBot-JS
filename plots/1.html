<!DOCTYPE html>
<html>
    <head>
        <script src="js/plotly-latest.min.js"></script>
        <meta charset="utf-8" />
        <title>SRBot | Bitcoin</title>
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl"
            crossorigin="anonymous"
        />
    </head>

    <body style="background: #212529; overflow: hidden">
        <div id="plotDiv1" class="mt-3" style="width: 100%; height: 1000px">
            <!-- Plotly chart will be drawn inside this DIV -->
        </div>
        <script id="javascript">

            graphOptions = {
                filename: "coin-axes",
                fileopt: "overwrite",
                layout: {
                    plot_bgcolor:"#212529",
                    paper_bgcolor: "#212529",
                    title: {
                        text:"ShortRoundBot | Bitcoin",
                        font: {
                            family: "Avenir Light",
                            size: 36,
                            color: "white"
                        },
                    },
                    legend: {
                        font: {
                            family: "Avenir Light",
                            size: 14,
                            color: "white",
                        },
                        visible: false,
                    },
                    grid: {
                        rows: 3,
                        columns: 1,
                        pattern: "independent",
                        roworder: "top to bottom",
                    },
                    xaxis: {
                        visible: true,
                        range: [0, 31],
                        rangeslider: {
                            visible: false
                        },
                        showgrid: false,
                        showticklabels: false,
                        color: "white",
                        gridcolor: "rgba(255,255,255,0.05)",
                    },
                    yaxis: {
                        autorange: false,
                        range: [51860.388775541265, 52506.33278773116],
                        domain: [0.5, 1],
                        type: 'linear',
                        color: "white",
                        showgrid: true,
                        gridcolor: "rgba(255,255,255,0.05)",
                    },
                    xaxis2: {
                        range: [0, 31] , zeroline: false, color: "white", gridcolor: "rgba(255,255,255,0.05)", showgrid: true, showticklabels: false,
                    },
                    yaxis2: {
                        range: [-2, 105], domain: [0.3, 0.45], zeroline: false, gridcolor: "rgba(255,255,255,0.05)", color: "white",
                        title : {
                            text: "RSI",
                            font: {
                                family: "Avenir Light",
                                size: 24,
                                color: "white"
                            },
                        },
                    },
                    xaxis3: {
                        range: [0, 31], color: "white", zeroline: false,
                        gridcolor: "rgba(255,255,255,0.05)",
                        },
                    yaxis3: {
                        range: [-2, 105], color: "white", domain: [0.1, 0.25],
                        gridcolor: "rgba(255,255,255,0.05)",
                        title : {
                            text: "Stoch. - F",
                            font: {
                                family: "Avenir Light",
                                size: 24,
                                color: "white"
                            },
                        },
                    },
                    shapes: [
                        {
                            type: "line",
                            xref: "paper",
                            yref: "y2",
                            x0: 0,
                            y0: 50.0,
                            x1: 1,
                            y1: 50.0,
                            line: {
                                color: "rgba(0, 0, 255, 0.4)",
                                width: 2,
                                dash: "dot",
                            },
                            opacity: 0.5,
                            layer: "below",
                        },
                        {
                            type: "line",
                            xref: "paper",
                            yref: "y2",
                            x0: 0,
                            y0: 66.66,
                            x1: 1,
                            y1: 66.66,
                            line: {
                                color: "rgb(255, 0, 0)",
                                width: 2,
                                dash: "dot",
                            },
                            opacity: 0.5,
                            layer: "below",
                        },
                        {
                            type: "line",
                            xref: "paper",
                            yref: "y2",
                            x0: 0,
                            y0: 33.33,
                            x1: 1,
                            y1: 33.33,
                            line: {
                                color: "rgb(255, 0, 0)",
                                width: 2,
                                dash: "dot",
                            },
                            opacity: 0.5,
                            layer: "below",
                        },
                        {
                            type: "line",
                            xref: "paper",
                            yref: "y3",
                            x0: 0,
                            y0: 20,
                            x1: 1,
                            y1: 20,
                            line: {
                                color: "rgb(255, 0, 0)",
                                width: 2,
                                dash: "dot",
                            },
                            opacity: 0.5,
                            layer: "below",
                        },
                        {
                            type: "line",
                            xref: "paper",
                            yref: "y3",
                            x0: 0,
                            y0: 80,
                            x1: 1,
                            y1: 80,
                            line: {
                                color: "rgb(255, 0, 0)",
                                width: 2,
                                dash: "dot",
                            },
                            opacity: 0.5,
                            layer: "below",
                        },
                        {
                            type: "line",
                            xref: "paper",
                            yref: "y3",
                            x0: 0,
                            y0: 50.0,
                            x1: 1,
                            y1: 50.0,
                            line: {
                                color: "rgba(0, 0, 255, 0.4)",
                                width: 2,
                                dash: "dot",
                            },
                            opacity: 0.5,
                            layer: "below",
                        },
                    ],
                },
            };

            init();

            function init(
            ) {

                this.data = [
                    {

                       x: ["15:01:00","15:02:00","15:03:00","15:04:00","15:05:00","15:06:00","15:07:00","15:08:00","15:09:00","15:10:00","15:11:00","15:12:00","15:13:00","15:14:00","15:15:00","15:16:00","15:17:00","15:18:00","15:19:00","15:20:00","15:21:00","15:22:00","15:23:00","15:24:00","15:25:00","15:26:00","15:27:00","15:28:00","15:29:00","15:30:00","15:31:00","15:32:00"],

                       close: ["52039.40000000","51979.60000000","51942.00000000","51923.70000000","51923.70000000","52055.50000000","52059.80000000","52115.00000000","52175.40000000","52190.00000000","52162.50000000","52249.40000000","52276.40000000","52300.00000000","52280.80000000","52225.10000000","52285.80000000","52225.10000000","52225.10000000","52321.50000000","52408.00000000","52489.30000000","52385.60000000","52408.60000000","52393.70000000","52353.60000000","52405.00000000","52421.90000000","52411.20000000","52341.20000000","52376.10000000","52361.80000000"],

                       high: ["52055.20000000","52031.90000000","52000.00000000","51945.00000000","51923.80000000","52055.50000000","52061.90000000","52115.00000000","52175.60000000","52190.00000000","52190.00000000","52249.90000000","52287.00000000","52300.00000000","52331.60000000","52281.00000000","52285.80000000","52252.10000000","52225.10000000","52321.50000000","52432.90000000","52489.30000000","52489.20000000","52449.50000000","52408.50000000","52393.70000000","52405.00000000","52429.40000000","52426.20000000","52411.10000000","52396.50000000","52411.00000000"],

                       increasing: {line: {color: '#336137', width: 1, dash: "solid"}},
                       decreasing: {line: {color: 'rgb(226, 65, 93)', width: 1}},

                       line: {color: 'rgba(31,119,180,1)'},

                       low: ["52023.90000000","51950.70000000","51903.80000000","51913.90000000","51921.20000000","51923.80000000","52023.30000000","52060.00000000","52121.00000000","52175.80000000","52126.60000000","52121.30000000","52249.90000000","52293.00000000","52253.30000000","52225.00000000","52252.10000000","52225.00000000","52208.10000000","52225.10000000","52324.30000000","52419.30000000","52376.10000000","52380.40000000","52365.10000000","52331.70000000","52326.70000000","52404.00000000","52400.00000000","52341.20000000","52341.20000000","52360.50000000"],

                       open: ["52039.20000000","52031.90000000","52000.00000000","51930.40000000","51921.20000000","51923.80000000","52061.90000000","52060.00000000","52121.00000000","52175.80000000","52190.00000000","52136.20000000","52250.00000000","52293.00000000","52300.00000000","52281.00000000","52268.10000000","52252.10000000","52225.00000000","52225.10000000","52324.30000000","52419.30000000","52489.20000000","52402.50000000","52408.50000000","52393.70000000","52361.10000000","52408.60000000","52426.20000000","52411.10000000","52341.20000000","52388.30000000"],
                       type: 'candlestick',
                       name: "Bitcoin",
                       xaxis: 'x1',
                       yaxis: 'y1'
                    },
                    {
                        x: ["15:01:00","15:02:00","15:03:00","15:04:00","15:05:00","15:06:00","15:07:00","15:08:00","15:09:00","15:10:00","15:11:00","15:12:00","15:13:00","15:14:00","15:15:00","15:16:00","15:17:00","15:18:00","15:19:00","15:20:00","15:21:00","15:22:00","15:23:00","15:24:00","15:25:00","15:26:00","15:27:00","15:28:00","15:29:00","15:30:00","15:31:00","15:32:00"],
                        y: ["52069.14603174603000000000","52072.11904761904000000000","52074.51587301587000000000","52077.65555555555000000000","52078.06349206349000000000","52076.31428571429000000000","52072.99523809523000000000","52075.17619047620000000000","52083.52380952381000000000","52090.02380952381000000000","52095.16190476190000000000","52100.61587301587000000000","52106.23174603175000000000","52113.88888888889000000000","52119.78571428570000000000","52120.55714285714000000000","52126.32698412697000000000","52129.19206349206000000000","52130.94126984126000000000","52137.23174603173500000000","52152.31269841269000000000","52172.62063492062600000000","52193.07619047618000000000","52215.18253968254000000000","52237.16190476191000000000","52257.96031746032000000000","52275.45079365080000000000","52293.07460317460000000000","52308.11269841270000000000","52317.97777777778500000000","52326.83492063492000000000","52337.21904761905000000000"],
                        xaxis: "x1",
                        yaxis: "y1",
                        type: "scatter",
                        mode: "lines",
                        name: "Boll. MA",
                        line: { shape: "spline", smoothing: 0.35,color: "rgba(160, 255, 160, 0.6)", dash: "dot", },
                    },
                    {
                        x: ["15:01:00","15:02:00","15:03:00","15:04:00","15:05:00","15:06:00","15:07:00","15:08:00","15:09:00","15:10:00","15:11:00","15:12:00","15:13:00","15:14:00","15:15:00","15:16:00","15:17:00","15:18:00","15:19:00","15:20:00","15:21:00","15:22:00","15:23:00","15:24:00","15:25:00","15:26:00","15:27:00","15:28:00","15:29:00","15:30:00","15:31:00","15:32:00"],
                        y: ["52277.90328795079400000000","52275.17288965715000000000","52270.10130760194400000000","52257.13348982294000000000","52261.52737582264000000000","52259.49484692245000000000","52255.84703762033000000000","52257.62894322092000000000","52261.59827380752500000000","52273.08892389510000000000","52279.95900450257000000000","52296.15750883256000000000","52313.78678422054500000000","52336.26897454030400000000","52351.35992869665000000000","52350.67772881510000000000","52366.53510477341000000000","52372.50794992279000000000","52376.19587344651500000000","52395.07694348621600000000","52429.12303140898000000000","52476.99150190892000000000","52495.23582331753000000000","52506.33278773116000000000","52504.04004336018000000000","52486.08836759058000000000","52490.33062823436000000000","52491.10929447114000000000","52493.23443442135000000000","52492.62771310356000000000","52492.46862518092500000000","52485.08835438041600000000"],
                        xaxis: "x1",
                        yaxis: "y1",
                        type: "scatter",
                        mode: "lines",
                        name: "Boll. U",
                        line: { shape: "spline", smoothing: 0.35,color: "rgba(160, 255, 160, 0.7)", dash: "dashed", },
                    },
                    {
                        x: ["15:01:00","15:02:00","15:03:00","15:04:00","15:05:00","15:06:00","15:07:00","15:08:00","15:09:00","15:10:00","15:11:00","15:12:00","15:13:00","15:14:00","15:15:00","15:16:00","15:17:00","15:18:00","15:19:00","15:20:00","15:21:00","15:22:00","15:23:00","15:24:00","15:25:00","15:26:00","15:27:00","15:28:00","15:29:00","15:30:00","15:31:00","15:32:00"],
                        y: ["51860.38877554126500000000","51869.06520558092600000000","51878.93043842980000000000","51898.17762128817000000000","51894.59960830434000000000","51893.13372450613000000000","51890.14343857013000000000","51892.72343773148000000000","51905.44934524009000000000","51906.95869515252000000000","51910.36480502123600000000","51905.07423719918000000000","51898.67670784295500000000","51891.50880323748000000000","51888.21149987476000000000","51890.43655689918500000000","51886.11886348054000000000","51885.87617706133500000000","51885.68666623601000000000","51879.38654857725500000000","51875.50236541639600000000","51868.24976793233500000000","51890.91655763483000000000","51924.03229163391400000000","51970.28376616364000000000","52029.83226733006000000000","52060.57095906724000000000","52095.03991187806000000000","52122.99096240404500000000","52143.32784245201000000000","52161.20121608892000000000","52189.34974085769000000000"],
                        xaxis: "x1",
                        yaxis: "y1",
                        type: "scatter",
                        mode: "lines",
                        name: "Boll. U",
                        line: { shape: "spline", smoothing: 0.35,color: "rgba(160, 255, 160, 0.7)", dash: "dashed", },
                    },
                    {
                        x: ["15:01:00","15:02:00","15:03:00","15:04:00","15:05:00","15:06:00","15:07:00","15:08:00","15:09:00","15:10:00","15:11:00","15:12:00","15:13:00","15:14:00","15:15:00","15:16:00","15:17:00","15:18:00","15:19:00","15:20:00","15:21:00","15:22:00","15:23:00","15:24:00","15:25:00","15:26:00","15:27:00","15:28:00","15:29:00","15:30:00","15:31:00","15:32:00"],
                        y: ["45.7581","42.1835","40.0643","39.0364","39.0364","49.7955","50.1049","54.0220","57.9153","58.8229","56.3574","61.8054","63.3368","64.6702","62.6731","57.1587","61.1685","55.5675","55.5675","61.9798","66.6329","70.3108","61.0651","62.2507","60.9557","57.4894","60.5835","61.5738","60.5368","54.1155","56.5879","55.2737"],
                        xaxis: "x2",
                        yaxis: "y2",
                        type: "scatter",
                        mode: "lines",
                        name: "RSI",
                        line: { shape: "spline", smoothing: 0.65,color: "rgba(160, 255, 160, 0.8)" },
                    },
                    {
                        x: ["15:01:00","15:02:00","15:03:00","15:04:00","15:05:00","15:06:00","15:07:00","15:08:00","15:09:00","15:10:00","15:11:00","15:12:00","15:13:00","15:14:00","15:15:00","15:16:00","15:17:00","15:18:00","15:19:00","15:20:00","15:21:00","15:22:00","15:23:00","15:24:00","15:25:00","15:26:00","15:27:00","15:28:00","15:29:00","15:30:00","15:31:00","15:32:00"],
                        y: ["28.672452587592414014786200","9.450337512054001928640310","10.685314685314685314685300","5.566433566433566433566430","5.566433566433566433566430","42.433566433566433566433600","43.636363636363636363636400","59.076923076923076923076900","91.355533131516986209216300","96.623902768399729912221500","88.808788190868520425678000","99.855533082924010401618000","97.233820459290187891440500","100.000000000000000000000000","88.125292192613370733987800","75.105189340813464235624100","89.035192722049317692123500","74.049707602339181286549700","73.884256988719960765080900","96.723970158936101200129700","93.322606596942880128720800","100.000000000000000000000000","71.820652173913043478260900","78.070652173913043478260900","74.021739130434782608695700","51.742532005689900426742500","70.021337126600284495021300","76.031294452347083926031300","72.226173541963015647226200","47.332859174964438122332900","59.743954480796586059744000","54.658605974395448079658600"],
                        xaxis: "x3",
                        yaxis: "y3",
                        type: "scatter",
                        mode: "lines",
                        name: "S1. kFast",
                        line: { shape: "spline", smoothing: 0.65,color: "rgba(255, 160, 160, 0.8)" },
                    },
                    {
                        x: ["15:01:00","15:02:00","15:03:00","15:04:00","15:05:00","15:06:00","15:07:00","15:08:00","15:09:00","15:10:00","15:11:00","15:12:00","15:13:00","15:14:00","15:15:00","15:16:00","15:17:00","15:18:00","15:19:00","15:20:00","15:21:00","15:22:00","15:23:00","15:24:00","15:25:00","15:26:00","15:27:00","15:28:00","15:29:00","15:30:00","15:31:00","15:32:00"],
                        y: ["40.780027858137791338262000","22.232936890603235309546800","16.269368261653700438228400","8.567361921267417811188800","7.272727272727272811188800","17.855477855477855855477900","30.545454545454544454545500","48.382284382284378974359000","64.689606614934565403072000","82.352119658946599970740700","92.262741363595080141892700","95.096074680730756800539300","95.299380577694242630480300","99.029784514071400000000000","95.119704217301186911329300","87.743493844475611411874700","84.088558085158719230708000","79.396696555067323762183300","78.989719104369486921693700","81.552644916665077066710000","87.976944581532976709573700","96.682192251959660000000000","88.381086256951974492753700","83.297101449275364492753700","74.637681159420294202898700","67.944974436679243475581000","65.261869420908321498340300","65.931721194879091308677000","72.759601706970128549075300","65.196775723091512707444300","59.767662399241348686581300","53.911806543385492693219700"],
                        xaxis: "x3",
                        yaxis: "y3",
                        type: "scatter",
                        mode: "lines",
                        name: "S1. dSlow",
                        line: { shape: "spline", smoothing: 0.65 , color: "rgba(160, 160, 255, 0.8)" },
                    },
                    {
                        x: ["15:01:00","15:02:00","15:03:00","15:04:00","15:05:00","15:06:00","15:07:00","15:08:00","15:09:00","15:10:00","15:11:00","15:12:00","15:13:00","15:14:00","15:15:00","15:16:00","15:17:00","15:18:00","15:19:00","15:20:00","15:21:00","15:22:00","15:23:00","15:24:00","15:25:00","15:26:00","15:27:00","15:28:00","15:29:00","15:30:00","15:31:00","15:32:00"],
                        y: ["40.780027858137790000000000","22.232936890603234000000000","16.269368261653700000000000","8.567361921267418000000000","7.272727272727272500000000","17.855477855477854000000000","30.545454545454543000000000","48.382284382284380000000000","64.689606614934560000000000","82.352119658946600000000000","92.262741363595080000000000","95.096074680730750000000000","95.299380577694240000000000","99.029784514071400000000000","95.119704217301190000000000","87.743493844475610000000000","84.088558085158720000000000","79.396696555067320000000000","78.989719104369480000000000","81.552644916665070000000000","87.976944581532980000000000","96.682192251959660000000000","88.381086256951970000000000","83.297101449275360000000000","74.637681159420300000000000","67.944974436679250000000000","65.261869420908330000000000","65.931721194879090000000000","72.759601706970130000000000","65.196775723091520000000000","59.767662399241345000000000","53.911806543385495000000000"],
                        xaxis: "x3",
                        yaxis: "y3",
                        type:"scatter",
                        mode: "lines",
                        name: "S2. kFull",
                        line: { shape: "spline", smoothing: 0.65,color: "d3a0ffcc" },
                    },
                    {
                        x: ["15:01:00","15:02:00","15:03:00","15:04:00","15:05:00","15:06:00","15:07:00","15:08:00","15:09:00","15:10:00","15:11:00","15:12:00","15:13:00","15:14:00","15:15:00","15:16:00","15:17:00","15:18:00","15:19:00","15:20:00","15:21:00","15:22:00","15:23:00","15:24:00","15:25:00","15:26:00","15:27:00","15:28:00","15:29:00","15:30:00","15:31:00","15:32:00"],
                        y: ["57.402947462524641333333300","40.272226693693906000000000","26.427444336798241333333300","15.689889024508117333333300","10.703152485216130166666700","11.231855683157514833333300","18.557886557886556500000000","32.261072261072259000000000","47.872448514224494333333300","65.141336885388513333333300","79.768155879158746666666700","89.903645234424143333333300","94.219398874006690000000000","96.475079924165463333333300","96.482956436355610000000000","93.964327525282733333333300","88.983918715645173333333300","83.742916161567216666666700","80.824991248198506666666700","79.979686858700623333333300","82.839769534189176666666700","88.737260583385903333333300","91.013407696814870000000000","89.453459986062330000000000","82.105289621882543333333300","75.293252348458303333333300","69.281508339002626666666700","66.379521684155556666666700","67.984397440919183333333300","67.962699541646913333333300","65.908013276434331666666700","59.625414888572786666666700"],
                        xaxis: "x3",
                        yaxis: "y3",
                        type: "scatter",
                        mode: "lines",
                        name: "S2. dFull",
                        line: { shape: "spline", smoothing: 0.65 , color: "fff0a0cc" },
                    }
                ];
                plot();
            }

            function plot() {
                Plotly.newPlot("plotDiv1", this.data, this.graphOptions["layout"]);
            }

            var stochasticFast = true;
            let stoPlot = document.querySelector(".cartesianlayer .x3y3 .plot .scatterlayer");
            let stoPlot2 = document.querySelectorAll(".cartesianlayer .x3y3 .plot .scatterlayer .trace");
            let stoTitle = document.querySelector(".infolayer .g-y3title text");

            stoPlot2.forEach(function(elem) {
                elem.addEventListener('mouseenter', (e) => {
                    //setTimeout(() => {
                        console.log("hey");
                        let hoverText = document.querySelector(".main-svg .hoverlayer .hovertext");
                        if(!stochasticFast) {
                            if(hoverText.childNodes[0].innerHTML === "Stoc. - kFast") {
                                hoverText.childNodes[0].style.visibility = "hidden";
                                hoverText.childNodes[1].style.visibility = "hidden";
                            }

                        } else {
                            stoTitle.innerHTML= "Stoch. - Fast";
                            if(hoverText.childNodes[0].innerHTML === "Stoc. - kFast") {
                                hoverText.childNodes[2].style.visibility = "hidden";
                                hoverText.childNodes[3].style.visibility = "hidden";
                            }
                        }
                    //}, 1000);
                });
            });

            /*stoPlot.addEventListener('mouseenter', (e) => {
                //setTimeout(() => {
                    console.log("hey");
                    let hoverText = document.querySelector(".main-svg .hoverlayer .hovertext");
                    if(!stochasticFast) {
                        if(hoverText.childNodes[0].innerHTML === "Stoc. - kFast") {
                            hoverText.childNodes[0].style.visibility = "hidden";
                            hoverText.childNodes[1].style.visibility = "hidden";
                        }

                    } else {
                        stoTitle.innerHTML= "Stoch. - Fast";
                        if(hoverText.childNodes[0].innerHTML === "Stoc. - kFast") {
                            hoverText.childNodes[2].style.visibility = "hidden";
                            hoverText.childNodes[3].style.visibility = "hidden";
                        }
                    }
                //}, 1000);
            });*/

            document.addEventListener('keydown', (e) => {

                // Only accept 'F'
                if(e.code !== 'KeyS') {
                    return;
                }

                /* Show only fast or full Stochastics on keypress */
                stochasticFast = !stochasticFast;

                if(!stochasticFast) {
                    stoPlot.childNodes[0].style.visibility = "hidden";
                    stoPlot.childNodes[1].style.visibility = "hidden";
                    stoPlot.childNodes[2].style.visibility = "visible";
                    stoPlot.childNodes[3].style.visibility = "visible";
                    stoTitle.innerHTML = "Stoch. - Full";
                } else {
                    stoPlot.childNodes[0].style.visibility = "visible";
                    stoPlot.childNodes[1].style.visibility = "visible";
                    stoPlot.childNodes[2].style.visibility = "hidden";
                    stoPlot.childNodes[3].style.visibility = "hidden";
                    stoTitle.innerHTML= "Stoch. - Fast";
                }
            });

            /* Only have fast k and slow d showing initially */
            stoPlot.childNodes[2].style.visibility = "hidden";
            stoPlot.childNodes[3].style.visibility = "hidden";
            stoTitle.innerHTML= "Stoch. - Fast";
        </script>
    </body>
</html>
