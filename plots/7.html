<!DOCTYPE html>
<html>
    <head>
        <script src="js/plotly-latest.min.js"></script>
        <meta charset="utf-8" />
        <title>SRBot | Polkadot</title>
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl"
            crossorigin="anonymous"
        />
    </head>

    <body style="background: #212529; overflow: hidden">
        <div id="plotDiv1" class="mt-3" style="width: 100%; height: 1000px">
            <!-- Plotly chart will be drawn inside this DIV -->
        </div>
        <script id="javascript">

            graphOptions = {
                filename: "coin-axes",
                fileopt: "overwrite",
                layout: {
                    plot_bgcolor: "#212529",
                    paper_bgcolor: "#212529",
                    title: {
                        text: "ShortRoundBot | Polkadot",
                        font: {
                            family: "Avenir Light",
                            size: 36,
                            color: "white"
                        },
                    },
                    legend: {
                        font: {
                            family: "Avenir Light",
                            size: 14,
                            color: "white",
                        },
                        visible: false,
                    },
                    grid: {
                        rows: 3,
                        columns: 1,
                        pattern: "independent",
                        roworder: "top to bottom",
                    },
                    xaxis: {
                        visible: true,
                        range: [0, 31],
                        rangeslider: {
                            visible: false
                        },
                        showgrid: false,
                        showticklabels: false,
                        color: "white",
                        gridcolor: "rgba(255,255,255,0.05)",
                    },
                    yaxis: {
                        autorange: false,
                        range: [40.90805778038032, 41.468101621963065],
                        domain: [0.5, 1],
                        type: 'linear',
                        color: "white",
                        showgrid: true,
                        gridcolor: "rgba(255,255,255,0.05)",
                    },
                    xaxis2: {
                        range: [0, 31], zeroline: false, color: "white", gridcolor: "rgba(255,255,255,0.05)", showgrid: true, showticklabels: false,
                    },
                    yaxis2: {
                        range: [-2, 105], domain: [0.3, 0.45], zeroline: false, gridcolor: "rgba(255,255,255,0.05)", color: "white",
                        title: {
                            text: "RSI",
                            font: {
                                family: "Avenir Light",
                                size: 24,
                                color: "white"
                            },
                        },
                    },
                    xaxis3: {
                        range: [0, 31], color: "white", zeroline: false,
                        gridcolor: "rgba(255,255,255,0.05)",
                    },
                    yaxis3: {
                        range: [-2, 105], color: "white", domain: [0.1, 0.25],
                        gridcolor: "rgba(255,255,255,0.05)",
                        title: {
                            text: "Stoch. - F",
                            font: {
                                family: "Avenir Light",
                                size: 24,
                                color: "white"
                            },
                        },
                    },
                    shapes: [
                        {
                            type: "line",
                            xref: "paper",
                            yref: "y2",
                            x0: 0,
                            y0: 50.0,
                            x1: 1,
                            y1: 50.0,
                            line: {
                                color: "rgba(0, 0, 255, 0.4)",
                                width: 2,
                                dash: "dot",
                            },
                            opacity: 0.5,
                            layer: "below",
                        },
                        {
                            type: "line",
                            xref: "paper",
                            yref: "y2",
                            x0: 0,
                            y0: 66.66,
                            x1: 1,
                            y1: 66.66,
                            line: {
                                color: "rgb(255, 0, 0)",
                                width: 2,
                                dash: "dot",
                            },
                            opacity: 0.5,
                            layer: "below",
                        },
                        {
                            type: "line",
                            xref: "paper",
                            yref: "y2",
                            x0: 0,
                            y0: 33.33,
                            x1: 1,
                            y1: 33.33,
                            line: {
                                color: "rgb(255, 0, 0)",
                                width: 2,
                                dash: "dot",
                            },
                            opacity: 0.5,
                            layer: "below",
                        },
                        {
                            type: "line",
                            xref: "paper",
                            yref: "y3",
                            x0: 0,
                            y0: 20,
                            x1: 1,
                            y1: 20,
                            line: {
                                color: "rgb(255, 0, 0)",
                                width: 2,
                                dash: "dot",
                            },
                            opacity: 0.5,
                            layer: "below",
                        },
                        {
                            type: "line",
                            xref: "paper",
                            yref: "y3",
                            x0: 0,
                            y0: 80,
                            x1: 1,
                            y1: 80,
                            line: {
                                color: "rgb(255, 0, 0)",
                                width: 2,
                                dash: "dot",
                            },
                            opacity: 0.5,
                            layer: "below",
                        },
                        {
                            type: "line",
                            xref: "paper",
                            yref: "y3",
                            x0: 0,
                            y0: 50.0,
                            x1: 1,
                            y1: 50.0,
                            line: {
                                color: "rgba(0, 0, 255, 0.4)",
                                width: 2,
                                dash: "dot",
                            },
                            opacity: 0.5,
                            layer: "below",
                        },
                    ],
                },
            };

            init();

            function init(
            ) {

                this.data = [
                    {

                        x: ["03:19:00","03:20:00","03:21:00","03:22:00","03:23:00","03:24:00","03:25:00","03:26:00","03:27:00","03:28:00","03:29:00","03:30:00","03:31:00","03:32:00","03:33:00","03:34:00","03:35:00","03:36:00","03:37:00","03:38:00","03:39:00","03:40:00","03:41:00","03:42:00","03:43:00","03:44:00","03:45:00","03:46:00","03:47:00","03:48:00","03:49:00","03:50:00"],

                        close: ["41.03210000","41.05850000","41.09810000","41.07360000","41.07360000","41.08250000","41.10130000","41.14060000","41.05090000","41.07880000","41.07880000","41.00260000","40.96000000","40.96400000","41.04810000","41.07210000","41.14570000","41.15840000","41.15840000","41.14750000","41.14750000","41.12910000","41.16570000","41.13580000","41.13580000","41.13270000","41.02540000","41.04680000","41.11840000","41.11840000","41.06960000","41.00010000"],

                        high: ["41.03210000","41.05850000","41.09810000","41.15010000","41.07360000","41.10000000","41.10130000","41.14060000","41.10120000","41.07880000","41.07880000","41.01110000","41.05020000","40.96400000","41.04810000","41.07210000","41.14570000","41.17410000","41.15840000","41.15460000","41.14750000","41.12910000","41.16570000","41.14450000","41.13580000","41.13270000","41.10000000","41.06510000","41.11840000","41.11840000","41.06990000","41.00010000"],

                        increasing: { line: { color: '#336137', width: 1, dash: "solid" } },
                        decreasing: { line: { color: 'rgb(226, 65, 93)', width: 1 } },

                        line: { color: 'rgba(31,119,180,1)' },

                        low: ["41.01000000","41.03500000","41.05850000","41.07360000","41.07360000","41.08250000","41.07850000","41.12530000","41.05090000","41.05090000","41.07880000","40.96000000","40.96000000","40.95420000","40.99550000","41.07210000","41.04260000","41.15840000","41.15840000","41.13990000","41.14750000","41.09960000","41.12170000","41.13580000","41.12350000","41.10180000","41.02540000","41.04680000","41.11840000","41.11840000","41.06960000","41.00010000"],

                        open: ["41.01050000","41.03760000","41.05850000","41.09190000","41.07360000","41.09630000","41.09120000","41.12530000","41.10120000","41.05090000","41.07880000","41.01110000","41.02460000","40.96310000","40.99550000","41.07210000","41.05190000","41.17400000","41.15840000","41.13990000","41.14750000","41.09960000","41.12440000","41.14340000","41.12350000","41.12020000","41.10000000","41.06510000","41.11840000","41.11840000","41.06990000","41.00010000"],
                        type: 'candlestick',
                        name: "Polkadot",
                        xaxis: 'x1',
                        yaxis: 'y1'
                    },
                    {
                        x: ["03:19:00","03:20:00","03:21:00","03:22:00","03:23:00","03:24:00","03:25:00","03:26:00","03:27:00","03:28:00","03:29:00","03:30:00","03:31:00","03:32:00","03:33:00","03:34:00","03:35:00","03:36:00","03:37:00","03:38:00","03:39:00","03:40:00","03:41:00","03:42:00","03:43:00","03:44:00","03:45:00","03:46:00","03:47:00","03:48:00","03:49:00","03:50:00"],
                        y: ["41.25384920634921000000","41.24145238095237400000","41.22947777777777400000","41.21965396825396000000","41.20910634920634400000","41.20241746031745600000","41.19569841269841000000","41.19064285714285000000","41.18071587301587000000","41.17022222222222000000","41.15847142857143000000","41.14035873015873000000","41.12181746031746000000","41.10446666666667000000","41.08865079365079000000","41.07743333333333000000","41.07012539682540000000","41.06791587301588000000","41.06843333333332400000","41.07215873015872600000","41.07806666666666500000","41.08256825396826000000","41.08734761904763000000","41.08990952380954000000","41.09146190476191400000","41.09378571428572000000","41.09197301587301600000","41.09003015873016000000","41.08921587301587400000","41.09163174603174000000","41.09164126984126000000","41.08789365079364000000"],
                        xaxis: "x1",
                        yaxis: "y1",
                        type: "scatter",
                        mode: "lines",
                        name: "Boll. MA",
                        line: { shape: "spline", smoothing: 0.35, color: "rgba(160, 255, 160, 0.6)", dash: "dot", },
                    },
                    {
                        x: ["03:19:00","03:20:00","03:21:00","03:22:00","03:23:00","03:24:00","03:25:00","03:26:00","03:27:00","03:28:00","03:29:00","03:30:00","03:31:00","03:32:00","03:33:00","03:34:00","03:35:00","03:36:00","03:37:00","03:38:00","03:39:00","03:40:00","03:41:00","03:42:00","03:43:00","03:44:00","03:45:00","03:46:00","03:47:00","03:48:00","03:49:00","03:50:00"],
                        y: ["41.46810162196306500000","41.46710448490476600000","41.45916188619597000000","41.45436048466016400000","41.44791326957386000000","41.44678334227121000000","41.44212637625873400000","41.43700601625516000000","41.42934391728902500000","41.41666406681530000000","41.39452298333847000000","41.36355861596726400000","41.33080409118672000000","41.30087555295301600000","41.24649011491728600000","41.20864102764894500000","41.18052883263903400000","41.17238499636065500000","41.17715071476308000000","41.18573077408239000000","41.19253837484292000000","41.19681685349723000000","41.20602447483583000000","41.21018854711249000000","41.21291997699533000000","41.21594527166998000000","41.21778676512616400000","41.21739380935754000000","41.21529896694985000000","41.21694233015906400000","41.21722272347435000000","41.21954143347457500000"],
                        xaxis: "x1",
                        yaxis: "y1",
                        type: "scatter",
                        mode: "lines",
                        name: "Boll. U",
                        line: { shape: "spline", smoothing: 0.35, color: "rgba(160, 255, 160, 0.7)", dash: "dashed", },
                    },
                    {
                        x: ["03:19:00","03:20:00","03:21:00","03:22:00","03:23:00","03:24:00","03:25:00","03:26:00","03:27:00","03:28:00","03:29:00","03:30:00","03:31:00","03:32:00","03:33:00","03:34:00","03:35:00","03:36:00","03:37:00","03:38:00","03:39:00","03:40:00","03:41:00","03:42:00","03:43:00","03:44:00","03:45:00","03:46:00","03:47:00","03:48:00","03:49:00","03:50:00"],
                        y: ["41.03959679073535000000","41.01580027699998000000","40.99979366935957600000","40.98494745184775000000","40.97029942883883000000","40.95805157836370000000","40.94927044913809000000","40.94427969803053500000","40.93208782874271600000","40.92378037762914000000","40.92241987380439400000","40.91715884435020000000","40.91283082944820000000","40.90805778038032000000","40.93081147238430000000","40.94622563901772000000","40.95972196101176000000","40.96344674967110000000","40.95971595190357000000","40.95858668623506600000","40.96359495849041000000","40.96831965443929000000","40.96867076325942500000","40.96963050050659000000","40.97000383252850000000","40.97162615690146500000","40.96615926661987000000","40.96266650810278000000","40.96313277908189600000","40.96632116190441000000","40.96605981620817000000","40.95624586811270000000"],
                        xaxis: "x1",
                        yaxis: "y1",
                        type: "scatter",
                        mode: "lines",
                        name: "Boll. U",
                        line: { shape: "spline", smoothing: 0.35, color: "rgba(160, 255, 160, 0.7)", dash: "dashed", },
                    },
                    {
                        x: ["03:19:00","03:20:00","03:21:00","03:22:00","03:23:00","03:24:00","03:25:00","03:26:00","03:27:00","03:28:00","03:29:00","03:30:00","03:31:00","03:32:00","03:33:00","03:34:00","03:35:00","03:36:00","03:37:00","03:38:00","03:39:00","03:40:00","03:41:00","03:42:00","03:43:00","03:44:00","03:45:00","03:46:00","03:47:00","03:48:00","03:49:00","03:50:00"],
                        y: ["41.2612","41.2529","41.2467","41.2405","41.2338","41.2280","41.2221","41.2167","41.2097","41.2038","41.1983","41.1905","41.1789","41.1677","41.1592","41.1521","41.1506","41.1476","41.1450","41.1407","41.1363","41.1297","41.1233","41.1159","41.1100","41.1028","41.0949","41.0885","41.0863","41.0860","41.0864","41.0860"],
                        xaxis: "x1",
                        yaxis: "y1",
                        type: "scatter",
                        mode: "lines",
                        name: "EMA",
                        line: { shape: "spline", smoothing: 0.35, color: "rgba(260, 55, 160, 0.7)", dash: "dashed", },
                    },
                    {
                        x: ["03:19:00","03:20:00","03:21:00","03:22:00","03:23:00","03:24:00","03:25:00","03:26:00","03:27:00","03:28:00","03:29:00","03:30:00","03:31:00","03:32:00","03:33:00","03:34:00","03:35:00","03:36:00","03:37:00","03:38:00","03:39:00","03:40:00","03:41:00","03:42:00","03:43:00","03:44:00","03:45:00","03:46:00","03:47:00","03:48:00","03:49:00","03:50:00"],
                        y: ["31.0458","34.3759","39.1250","37.3253","37.3253","38.5168","41.0655","46.0961","38.1019","41.5002","41.5002","35.3523","32.4575","33.0122","43.5152","46.1118","53.2148","54.3334","54.3334","53.0704","53.0704","50.7604","54.9600","51.1239","51.1239","50.6984","38.6940","41.6609","50.3233","50.3233","45.0373","38.7883"],
                        xaxis: "x2",
                        yaxis: "y2",
                        type: "scatter",
                        mode: "lines",
                        name: "RSI",
                        line: { shape: "spline", smoothing: 0.65, color: "rgba(160, 255, 160, 0.8)" },
                    },
                    {
                        x: ["03:19:00","03:20:00","03:21:00","03:22:00","03:23:00","03:24:00","03:25:00","03:26:00","03:27:00","03:28:00","03:29:00","03:30:00","03:31:00","03:32:00","03:33:00","03:34:00","03:35:00","03:36:00","03:37:00","03:38:00","03:39:00","03:40:00","03:41:00","03:42:00","03:43:00","03:44:00","03:45:00","03:46:00","03:47:00","03:48:00","03:49:00","03:50:00"],
                        y: ["5.700283724529275212793400","12.509672427134382254320400","22.723755481042042816610800","16.404436419912303327314900","16.404436419912303327314900","20.549886621315192743764200","25.878684807256235827664400","37.018140589569160997732400","14.391273750879662209711500","28.654727197001249479383600","38.222222222222222222222200","22.409258285113098369279300","0.000000000000000000000000","5.002552322613578356304240","47.932618683001531393568100","60.183767228177641653905100","97.753956100051046452271600","92.860391086857662573897200","92.860391086857662573897200","87.903592542064574806730300","87.903592542064574806730300","79.536152796725784447476100","96.180081855388813096862200","82.582992269213278763074100","82.582992269213278763074100","81.173260572987721691678000","32.378353797180536607548900","28.723404255319148936170200","62.542030934767989240080700","62.542030934767989240080700","29.724277067921990585070600","0.000000000000000000000000"],
                        xaxis: "x3",
                        yaxis: "y3",
                        type: "scatter",
                        mode: "lines",
                        name: "S1. kFast",
                        line: { shape: "spline", smoothing: 0.65, color: "rgba(255, 160, 160, 0.8)" },
                    },
                    {
                        x: ["03:19:00","03:20:00","03:21:00","03:22:00","03:23:00","03:24:00","03:25:00","03:26:00","03:27:00","03:28:00","03:29:00","03:30:00","03:31:00","03:32:00","03:33:00","03:34:00","03:35:00","03:36:00","03:37:00","03:38:00","03:39:00","03:40:00","03:41:00","03:42:00","03:43:00","03:44:00","03:45:00","03:46:00","03:47:00","03:48:00","03:49:00","03:50:00"],
                        y: ["4.214079582035004787597800","6.087328429326664968106800","13.644570544235233772203600","17.212621442696243442438300","18.510876106955550775771600","17.786253153713267581254700","20.944335949494577609221500","27.815570672713529332577500","25.762699715901687069903800","26.688047179150025159794500","27.089407723367711407407400","29.762069234778856123093100","20.210493502445105666666700","9.137270202575558452101400","17.645057001871703131189400","37.706312744597583217968300","68.623447337076738817424000","83.599371471695447524632300","94.491579424588787524632300","91.208124905259964935576700","89.555858723662268268910000","85.114445960284974815825300","87.873275731393057698954000","86.099742307109289587691300","87.115355464605119587691300","82.113081703804760563892700","65.378202213127178869183000","47.425006208495802978723300","41.214596329089226413360300","51.269155374951708413360300","51.602779645819320861690300","30.755436000896659333333300"],
                        xaxis: "x3",
                        yaxis: "y3",
                        type: "scatter",
                        mode: "lines",
                        name: "S1. dSlow",
                        line: { shape: "spline", smoothing: 0.65, color: "rgba(160, 160, 255, 0.8)" },
                    },
                    {
                        x: ["03:19:00","03:20:00","03:21:00","03:22:00","03:23:00","03:24:00","03:25:00","03:26:00","03:27:00","03:28:00","03:29:00","03:30:00","03:31:00","03:32:00","03:33:00","03:34:00","03:35:00","03:36:00","03:37:00","03:38:00","03:39:00","03:40:00","03:41:00","03:42:00","03:43:00","03:44:00","03:45:00","03:46:00","03:47:00","03:48:00","03:49:00","03:50:00"],
                        y: ["4.214079582035005000000000","6.087328429326665000000000","13.644570544235235000000000","17.212621442696243000000000","18.510876106955550000000000","17.786253153713268000000000","20.944335949494576000000000","27.815570672713530000000000","25.762699715901686000000000","26.688047179150026000000000","27.089407723367710000000000","29.762069234778856000000000","20.210493502445107000000000","9.137270202575559000000000","17.645057001871702000000000","37.706312744597580000000000","68.623447337076740000000000","83.599371471695450000000000","94.491579424588790000000000","91.208124905259960000000000","89.555858723662270000000000","85.114445960284970000000000","87.873275731393060000000000","86.099742307109300000000000","87.115355464605120000000000","82.113081703804770000000000","65.378202213127180000000000","47.425006208495800000000000","41.214596329089225000000000","51.269155374951710000000000","51.602779645819320000000000","30.755436000896660000000000"],
                        xaxis: "x3",
                        yaxis: "y3",
                        type: "scatter",
                        mode: "lines",
                        name: "S2. kFull",
                        line: { shape: "spline", smoothing: 0.65, color: "d3a0ffcc" },
                    },
                    {
                        x: ["03:19:00","03:20:00","03:21:00","03:22:00","03:23:00","03:24:00","03:25:00","03:26:00","03:27:00","03:28:00","03:29:00","03:30:00","03:31:00","03:32:00","03:33:00","03:34:00","03:35:00","03:36:00","03:37:00","03:38:00","03:39:00","03:40:00","03:41:00","03:42:00","03:43:00","03:44:00","03:45:00","03:46:00","03:47:00","03:48:00","03:49:00","03:50:00"],
                        y: ["2.941568850326683900000000","4.205131006184527666666670","7.981992851865635000000000","12.314840138752714333333300","16.456022697962342666666700","17.836583567788353666666700","19.080488403387798000000000","22.182053258640458000000000","24.840868779369930666666700","26.755439189255080666666700","26.513384872806474000000000","27.846508045765530666666700","25.687323486863891000000000","19.703277646599840666666700","15.664273568964122666666700","21.496213316348280333333300","41.324939027848674000000000","63.309710517789923333333300","82.238132744453660000000000","89.766358600514733333333300","91.751854351170340000000000","88.626143196402400000000000","87.514526805113433333333300","86.362487999595776666666700","87.029457834369160000000000","85.109393158506396666666700","78.202213127179023333333300","64.972096708475916666666700","51.339268250237401666666700","46.636252637512245000000000","48.028843783286751666666700","44.542457007222563333333300"],
                        xaxis: "x3",
                        yaxis: "y3",
                        type: "scatter",
                        mode: "lines",
                        name: "S2. dFull",
                        line: { shape: "spline", smoothing: 0.65, color: "fff0a0cc" },
                    }
                ];
                plot();
            }

            function plot() {
                Plotly.newPlot("plotDiv1", this.data, this.graphOptions["layout"]);
            }

            var stochasticFast = true;
            let stoPlot = document.querySelector(".cartesianlayer .x3y3 .plot .scatterlayer");
            let stoPlot2 = document.querySelectorAll(".cartesianlayer .x3y3 .plot .scatterlayer .trace");
            let stoTitle = document.querySelector(".infolayer .g-y3title text");

            stoPlot2.forEach(function (elem) {
                elem.addEventListener('mouseenter', (e) => {
                    //setTimeout(() => {
                    console.log("hey");
                    let hoverText = document.querySelector(".main-svg .hoverlayer .hovertext");
                    if (!stochasticFast) {
                        if (hoverText.childNodes[0].innerHTML === "Stoc. - kFast") {
                            hoverText.childNodes[0].style.visibility = "hidden";
                            hoverText.childNodes[1].style.visibility = "hidden";
                        }

                    } else {
                        stoTitle.innerHTML = "Stoch. - Fast";
                        if (hoverText.childNodes[0].innerHTML === "Stoc. - kFast") {
                            hoverText.childNodes[2].style.visibility = "hidden";
                            hoverText.childNodes[3].style.visibility = "hidden";
                        }
                    }
                    //}, 1000);
                });
            });

            /*stoPlot.addEventListener('mouseenter', (e) => {
                //setTimeout(() => {

                    let hoverText = document.querySelector(".main-svg .hoverlayer .hovertext");
                    if(!stochasticFast) {
                        if(hoverText.childNodes[0].innerHTML === "Stoc. - kFast") {
                            hoverText.childNodes[0].style.visibility = "hidden";
                            hoverText.childNodes[1].style.visibility = "hidden";
                        }

                    } else {
                        stoTitle.innerHTML= "Stoch. - Fast";
                        if(hoverText.childNodes[0].innerHTML === "Stoc. - kFast") {
                            hoverText.childNodes[2].style.visibility = "hidden";
                            hoverText.childNodes[3].style.visibility = "hidden";
                        }
                    }
                //}, 1000);
            });*/

            document.addEventListener('keydown', (e) => {

                // Only accept 'F'
                if (e.code !== 'KeyS') {
                    return;
                }

                /* Show only fast or full Stochastics on keypress */
                stochasticFast = !stochasticFast;

                if (!stochasticFast) {
                    stoPlot.childNodes[0].style.visibility = "hidden";
                    stoPlot.childNodes[1].style.visibility = "hidden";
                    stoPlot.childNodes[2].style.visibility = "visible";
                    stoPlot.childNodes[3].style.visibility = "visible";
                    stoTitle.innerHTML = "Stoch. - Full";
                } else {
                    stoPlot.childNodes[0].style.visibility = "visible";
                    stoPlot.childNodes[1].style.visibility = "visible";
                    stoPlot.childNodes[2].style.visibility = "hidden";
                    stoPlot.childNodes[3].style.visibility = "hidden";
                    stoTitle.innerHTML = "Stoch. - Fast";
                }
            });

            /* Only have fast k and slow d showing initially */
            stoPlot.childNodes[2].style.visibility = "hidden";
            stoPlot.childNodes[3].style.visibility = "hidden";
            stoTitle.innerHTML = "Stoch. - Fast";
        </script>
    </body>
</html>
