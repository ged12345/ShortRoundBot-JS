<!DOCTYPE html>
<html>
    <head>
        <script src="js/plotly-latest.min.js"></script>
        <meta charset="utf-8" />
        <title>SRBot | Polkadot</title>
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl"
            crossorigin="anonymous"
        />
    </head>

    <body style="background: #212529; overflow: hidden">
        <div id="plotDiv1" class="mt-3" style="width: 100%; height: 1000px">
            <!-- Plotly chart will be drawn inside this DIV -->
        </div>
        <script id="javascript">

            graphOptions = {
                filename: "coin-axes",
                fileopt: "overwrite",
                layout: {
                    plot_bgcolor:"#212529",
                    paper_bgcolor: "#212529",
                    title: {
                        text:"ShortRoundBot | Polkadot",
                        font: {
                            family: "Avenir Light",
                            size: 36,
                            color: "white"
                        },
                    },
                    legend: {
                        font: {
                            family: "Avenir Light",
                            size: 14,
                            color: "white",
                        },
                        visible: false,
                    },
                    grid: {
                        rows: 3,
                        columns: 1,
                        pattern: "independent",
                        roworder: "top to bottom",
                    },
                    xaxis: {
                        visible: true,
                        range: [0, 31],
                        rangeslider: {
                            visible: false
                        },
                        showgrid: false,
                        showticklabels: false,
                        color: "white",
                        gridcolor: "rgba(255,255,255,0.05)",
                    },
                    yaxis: {
                        autorange: false,
                        range: [29.500765577094185, 30.327337945814136],
                        domain: [0.5, 1],
                        type: 'linear',
                        color: "white",
                        showgrid: true,
                        gridcolor: "rgba(255,255,255,0.05)",
                    },
                    xaxis2: {
                        range: [0, 31] , zeroline: false, color: "white", gridcolor: "rgba(255,255,255,0.05)", showgrid: true, showticklabels: false,
                    },
                    yaxis2: {
                        range: [-2, 105], domain: [0.3, 0.45], zeroline: false, gridcolor: "rgba(255,255,255,0.05)", color: "white",
                        title : {
                            text: "RSI",
                            font: {
                                family: "Avenir Light",
                                size: 24,
                                color: "white"
                            },
                        },
                    },
                    xaxis3: {
                        range: [0, 31], color: "white", zeroline: false,
                        gridcolor: "rgba(255,255,255,0.05)",
                        },
                    yaxis3: {
                        range: [-2, 105], color: "white", domain: [0.1, 0.25],
                        gridcolor: "rgba(255,255,255,0.05)",
                        title : {
                            text: "Stoch. - F",
                            font: {
                                family: "Avenir Light",
                                size: 24,
                                color: "white"
                            },
                        },
                    },
                    shapes: [
                        {
                            type: "line",
                            xref: "paper",
                            yref: "y2",
                            x0: 0,
                            y0: 50.0,
                            x1: 1,
                            y1: 50.0,
                            line: {
                                color: "rgba(0, 0, 255, 0.4)",
                                width: 2,
                                dash: "dot",
                            },
                            opacity: 0.5,
                            layer: "below",
                        },
                        {
                            type: "line",
                            xref: "paper",
                            yref: "y2",
                            x0: 0,
                            y0: 66.66,
                            x1: 1,
                            y1: 66.66,
                            line: {
                                color: "rgb(255, 0, 0)",
                                width: 2,
                                dash: "dot",
                            },
                            opacity: 0.5,
                            layer: "below",
                        },
                        {
                            type: "line",
                            xref: "paper",
                            yref: "y2",
                            x0: 0,
                            y0: 33.33,
                            x1: 1,
                            y1: 33.33,
                            line: {
                                color: "rgb(255, 0, 0)",
                                width: 2,
                                dash: "dot",
                            },
                            opacity: 0.5,
                            layer: "below",
                        },
                        {
                            type: "line",
                            xref: "paper",
                            yref: "y3",
                            x0: 0,
                            y0: 20,
                            x1: 1,
                            y1: 20,
                            line: {
                                color: "rgb(255, 0, 0)",
                                width: 2,
                                dash: "dot",
                            },
                            opacity: 0.5,
                            layer: "below",
                        },
                        {
                            type: "line",
                            xref: "paper",
                            yref: "y3",
                            x0: 0,
                            y0: 80,
                            x1: 1,
                            y1: 80,
                            line: {
                                color: "rgb(255, 0, 0)",
                                width: 2,
                                dash: "dot",
                            },
                            opacity: 0.5,
                            layer: "below",
                        },
                        {
                            type: "line",
                            xref: "paper",
                            yref: "y3",
                            x0: 0,
                            y0: 50.0,
                            x1: 1,
                            y1: 50.0,
                            line: {
                                color: "rgba(0, 0, 255, 0.4)",
                                width: 2,
                                dash: "dot",
                            },
                            opacity: 0.5,
                            layer: "below",
                        },
                    ],
                },
            };

            init();

            function init(
            ) {

                this.data = [
                    {

                       x: ["15:01:00","15:02:00","15:03:00","15:04:00","15:05:00","15:06:00","15:07:00","15:08:00","15:09:00","15:10:00","15:11:00","15:12:00","15:13:00","15:14:00","15:15:00","15:16:00","15:17:00","15:18:00","15:19:00","15:20:00","15:21:00","15:22:00","15:23:00","15:24:00","15:25:00","15:26:00","15:27:00","15:28:00","15:29:00","15:30:00","15:31:00","15:32:00"],

                       close: ["29.91210000","29.79560000","29.67240000","29.62260000","29.60400000","29.74850000","29.78370000","29.97000000","29.96690000","30.01500000","29.92140000","30.07500000","30.12620000","30.12750000","30.04220000","29.96910000","30.00300000","29.94330000","29.90640000","30.07630000","30.20000000","30.20530000","30.17850000","30.20220000","30.23950000","30.20000000","30.16230000","30.20000000","30.23290000","29.99470000","30.04190000","30.00910000"],

                       high: ["29.92020000","29.88090000","29.75000000","29.62880000","29.62220000","29.75310000","29.78450000","29.97000000","30.01150000","30.01500000","29.99250000","30.07500000","30.12620000","30.13170000","30.09130000","29.96910000","30.00300000","29.95000000","29.92000000","30.07630000","30.22170000","30.23410000","30.23300000","30.24930000","30.26420000","30.24030000","30.17000000","30.20620000","30.26490000","30.21910000","30.04190000","30.02930000"],

                       increasing: {line: {color: '#336137', width: 1, dash: "solid"}},
                       decreasing: {line: {color: 'rgb(226, 65, 93)', width: 1}},

                       line: {color: 'rgba(31,119,180,1)'},

                       low: ["29.87090000","29.77240000","29.64570000","29.61010000","29.59800000","29.62260000","29.78370000","29.84200000","29.94920000","29.95050000","29.92140000","29.92210000","30.10580000","30.10570000","30.04220000","29.95010000","29.96720000","29.93000000","29.90480000","29.95340000","30.11800000","30.20530000","30.16560000","30.17920000","30.17560000","30.18930000","30.14410000","30.16740000","30.21430000","29.99470000","30.01510000","29.99120000"],

                       open: ["29.88260000","29.88090000","29.75000000","29.62880000","29.61000000","29.62260000","29.78450000","29.84200000","29.94920000","29.95060000","29.98700000","29.92210000","30.10580000","30.11520000","30.09130000","29.95010000","29.96920000","29.95000000","29.92000000","29.97260000","30.11800000","30.21000000","30.23200000","30.23410000","30.21060000","30.21220000","30.17000000","30.20620000","30.24770000","30.21910000","30.01510000","29.99120000"],
                       type: 'candlestick',
                       name: "Polkadot",
                       xaxis: 'x1',
                       yaxis: 'y1'
                    },
                    {
                        x: ["15:01:00","15:02:00","15:03:00","15:04:00","15:05:00","15:06:00","15:07:00","15:08:00","15:09:00","15:10:00","15:11:00","15:12:00","15:13:00","15:14:00","15:15:00","15:16:00","15:17:00","15:18:00","15:19:00","15:20:00","15:21:00","15:22:00","15:23:00","15:24:00","15:25:00","15:26:00","15:27:00","15:28:00","15:29:00","15:30:00","15:31:00","15:32:00"],
                        y: ["29.85263809523810600000","29.86684444444444300000","29.87417460317460200000","29.87943809523809000000","29.87949365079365000000","29.87600476190476300000","29.87307460317460400000","29.87832698412698200000","29.88999841269840700000","29.89740317460317300000","29.90154761904763000000","29.90825396825397700000","29.91720000000001000000","29.92516349206349300000","29.92825238095238700000","29.92415555555555800000","29.92367460317460700000","29.91708888888889000000","29.90933968253967700000","29.90817777777777700000","29.91968253968253300000","29.93462698412698200000","29.95253492063491000000","29.97733809523809300000","30.00619206349206000000","30.03484920634920400000","30.05631269841270000000","30.07570476190476000000","30.09046825396825000000","30.09492698412697800000","30.09680634920634300000","30.09989047619047400000"],
                        xaxis: "x1",
                        yaxis: "y1",
                        type: "scatter",
                        mode: "lines",
                        name: "Boll. MA",
                        line: { shape: "spline", smoothing: 0.35,color: "rgba(160, 255, 160, 0.6)", dash: "dot", },
                    },
                    {
                        x: ["15:01:00","15:02:00","15:03:00","15:04:00","15:05:00","15:06:00","15:07:00","15:08:00","15:09:00","15:10:00","15:11:00","15:12:00","15:13:00","15:14:00","15:15:00","15:16:00","15:17:00","15:18:00","15:19:00","15:20:00","15:21:00","15:22:00","15:23:00","15:24:00","15:25:00","15:26:00","15:27:00","15:28:00","15:29:00","15:30:00","15:31:00","15:32:00"],
                        y: ["30.20451061338202700000","30.18715215902238000000","30.17649056619441700000","30.15022930682389600000","30.15880994465804200000","30.16086517200527300000","30.16082653747150700000","30.16735316078517200000","30.17043759628659700000","30.18230666639853000000","30.18627866722453500000","30.20202223393783600000","30.22468215146475000000","30.24441622612949500000","30.24911679450129800000","30.24121674137867000000","30.23996388005049000000","30.22611566608618000000","30.21106248274421000000","30.21217110686080800000","30.24715926458290500000","30.28261549229077000000","30.30804900925994000000","30.32272018041609500000","30.32733794581413600000","30.30756758243167700000","30.29928517560137600000","30.29076162956197000000","30.30848633514231600000","30.31013955362055500000","30.31038377716263800000","30.30268798050229000000"],
                        xaxis: "x1",
                        yaxis: "y1",
                        type: "scatter",
                        mode: "lines",
                        name: "Boll. U",
                        line: { shape: "spline", smoothing: 0.35,color: "rgba(160, 255, 160, 0.7)", dash: "dashed", },
                    },
                    {
                        x: ["15:01:00","15:02:00","15:03:00","15:04:00","15:05:00","15:06:00","15:07:00","15:08:00","15:09:00","15:10:00","15:11:00","15:12:00","15:13:00","15:14:00","15:15:00","15:16:00","15:17:00","15:18:00","15:19:00","15:20:00","15:21:00","15:22:00","15:23:00","15:24:00","15:25:00","15:26:00","15:27:00","15:28:00","15:29:00","15:30:00","15:31:00","15:32:00"],
                        y: ["29.50076557709418500000","29.54653672986650600000","29.57185864015478700000","29.60864688365228400000","29.60017735692925500000","29.59114435180425300000","29.58532266887770000000","29.58930080746879200000","29.60955922911021800000","29.61249968280781500000","29.61681657087072500000","29.61448570257011800000","29.60971784853526500000","29.60591075799749200000","29.60738796740347600000","29.60709436973244700000","29.60738532629872600000","29.60806211169160200000","29.60761688233514400000","29.60418444869474500000","29.59220581478216000000","29.58663847596319500000","29.59702083200988200000","29.63195601006009000000","29.68504618116998000000","29.76213083026673000000","29.81334022122402400000","29.86064789424755000000","29.87245017279418500000","29.87971441463340000000","29.88322892125004800000","29.89709297187865600000"],
                        xaxis: "x1",
                        yaxis: "y1",
                        type: "scatter",
                        mode: "lines",
                        name: "Boll. U",
                        line: { shape: "spline", smoothing: 0.35,color: "rgba(160, 255, 160, 0.7)", dash: "dashed", },
                    },
                    {
                        x: ["15:01:00","15:02:00","15:03:00","15:04:00","15:05:00","15:06:00","15:07:00","15:08:00","15:09:00","15:10:00","15:11:00","15:12:00","15:13:00","15:14:00","15:15:00","15:16:00","15:17:00","15:18:00","15:19:00","15:20:00","15:21:00","15:22:00","15:23:00","15:24:00","15:25:00","15:26:00","15:27:00","15:28:00","15:29:00","15:30:00","15:31:00","15:32:00"],
                        y: ["52.8124","45.8716","39.8997","37.7598","36.9624","46.4273","48.4575","57.6130","57.4302","59.5736","53.8876","60.5430","62.4867","62.5371","57.1089","52.8734","54.5567","51.0955","49.0253","57.5531","62.4753","62.6751","60.9098","61.9309","63.5450","60.6141","57.8706","59.8287","61.5100","46.3762","49.0512","47.2859"],
                        xaxis: "x2",
                        yaxis: "y2",
                        type: "scatter",
                        mode: "lines",
                        name: "RSI",
                        line: { shape: "spline", smoothing: 0.65,color: "rgba(160, 255, 160, 0.8)" },
                    },
                    {
                        x: ["15:01:00","15:02:00","15:03:00","15:04:00","15:05:00","15:06:00","15:07:00","15:08:00","15:09:00","15:10:00","15:11:00","15:12:00","15:13:00","15:14:00","15:15:00","15:16:00","15:17:00","15:18:00","15:19:00","15:20:00","15:21:00","15:22:00","15:23:00","15:24:00","15:25:00","15:26:00","15:27:00","15:28:00","15:29:00","15:30:00","15:31:00","15:32:00"],
                        y: ["54.327054327054327054327100","18.307426597582037996545800","6.156329259857044039658750","2.663541444704879607926700","1.246364769422517656834230","31.262982966348151225592000","38.574989613626921479019500","77.274615704196094723722500","76.630660573327793934358100","86.622351474864977149979200","67.179061071873701703365200","99.085999169090153718321600","100.000000000000000000000000","99.213041034288926363125400","83.230279183061645118980700","69.533445756042720629567200","75.885328836424957841484000","64.699269252388982574480000","55.745433117265763111373000","84.080459770114942528735600","94.284961811956808006320800","91.254175523838445186759800","83.115699969632553902216800","86.328011611030478955007300","93.127434613244296048970500","82.136894824707846410684500","71.647189760712298274902600","82.136894824707846410684500","91.113579561232990835878900","24.965287420161066370452700","38.072757567342404887531200","28.964176617606220494307100"],
                        xaxis: "x3",
                        yaxis: "y3",
                        type: "scatter",
                        mode: "lines",
                        name: "S1. kFast",
                        line: { shape: "spline", smoothing: 0.65,color: "rgba(255, 160, 160, 0.8)" },
                    },
                    {
                        x: ["15:01:00","15:02:00","15:03:00","15:04:00","15:05:00","15:06:00","15:07:00","15:08:00","15:09:00","15:10:00","15:11:00","15:12:00","15:13:00","15:14:00","15:15:00","15:16:00","15:17:00","15:18:00","15:19:00","15:20:00","15:21:00","15:22:00","15:23:00","15:24:00","15:25:00","15:26:00","15:27:00","15:28:00","15:29:00","15:30:00","15:31:00","15:32:00"],
                        y: ["66.903266903266904351442300","42.129411559463374665515300","26.263603394831137013219600","9.042432434047986869308900","3.355411824661480385611400","11.724296393491849475197300","23.694779116465863059673200","49.037529428057054907907700","64.160088630383604644786000","80.175875917462955716659700","76.810691040022153901121700","84.295803905276274572774000","88.755020080321286666666700","99.433013401126362121041700","94.147773405783521706327000","83.992255324464426876522300","76.216351258509772613828000","70.039347948285554191493300","65.443343735359904370457700","68.175054046589897509578700","78.036951566445836002107000","89.873199035303395062253300","89.551612435142597967405700","86.899295701500492985002300","87.523715397969112016323700","87.197447016327538803561700","82.303839732888146091634300","78.640326470042665470228300","81.632554715551046945293000","66.071920602033972123484300","51.383874849578823295843700","30.667407201703231831435700"],
                        xaxis: "x3",
                        yaxis: "y3",
                        type: "scatter",
                        mode: "lines",
                        name: "S1. dSlow",
                        line: { shape: "spline", smoothing: 0.65 , color: "rgba(160, 160, 255, 0.8)" },
                    },
                    {
                        x: ["15:01:00","15:02:00","15:03:00","15:04:00","15:05:00","15:06:00","15:07:00","15:08:00","15:09:00","15:10:00","15:11:00","15:12:00","15:13:00","15:14:00","15:15:00","15:16:00","15:17:00","15:18:00","15:19:00","15:20:00","15:21:00","15:22:00","15:23:00","15:24:00","15:25:00","15:26:00","15:27:00","15:28:00","15:29:00","15:30:00","15:31:00","15:32:00"],
                        y: ["66.903266903266910000000000","42.129411559463380000000000","26.263603394831136000000000","9.042432434047987000000000","3.355411824661480600000000","11.724296393491850000000000","23.694779116465863000000000","49.037529428057056000000000","64.160088630383600000000000","80.175875917462960000000000","76.810691040022150000000000","84.295803905276270000000000","88.755020080321290000000000","99.433013401126360000000000","94.147773405783520000000000","83.992255324464420000000000","76.216351258509770000000000","70.039347948285550000000000","65.443343735359900000000000","68.175054046589890000000000","78.036951566445840000000000","89.873199035303400000000000","89.551612435142600000000000","86.899295701500490000000000","87.523715397969110000000000","87.197447016327540000000000","82.303839732888150000000000","78.640326470042670000000000","81.632554715551050000000000","66.071920602033970000000000","51.383874849578824000000000","30.667407201703230000000000"],
                        xaxis: "x3",
                        yaxis: "y3",
                        type:"scatter",
                        mode: "lines",
                        name: "S2. kFull",
                        line: { shape: "spline", smoothing: 0.65,color: "d3a0ffcc" },
                    },
                    {
                        x: ["15:01:00","15:02:00","15:03:00","15:04:00","15:05:00","15:06:00","15:07:00","15:08:00","15:09:00","15:10:00","15:11:00","15:12:00","15:13:00","15:14:00","15:15:00","15:16:00","15:17:00","15:18:00","15:19:00","15:20:00","15:21:00","15:22:00","15:23:00","15:24:00","15:25:00","15:26:00","15:27:00","15:28:00","15:29:00","15:30:00","15:31:00","15:32:00"],
                        y: ["81.693216171041640000000000","63.471053853317196666666700","45.098760619187142000000000","25.811815796114167666666700","12.887149217846867866666700","8.040713550733772533333330","12.924829111539731200000000","28.152201646004923000000000","45.630799058302173000000000","64.457831325301205333333300","73.715551862622903333333300","80.427456954253793333333300","83.287171675206570000000000","90.827945795574640000000000","94.111935629077056666666700","92.524347377124766666666700","84.785459996252570000000000","76.749318177086580000000000","70.566347647385073333333300","67.885915243411780000000000","70.551783116131876666666700","78.695068216113043333333300","85.820587678963946666666700","88.774702390648830000000000","87.991541178204066666666700","87.206819371932380000000000","85.675000715728266666666700","82.713871073086120000000000","80.858906972827290000000000","75.448267262542563333333300","66.362783389054614666666700","49.374400884438674666666700"],
                        xaxis: "x3",
                        yaxis: "y3",
                        type: "scatter",
                        mode: "lines",
                        name: "S2. dFull",
                        line: { shape: "spline", smoothing: 0.65 , color: "fff0a0cc" },
                    }
                ];
                plot();
            }

            function plot() {
                Plotly.newPlot("plotDiv1", this.data, this.graphOptions["layout"]);
            }

            var stochasticFast = true;
            let stoPlot = document.querySelector(".cartesianlayer .x3y3 .plot .scatterlayer");
            let stoPlot2 = document.querySelectorAll(".cartesianlayer .x3y3 .plot .scatterlayer .trace");
            let stoTitle = document.querySelector(".infolayer .g-y3title text");

            stoPlot2.forEach(function(elem) {
                elem.addEventListener('mouseenter', (e) => {
                    //setTimeout(() => {
                        console.log("hey");
                        let hoverText = document.querySelector(".main-svg .hoverlayer .hovertext");
                        if(!stochasticFast) {
                            if(hoverText.childNodes[0].innerHTML === "Stoc. - kFast") {
                                hoverText.childNodes[0].style.visibility = "hidden";
                                hoverText.childNodes[1].style.visibility = "hidden";
                            }

                        } else {
                            stoTitle.innerHTML= "Stoch. - Fast";
                            if(hoverText.childNodes[0].innerHTML === "Stoc. - kFast") {
                                hoverText.childNodes[2].style.visibility = "hidden";
                                hoverText.childNodes[3].style.visibility = "hidden";
                            }
                        }
                    //}, 1000);
                });
            });

            /*stoPlot.addEventListener('mouseenter', (e) => {
                //setTimeout(() => {
                    console.log("hey");
                    let hoverText = document.querySelector(".main-svg .hoverlayer .hovertext");
                    if(!stochasticFast) {
                        if(hoverText.childNodes[0].innerHTML === "Stoc. - kFast") {
                            hoverText.childNodes[0].style.visibility = "hidden";
                            hoverText.childNodes[1].style.visibility = "hidden";
                        }

                    } else {
                        stoTitle.innerHTML= "Stoch. - Fast";
                        if(hoverText.childNodes[0].innerHTML === "Stoc. - kFast") {
                            hoverText.childNodes[2].style.visibility = "hidden";
                            hoverText.childNodes[3].style.visibility = "hidden";
                        }
                    }
                //}, 1000);
            });*/

            document.addEventListener('keydown', (e) => {

                // Only accept 'F'
                if(e.code !== 'KeyS') {
                    return;
                }

                /* Show only fast or full Stochastics on keypress */
                stochasticFast = !stochasticFast;

                if(!stochasticFast) {
                    stoPlot.childNodes[0].style.visibility = "hidden";
                    stoPlot.childNodes[1].style.visibility = "hidden";
                    stoPlot.childNodes[2].style.visibility = "visible";
                    stoPlot.childNodes[3].style.visibility = "visible";
                    stoTitle.innerHTML = "Stoch. - Full";
                } else {
                    stoPlot.childNodes[0].style.visibility = "visible";
                    stoPlot.childNodes[1].style.visibility = "visible";
                    stoPlot.childNodes[2].style.visibility = "hidden";
                    stoPlot.childNodes[3].style.visibility = "hidden";
                    stoTitle.innerHTML= "Stoch. - Fast";
                }
            });

            /* Only have fast k and slow d showing initially */
            stoPlot.childNodes[2].style.visibility = "hidden";
            stoPlot.childNodes[3].style.visibility = "hidden";
            stoTitle.innerHTML= "Stoch. - Fast";
        </script>
    </body>
</html>
